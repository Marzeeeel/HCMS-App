/*! For license information please see main.5e67fa26.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case E:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,Ce=null;function Ee(e){if(e=ki(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Se(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==xe||null!==Ce)&&(Ne(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){De=!1}function je(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,a,o,s,u){Le=!1,Me=null,je.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,xt,Ct,Et,St=!1,Tt=[],It=null,Nt=null,Rt=null,Pt=new Map,At=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Rt&&Ft(Rt)&&(Rt=null),Pt.forEach(Ut),At.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==Rt&&zt(Rt,e),Pt.forEach(t),At.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var Bt=_.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&bt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=be(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),hn=M({},ln,{view:0,detail:0}),fn=an(hn),dn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},hn,{relatedTarget:0})),yn=an(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),_n=an(M({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Cn}var Sn=M({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),In=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=an(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Pn),Dn=[9,13,27,32],On=c&&"CompositionEvent"in window,jn=null;c&&"documentMode"in document&&(jn=document.documentMode);var Ln=c&&"TextEvent"in window&&!jn,Mn=c&&(!On||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(_i(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,be(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},xr={},Cr={};function Er(e){if(xr[e])return xr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return xr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Ir=Er("animationstart"),Nr=Er("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Rr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Or=Pr[Dr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(Sr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var c=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,l),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=be(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Sr:case Tr:case Ir:u=yn;break;case Nr:u=Rn;break;case"scroll":u=fn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Ae(p,f))&&c.push(Wr(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(h=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:_i(u),d=null==l?s:_i(l),(s=new c(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,v=c),h=v,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=f;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==h&&Qr(o,h,l,c,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Hn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?_i(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,_r(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Kr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ae(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Ae(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var wi=[],xi=-1;function Ci(e){return{current:e}}function Ei(e){0>xi||(e.current=wi[xi],wi[xi]=null,xi--)}function Si(e,t){xi++,wi[xi]=e.current,e.current=t}var Ti={},Ii=Ci(Ti),Ni=Ci(!1),Ri=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ni),Ei(Ii)}function Oi(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Si(Ii,t),Si(Ni,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ii.current,Si(Ii,e),Si(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ji(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ii),Si(Ii,e)):Ei(Ni),Si(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,qi),i}finally{kt=t,Vi=!1}}return null}var Bi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){Bi[Hi++]=Ki,Bi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Bi[--Hi],Bi[Hi]=null,Ki=Bi[--Hi],Bi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=_.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ci(null),ga=null,ka=null,_a=null;function ba(){_a=ka=ga=null}function wa(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ga=e,_a=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function ja(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=M({},h,f);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=o,e.lanes=o,e.memoizedState=h}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nl(t,e,i,r),ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nl(t,e,i,r),ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nl(t,e,r,n),ja(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ba(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ai(t)?Ri:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ai(t)?Ri:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=jl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ml(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case w:return(t=Fl(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=jl(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:h(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return h(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,h=m}if(v===s.length)return n(i,h),ia&&Ji(i,v),l;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===c?l=h:c.sibling=h,c=h);return ia&&Ji(i,v),l}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,s,u,l){var c=j(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===h?c=k:h.sibling=k,h=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=f(i,g.value,l))&&(s=o(g,s,m),null===h?c=g:h.sibling=g,h=g);return ia&&Ji(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===h?c=g:h.sibling=g,h=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===A&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=jl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ol(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(o,r.mode,u)).return=r,r=a}return s(r);case A:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(j(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ml(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ci(Ja),eo=Ci(Ja),to=Ci(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Si(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Ci(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=_.ReactCurrentDispatcher,fo=_.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,_o=0,bo=0;function wo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,_o=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,ho.current=ls,e=n(r,i)}while(ko)}if(ho.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==_o;return _o=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var h=c.lane;if((po&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,vo.lanes|=h,Lu|=h}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Lu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ao(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,_s=!0),r=r.queue,Ho(jo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function jo(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&nl(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function Bo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return qo(2048,8,e,t)}function Wo(e,t){return qo(4,2,e,t)}function Ko(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Lu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{kt=n,fo.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(jo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),fs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=_.ReactCurrentOwner,_s=!1;function bs(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=Eo(),null===e||_s?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Al(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Du,Au),Au|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Du,Au),Au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Du,Au),Au|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Du,Au),Au|=r;return bs(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ai(n)?Ri:Ii.current;return a=Pi(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=Eo(),null===e||_s?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Ai(n)){var a=!0;Li(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Bs(e,t),Ba(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ea(l):l=Pi(t,l=Ai(n)?Ri:Ii.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ha(t,o,r,l),Ra=!1;var f=t.memoizedState;o.state=f,Ma(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ni.current||Ra?("function"===typeof c&&(Va(t,n,c,r),u=t.memoizedState),(s=Ra||qa(t,n,s,r,f,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Pi(t,u=Ai(n)?Ri:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&Ha(t,o,r,u),Ra=!1,f=t.memoizedState,o.state=f,Ma(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Ni.current||Ra?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(l=Ra||qa(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var As,Ds,Os,js={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ll(u,i,0,null),e=jl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=js,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(o=jl(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=js,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nl(r,e,i,-1))}return vl(),Us(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dl(r,s):(s=jl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=js,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ai(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,As(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&k(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Ks(t),null;case 10:return wa(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Au)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Ai(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,$s=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Cl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,t);case 6:var r=cu,i=hu;cu=null,fu(e,t,n),hu=i,null!==(cu=r)&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=hu,cu=n.stateNode.containerInfo,hu=!0,fu(e,t,n),cu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!$s&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cl(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,fu(e,t,n),$s=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,hu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===cu)throw Error(a(160));du(o,s,i),cu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Cl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Cl(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Cl(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Cl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var c=ke(u,o);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):k(i,h,f,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Cl(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Cl(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Cl(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Xe())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||h,vu(t,e),$s=c):vu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Js=e,h=e.child;null!==h;){for(f=Js=h;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cl(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){bu(f);continue}}null!==p?(p.return=d,Js=p):bu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){Cl(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Cl(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Cl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Ys;var l=$s;if(Ys=o,($s=u)&&!l)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?wu(i):null!==u?(u.return=o,Js=u):wu(i);for(;null!==a;)Js=a,ku(a,t,n),a=a.sibling;Js=i,Ys=s,$s=l}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):_u(e)}}function _u(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&qt(f)}}}break;default:throw Error(a(163))}$s||512&t.flags&&iu(t)}catch(d){Cl(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function bu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Cl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Cl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Cl(t,o,u)}}}catch(u){Cl(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var xu,Cu=Math.ceil,Eu=_.ReactCurrentDispatcher,Su=_.ReactCurrentOwner,Tu=_.ReactCurrentBatchConfig,Iu=0,Nu=null,Ru=null,Pu=0,Au=0,Du=Ci(0),Ou=0,ju=null,Lu=0,Mu=0,Fu=0,Uu=null,Vu=null,zu=0,qu=1/0,Bu=null,Hu=!1,Wu=null,Ku=null,Gu=!1,Qu=null,Yu=0,$u=0,Xu=null,Ju=-1,Zu=0;function el(){return 0!==(6&Iu)?Xe():-1!==Ju?Ju:Ju=Xe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$u)throw $u=0,Xu=null,Error(a(185));yt(e,n,r),0!==(2&Iu)&&e===Nu||(e===Nu&&(0===(2&Iu)&&(Mu|=n),4===Ou&&sl(e,Pu)),rl(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(qu=Xe()+500,Ui&&qi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Nu?Pu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(ul.bind(null,e)):zi(ul.bind(null,e)),oi((function(){0===(6&Iu)&&qi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ju=-1,Zu=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var r=ft(e,e===Nu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Iu;Iu|=2;var o=pl();for(Nu===e&&Pu===t||(Bu=null,qu=Xe()+500,fl(e,t));;)try{gl();break}catch(u){dl(e,u)}ba(),Eu.current=o,Iu=i,null!==Ru?t=0:(Nu=null,Pu=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=ju,fl(e,0),sl(e,r),rl(e,Xe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=ju,fl(e,0),sl(e,r),rl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bl(e,Vu,Bu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=zu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bl.bind(null,e,Vu,Bu),t);break}bl(e,Vu,Bu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(bl.bind(null,e,Vu,Bu),r);break}bl(e,Vu,Bu);break;default:throw Error(a(329))}}}return rl(e,Xe()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Vu,Vu=n,null!==t&&ol(t)),e}function ol(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sl(e,t){for(t&=~Fu,t&=~Mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Iu))throw Error(a(327));wl();var t=ft(e,0);if(0===(1&t))return rl(e,Xe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=ju,fl(e,0),sl(e,t),rl(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bl(e,Vu,Bu),rl(e,Xe()),null}function ll(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(qu=Xe()+500,Ui&&qi())}}function cl(e){null!==Qu&&0===Qu.tag&&0===(6&Iu)&&wl();var t=Iu;Iu|=1;var n=Tu.transition,r=kt;try{if(Tu.transition=null,kt=1,e)return e()}finally{kt=r,Tu.transition=n,0===(6&(Iu=t))&&qi()}}function hl(){Au=Du.current,Ei(Du)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ni),Ei(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:wa(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Nu=e,Ru=e=Dl(e.current,null),Pu=Au=t,Ou=0,ju=null,Fu=Mu=Lu=0,Vu=Uu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dl(e,t){for(;;){var n=Ru;try{if(ba(),ho.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,_o=0,Su.current=null,null===n||null===n.return){Ou=1,ju=t,Ru=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Pu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Ou&&(Ou=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}_l(n)}catch(_){t=_,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function pl(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vl(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Nu||0===(268435455&Lu)&&0===(268435455&Mu)||sl(Nu,Pu)}function ml(e,t){var n=Iu;Iu|=2;var r=pl();for(Nu===e&&Pu===t||(Bu=null,fl(e,t));;)try{yl();break}catch(i){dl(e,i)}if(ba(),Iu=n,Eu.current=r,null!==Ru)throw Error(a(261));return Nu=null,Pu=0,Ou}function yl(){for(;null!==Ru;)kl(Ru)}function gl(){for(;null!==Ru&&!Ye();)kl(Ru)}function kl(e){var t=xu(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?_l(e):Ru=t,Su.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Au)))return void(Ru=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Ou=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Ou&&(Ou=5)}function bl(e,t,n){var r=kt,i=Tu.transition;try{Tu.transition=null,kt=1,function(e,t,n,r){do{wl()}while(null!==Qu);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Ru=Nu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nl(tt,(function(){return wl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=kt;kt=1;var u=Iu;Iu|=4,Su.current=null,function(e,t){if(ei=Ht,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(b){Cl(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gu(n,e,i),$e(),Iu=u,kt=s,Tu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,Yu=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Yu)&&0!==e.tag&&wl(),0!==(1&(o=e.pendingLanes))?e===Xu?$u++:($u=0,Xu=e):$u=0,qi()}(e,t,n,r)}finally{Tu.transition=i,kt=r}return null}function wl(){if(null!==Qu){var e=_t(Yu),t=Tu.transition,n=kt;try{if(Tu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nu(8,h,o)}var f=h.child;if(null!==f)f.return=h,Js=f;else for(;null!==Js;){var d=(h=Js).sibling,p=h.return;if(au(h),h===c){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var k=e.current;for(Js=k;null!==Js;){var _=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Js=_;else e:for(s=k;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(w){Cl(u,u.return,w)}if(u===s){Js=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,Js=b;break e}Js=u.return}}if(Iu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{kt=n,Tu.transition=t}}return!1}function xl(e,t,n){e=Oa(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Cl(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Oa(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Pu&n)===n&&(4===Ou||3===Ou&&(130023424&Pu)===Pu&&500>Xe()-zu?fl(e,0):Fu|=n),rl(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Na(e,t))&&(yt(e,t,n),rl(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sl(e,n)}function Nl(e,t){return Ge(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Rl(e,t,n,r)}function Al(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Al(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return jl(n.children,i,o,t);case C:s=8,i|=8;break;case E:return(e=Pl(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Pl(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Pl(19,n,t,i)).elementType=R,e.lanes=o,e;case D:return Ll(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case I:s=11;break e;case P:s=14;break e;case A:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function jl(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ml(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,a,o,s,u){return e=new Ul(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ql(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return ji(e,n,t)}return t}function Bl(e,t,n,r,i,a,o,s,u){return(e=Vl(n,r,!0,e,0,a,0,s,u)).context=ql(null),n=e.current,(a=Da(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function Hl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=ql(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nl(e,i,o,a),ja(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Si(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Al(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Aa(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Ms(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Ea(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Bs(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,Ca(t,n),Ba(t,r,i),Wa(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=Bl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Vl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),cl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}$l.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},$l.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Hl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(gt(t,1|n),rl(t,Xe()),0===(6&Iu)&&(qu=Xe()+500,qi()))}break;case 13:cl((function(){var t=Na(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Gl(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nl(t,e,134217728,el());Gl(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),n=Na(e,t);if(null!==n)nl(n,e,t,el());Gl(e,t)}},Ct=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,Ne=cl;var tc={usingClientEntryPoint:!1,Events:[ki,_i,bi,Se,Te,ll]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return zl(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var _=k.prototype=new g;_.constructor=k,v(_,y.prototype),_.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",b(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function b(e){if(m=!1,_(e),!v)if(null!==r(l))v=!0,D(w);else{var t=r(c);null!==t&&O(b,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(_(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!N());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),_(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&O(b,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,C=!1,E=null,S=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function R(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?x():(C=!1,E=null)}}else C=!1}if("function"===typeof k)x=function(){k(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=R,x=function(){A.postMessage(null)}}else x=function(){y(R,0)};function D(e){E=e,C||(C=!0,x())}function O(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(S),S=-1):m=!0,O(b,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,D(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e,t=n(791),r=n.t(t,2),i=n(250);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function h(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function _(e){var t=y();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function b(e,t,n){return b=y()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i},b.apply(null,arguments)}function w(e){var t="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,m(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},w(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var C,E="popstate";function S(e){return{usr:e.state,key:e.key}}function T(e,t,n,r){return void 0===n&&(n=null),x({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function I(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function N(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:I(e);return new URL(n,t)}function P(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,l=void 0!==u&&u,c=s.history,h=e.Pop,f=null;function d(){h=e.Pop,f&&f({action:h,location:p.location})}var p={get action(){return h},get location(){return t(s,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(E,d),f=e,function(){s.removeEventListener(E,d),f=null}},createHref:function(e){return n(s,e)},encodeLocation:function(e){var t=R(I(e));return x({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(t,n){h=e.Push;var i=T(p.location,t,n);r&&r(i,t);var a=S(i),o=p.createHref(i);try{c.pushState(a,"",o)}catch(Jv){s.location.assign(o)}l&&f&&f({action:h,location:p.location})},replace:function(t,n){h=e.Replace;var i=T(p.location,t,n);r&&r(i,t);var a=S(i),o=p.createHref(i);c.replaceState(a,"",o),l&&f&&f({action:h,location:p.location})},go:function(e){return c.go(e)}};return p}function A(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?N(t):t).pathname||"/",n);if(null==r)return null;var i=D(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=M(i[o],U(r));return a}function D(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(z(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=K([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(z(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),D(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));var O=/^:\w+$/,j=function(e){return"*"===e};function L(e,t){var n=e.split("/"),r=n.length;return n.some(j)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!j(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function M(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=F({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var h=s.route;a.push({params:r,pathname:K([i,c.pathname]),pathnameBase:G(K([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=K([i,c.pathnameBase]))}return a}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);q("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],l=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),h=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Jv){return q(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Jv+")."),e}}(c[n]||"",t),e}),{});return{params:h,pathname:u,pathnameBase:l,pattern:e}}function U(e){try{return decodeURI(e)}catch(Jv){return q(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Jv+")."),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function z(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function q(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function B(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function H(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function W(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=N(e):(z(!(i=x({},e)).pathname||!i.pathname.includes("?"),B("?","pathname","search",i)),z(!i.pathname||!i.pathname.includes("#"),B("#","pathname","hash",i)),z(!i.search||!i.search.includes("#"),B("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?N(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Q(a),hash:Y(s)}}(i,a),h=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!f||(c.pathname+="/"),c}var K=function(e){return e.join("/").replace(/\/\/+/g,"/")},G=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Y=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},$=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return d(n)}(w(Error));var X=d((function e(t,n,r){l(this,e),this.status=t,this.statusText=n||"",this.data=r}));function J(e){return e instanceof X}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Z=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(u(Z)));function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}var te="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ne=t.useState,re=t.useEffect,ie=t.useLayoutEffect,ae=t.useDebugValue;function oe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!te(n,r)}catch(Jv){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var se=t.createContext(null);var ue=t.createContext(null);var le=t.createContext(null);var ce=t.createContext(null);var he=t.createContext(null);var fe=t.createContext(null);var de=t.createContext({outlet:null,matches:[]});var pe=t.createContext(null);function ve(){return null!=t.useContext(fe)}function me(){return ve()||z(!1),t.useContext(fe).location}function ye(){ve()||z(!1);var e=t.useContext(he),n=e.basename,r=e.navigator,i=t.useContext(de).matches,a=me().pathname,o=JSON.stringify(H(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=W(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:K([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}function ge(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(de).matches,a=me().pathname,o=JSON.stringify(H(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return W(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function ke(){var e=function(){var e,n=t.useContext(pe),r=Ee(be.UseRouteError),i=t.useContext(de),a=i.matches[i.matches.length-1];if(n)return n;return i||z(!1),!a.route.id&&z(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),n=J(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var _e,be,we=function(e){v(r,e);var n=_(r);function r(e){var t;return l(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return d(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(pe.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function xe(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(se);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(de.Provider,{value:n},i)}function Ce(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||z(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,l=r?o.route.errorElement||t.createElement(ke,null):null,c=function(){return t.createElement(xe,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,s+1))}},u?l:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(we,{location:r.location,component:l,error:u,children:c()}):c()}),null)}function Ee(e){var n=t.useContext(le);return n||z(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(_e||(_e={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(be||(be={}));var Se;function Te(e){z(!1)}function Ie(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,l=void 0===u?e.Pop:u,c=n.navigator,h=n.static,f=void 0!==h&&h;ve()&&z(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof s&&(s=N(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,_=v.hash,b=void 0===_?"":_,w=v.state,x=void 0===w?null:w,C=v.key,E=void 0===C?"default":C,S=t.useMemo((function(){var e=V(y,d);return null==e?null:{pathname:e,search:k,hash:b,state:x,key:E}}),[d,y,k,b,x,E]);return null==S?null:t.createElement(he.Provider,{value:p},t.createElement(fe.Provider,{children:o,value:{location:S,navigationType:l}}))}function Ne(n){var r=n.children,i=n.location,a=t.useContext(ue);return function(n,r){ve()||z(!1);var i,a=t.useContext(le),o=t.useContext(de).matches,s=o[o.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,me());if(r){var h,f="string"===typeof r?N(r):r;"/"===l||(null==(h=f.pathname)?void 0:h.startsWith(l))||z(!1),i=f}else i=c;var d=i.pathname||"/",p=A(n,{pathname:"/"===l?d:d.slice(l.length)||"/"}),v=Ce(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:K([l,e.pathname]),pathnameBase:"/"===e.pathnameBase?l:K([l,e.pathnameBase])})})),o,a||void 0);return r&&v?t.createElement(fe.Provider,{value:{location:ee({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},v):v}(a&&!r?a.router.routes:Pe(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Se||(Se={}));var Re=new Promise((function(){}));t.Component;function Pe(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Te&&z(!1),e.props.index&&e.props.children&&z(!1);var a=[].concat(u(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Pe(e.props.children,a)),r.push(o)}else r.push.apply(r,Pe(e.props.children,n))})),r}function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function De(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Oe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function je(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),P((function(e,t){var n=e.location;return T("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:I(t)}),null,n)));var u=o.current,l=s(t.useState({action:u.action,location:u.location}),2),c=l[0],h=l[1];return t.useLayoutEffect((function(){return u.listen(h)}),[u]),t.createElement(Ie,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:u})}var Le=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,l=e.to,c=e.preventScrollReset,h=De(e,Oe),f=function(e,n){var r=(void 0===n?{}:n).relative;ve()||z(!1);var i=t.useContext(he),a=i.basename,o=i.navigator,s=ge(e,{relative:r}),u=s.hash,l=s.pathname,c=s.search,h=l;return"/"!==a&&(h="/"===l?a:K([a,l])),o.createHref({pathname:h,search:c,hash:u})}(l,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=ye(),c=me(),h=ge(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:I(c)===I(h);l(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[c,l,h,a,o,i,e,s,u])}(l,{replace:o,state:s,target:u,preventScrollReset:c,relative:i});return t.createElement("a",Ae({},h,{href:f,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:u}))}));var Me,Fe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Me||(Me={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Fe||(Fe={}));var Ue="/main",Ve="/login",ze="/register",qe="/about",Be="/monitor",He="/data-tanaman",We="/cek-tanaman",Ke="/kontak",Ge="/suhu-ruang",Qe="/kelembapan",Ye="/ketinggian-air",$e="/tanaman-hidroponik",Xe="/selada",Je="/sawi",Ze="/pakcoy",et="/tomat",tt=n(184);var nt=function(){return(0,tt.jsx)("div",{className:"home",children:(0,tt.jsxs)("div",{className:"hcms__dashboard",children:[(0,tt.jsx)("div",{className:"hcms__dashboard-item",children:(0,tt.jsx)("div",{className:"hcms__dashboard-item__title",children:(0,tt.jsx)("h2",{children:"Hai Pengguna!"})})}),(0,tt.jsx)("div",{className:"hcms__list-hidroponik",children:(0,tt.jsxs)("div",{className:"hcms__list-hidroponik-list",children:[(0,tt.jsx)("div",{className:"header-wrapper",children:(0,tt.jsx)("div",{className:"header-logo-navbar",children:(0,tt.jsx)(Le,{to:"/",children:(0,tt.jsx)("h1",{children:"HCMS"})})})}),(0,tt.jsx)(Le,{to:"".concat(Be),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Monitor"})})}),(0,tt.jsx)(Le,{to:"".concat(We),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Cek Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(He),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Data Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(Ke),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Kontak"})})}),(0,tt.jsx)(Le,{to:"".concat(Ue),children:(0,tt.jsx)("div",{className:"hcms__dashboard-item__logout",children:(0,tt.jsx)("h3",{children:" Log Out "})})})]})})]})})};var rt=function(){return(0,tt.jsx)(tt.Fragment,{children:(0,tt.jsx)("div",{className:"header-wrapper",children:(0,tt.jsx)("div",{className:"header-logo-wrapper",children:(0,tt.jsx)(Le,{to:"/",children:(0,tt.jsx)("h1",{children:"HCMS"})})})})})},it={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},at=t.createContext&&t.createContext(it),ot=function(){return ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ot.apply(this,arguments)},st=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ut(e){return e&&e.map((function(e,n){return t.createElement(e.tag,ot({key:n},e.attr),ut(e.child))}))}function lt(e){return function(n){return t.createElement(ct,ot({attr:ot({},e.attr)},n),ut(e.child))}}function ct(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=st(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",ot({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:ot(ot({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==at?t.createElement(at.Consumer,null,(function(e){return n(e)})):n(it)}function ht(e){return lt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}},{tag:"polyline",attr:{points:"12 5 19 12 12 19"}}]})(e)}function ft(e){return lt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}},{tag:"line",attr:{x1:"8",y1:"16",x2:"8.01",y2:"16"}},{tag:"line",attr:{x1:"8",y1:"20",x2:"8.01",y2:"20"}},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"}},{tag:"line",attr:{x1:"12",y1:"22",x2:"12.01",y2:"22"}},{tag:"line",attr:{x1:"16",y1:"16",x2:"16.01",y2:"16"}},{tag:"line",attr:{x1:"16",y1:"20",x2:"16.01",y2:"20"}}]})(e)}function dt(e){return lt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 18a5 5 0 0 0-10 0"}},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"9"}},{tag:"line",attr:{x1:"4.22",y1:"10.22",x2:"5.64",y2:"11.64"}},{tag:"line",attr:{x1:"1",y1:"18",x2:"3",y2:"18"}},{tag:"line",attr:{x1:"21",y1:"18",x2:"23",y2:"18"}},{tag:"line",attr:{x1:"18.36",y1:"11.64",x2:"19.78",y2:"10.22"}},{tag:"line",attr:{x1:"23",y1:"22",x2:"1",y2:"22"}},{tag:"polyline",attr:{points:"8 6 12 2 16 6"}}]})(e)}function pt(e){return lt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"}}]})(e)}function vt(e){return lt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function mt(e){return lt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"}}]})(e)}var yt=n.p+"static/media/hcms-img.dd016f5b2d29bc110d0a.png";var gt=function(){return(0,tt.jsxs)("div",{className:"main-page",children:[(0,tt.jsx)("div",{className:"main-page__image",children:(0,tt.jsx)("img",{src:yt,alt:"Gambar hcml"})}),(0,tt.jsxs)("div",{className:"main-page__container",children:[(0,tt.jsxs)("div",{className:"main-page__text",children:[(0,tt.jsx)("h2",{children:"Selamat Datang di HCMS"}),(0,tt.jsx)("p",{className:"main-page__text-acronym",children:"HCMS adalah Hydroponic Control Monitoring System."}),(0,tt.jsxs)("p",{className:"main-page__text-desc",children:["Aplikasi budidaya hidroponik yang dapat mempermudah Anda dalam perawatan ",(0,tt.jsx)("br",{})," tanaman hidroponik menjadi lebih efektif dan fleksibel."]})]}),(0,tt.jsxs)("div",{className:"main-page__link",children:[(0,tt.jsx)(Le,{to:Ve,className:"action-submit",children:(0,tt.jsxs)("button",{children:[" Login ",(0,tt.jsx)("span",{className:"one",children:(0,tt.jsx)(ht,{})})]})}),(0,tt.jsx)(Le,{to:ze,className:"action-submit",children:(0,tt.jsxs)("button",{children:[" Buat Akun ",(0,tt.jsx)("span",{className:"two",children:(0,tt.jsx)(ht,{})})]})}),(0,tt.jsx)(Le,{to:qe,className:"action-submit action-about-page",children:(0,tt.jsx)("button",{children:" Tentang HCMS "})})]})]})]})};var kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,t.useState)(e),r=s(n,2),i=r[0],a=r[1],o=function(e){a(e.target.value)};return[i,o]};function _t(){_t=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new S(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var f={};function d(){}function p(){}function v(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=h(e[r],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},_(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function bt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Jv){return void n(Jv)}s.done?t(u):Promise.resolve(u).then(r,i)}function wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){bt(a,r,i,o,s,"next",e)}function s(e){bt(a,r,i,o,s,"throw",e)}o(void 0)}))}}function xt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function Ct(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=!1,St=!1,Tt="${JSCORE_VERSION}",It=function(e,t){if(!e)throw Nt(t)},Nt=function(e){return new Error("Firebase Database ("+Tt+") INTERNAL ASSERT FAILED: "+e)},Rt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Pt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Rt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},At=function(e){var t=Rt(e);return Pt.encodeByteArray(t,!0)},Dt=function(e){return At(e).replace(/\./g,"")},Ot=function(e){try{return Pt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jt(e){return Lt(void 0,e)}function Lt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Lt(e[n],t[n]));return e}function Mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ft(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function Ut(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Vt(){return!0===Et||!0===St}var zt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},qt=function(){try{return zt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ot(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Bt=function(e){var t,n;return null===(n=null===(t=qt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ht=function(e){var t=Bt(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Wt=function(){var e;return null===(e=qt())||void 0===e?void 0:e.config},Kt=function(e){var t;return null===(t=qt())||void 0===t?void 0:t["_".concat(e)]},Gt=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return d(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Qt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Dt(JSON.stringify({alg:"none",type:"JWT"})),Dt(JSON.stringify(a)),""].join(".")}var Yt=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(g(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(g(a),$t.prototype.create),a}return d(n)}(w(Error)),$t=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return d(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Xt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Yt(n,a,t);return o}}]),e}();function Xt(e,t){return e.replace(Jt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Jt=/\{\$([^}]+)}/g;function Zt(e){return JSON.parse(e)}function en(e){return JSON.stringify(e)}var tn=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Zt(Ot(a[0])||""),n=Zt(Ot(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function nn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function an(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function on(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function sn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(un(s)&&un(u)){if(!sn(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var h=c[l];if(!n.includes(h))return!1}return!0}function un(e){return null!==e&&"object"===typeof e}function ln(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function cn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function hn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var fn=function(){function e(){l(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return d(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^c&(h^f),u=1518500249):(s=c^h^f,u=1859775393):p<60?(s=c&h|f&(c|h),u=2400959708):(s=c^h^f,u=3395469782);var v=(l<<5|l>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var dn=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return d(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=xt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=pn),void 0===r.error&&(r.error=pn),void 0===r.complete&&(r.complete=pn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function pn(){}function vn(e,t){return"".concat(e," failed: ").concat(t," argument ")}var mn=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function yn(e){return e&&e._delegate?e._delegate:e}var gn=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return d(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),kn="[DEFAULT]",_n=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return d(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Gt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kn})}catch(l){}var t,n=xt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=wt(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(u(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),u(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=xt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),l=u[0],c=u[1],h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=xt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Mp){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===kn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Mp){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;return this.component?this.component.multipleInstances?e:kn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var bn,wn,xn=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return d(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new _n(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Cn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(wn||(wn={}));var En={debug:wn.DEBUG,verbose:wn.VERBOSE,info:wn.INFO,warn:wn.WARN,error:wn.ERROR,silent:wn.SILENT},Sn=wn.INFO,Tn=(Ct(bn={},wn.DEBUG,"log"),Ct(bn,wn.VERBOSE,"log"),Ct(bn,wn.INFO,"info"),Ct(bn,wn.WARN,"warn"),Ct(bn,wn.ERROR,"error"),bn),In=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Tn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Nn=function(){function e(t){l(this,e),this.name=t,this._logLevel=Sn,this._logHandler=In,this._userLogHandler=null,Cn.push(this)}return d(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in wn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?En[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wn.DEBUG].concat(t)),this._logHandler.apply(this,[this,wn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,wn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wn.INFO].concat(t)),this._logHandler.apply(this,[this,wn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wn.WARN].concat(t)),this._logHandler.apply(this,[this,wn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wn.ERROR].concat(t)),this._logHandler.apply(this,[this,wn.ERROR].concat(t))}}]),e}();function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var An,Dn;var On=new WeakMap,jn=new WeakMap,Ln=new WeakMap,Mn=new WeakMap,Fn=new WeakMap;var Un={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return jn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ln.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Vn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dn||(Dn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bn(this),n),qn(On.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qn(e.apply(Bn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Bn(this),t].concat(r));return Ln.set(a,t.sort?t.sort():[t]),qn(a)}}function zn(e){return"function"===typeof e?Vn(e):(e instanceof IDBTransaction&&function(e){if(!jn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));jn.set(e,t)}}(e),t=e,(An||(An=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Un):e);var t}function qn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(qn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&On.set(t,e)})).catch((function(){})),Fn.set(t,e),t}(e);if(Mn.has(e))return Mn.get(e);var t=zn(e);return t!==e&&(Mn.set(e,t),Fn.set(t,e)),t}var Bn=function(e){return Fn.get(e)};var Hn,Wn,Kn=["get","getKey","getAll","getAllKeys","count"],Gn=["put","add","delete","clear"],Qn=new Map;function Yn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Qn.get(t))return Qn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Gn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Kn.includes(n))){var a=function(){var e=wt(_t().mark((function e(t){var a,o,s,u,l,c,h=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=h[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Qn.set(t,a),a}}}Un=function(e){return Pn(Pn({},e),{},{get:function(t,n,r){return Yn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Yn(t,n)||e.has(t,n)}})}(Un);var $n=function(){function e(t){l(this,e),this.container=t}return d(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Xn="@firebase/app",Jn="0.8.4",Zn=new Nn("@firebase/app"),er="[DEFAULT]",tr=(Ct(Hn={},Xn,"fire-core"),Ct(Hn,"@firebase/app-compat","fire-core-compat"),Ct(Hn,"@firebase/analytics","fire-analytics"),Ct(Hn,"@firebase/analytics-compat","fire-analytics-compat"),Ct(Hn,"@firebase/app-check","fire-app-check"),Ct(Hn,"@firebase/app-check-compat","fire-app-check-compat"),Ct(Hn,"@firebase/auth","fire-auth"),Ct(Hn,"@firebase/auth-compat","fire-auth-compat"),Ct(Hn,"@firebase/database","fire-rtdb"),Ct(Hn,"@firebase/database-compat","fire-rtdb-compat"),Ct(Hn,"@firebase/functions","fire-fn"),Ct(Hn,"@firebase/functions-compat","fire-fn-compat"),Ct(Hn,"@firebase/installations","fire-iid"),Ct(Hn,"@firebase/installations-compat","fire-iid-compat"),Ct(Hn,"@firebase/messaging","fire-fcm"),Ct(Hn,"@firebase/messaging-compat","fire-fcm-compat"),Ct(Hn,"@firebase/performance","fire-perf"),Ct(Hn,"@firebase/performance-compat","fire-perf-compat"),Ct(Hn,"@firebase/remote-config","fire-rc"),Ct(Hn,"@firebase/remote-config-compat","fire-rc-compat"),Ct(Hn,"@firebase/storage","fire-gcs"),Ct(Hn,"@firebase/storage-compat","fire-gcs-compat"),Ct(Hn,"@firebase/firestore","fire-fst"),Ct(Hn,"@firebase/firestore-compat","fire-fst-compat"),Ct(Hn,"fire-js","fire-js"),Ct(Hn,"firebase","fire-js-all"),Hn),nr=new Map,rr=new Map;function ir(e,t){try{e.container.addComponent(t)}catch(n){Zn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ar(e){var t=e.name;if(rr.has(t))return Zn.debug("There were multiple attempts to register component ".concat(t,".")),!1;rr.set(t,e);var n,r=xt(nr.values());try{for(r.s();!(n=r.n()).done;){ir(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function or(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var sr=(Ct(Wn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ct(Wn,"bad-app-name","Illegal App name: '{$appName}"),Ct(Wn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ct(Wn,"app-deleted","Firebase App named '{$appName}' already deleted"),Ct(Wn,"no-options","Need to provide options, when not being deployed to hosting via source."),Ct(Wn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ct(Wn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ct(Wn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ct(Wn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ct(Wn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ct(Wn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Wn),ur=new $t("app","Firebase",sr),lr=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gn("app",(function(){return i}),"PUBLIC"))}return d(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}]),e}(),cr="9.14.0";function hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:er,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ur.create("bad-app-name",{appName:String(a)});if(n||(n=Wt()),!n)throw ur.create("no-options");var o=nr.get(a);if(o){if(sn(n,o.options)&&sn(i,o.config))return o;throw ur.create("duplicate-app",{appName:a})}var s,u=new xn(a),l=xt(rr.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;u.addComponent(c)}}catch(f){l.e(f)}finally{l.f()}var h=new lr(n,i,u);return nr.set(a,h),h}function fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er,t=nr.get(e);if(!t&&e===er)return hr();if(!t)throw ur.create("no-app",{appName:e});return t}function dr(e,t,n){var r,i=null!==(r=tr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zn.warn(s.join(" "))}ar(new gn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var pr="firebase-heartbeat-store",vr=null;function mr(){return vr||(vr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=qn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(qn(s.result),e.oldVersion,e.newVersion,qn(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(pr)}}).catch((function(e){throw ur.create("idb-open",{originalErrorMessage:e.message})}))),vr}function yr(e){return gr.apply(this,arguments)}function gr(){return gr=wt(_t().mark((function e(t){var n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mr();case 3:return r=e.sent,e.abrupt("return",r.transaction(pr).objectStore(pr).get(br(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Yt?Zn.warn(e.t0.message):(i=ur.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Zn.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),gr.apply(this,arguments)}function kr(e,t){return _r.apply(this,arguments)}function _r(){return _r=wt(_t().mark((function e(t,n){var r,i,a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mr();case 3:return i=e.sent,a=i.transaction(pr,"readwrite"),o=a.objectStore(pr),e.next=8,o.put(n,br(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Yt?Zn.warn(e.t0.message):(s=ur.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Zn.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),_r.apply(this,arguments)}function br(e){return"".concat(e.name,"!").concat(e.options.appId)}var wr=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Sr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return d(e,[{key:"triggerHeartbeat",value:function(){var e=wt(_t().mark((function e(){var t,n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=xr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=wt(_t().mark((function e(){var t,n,r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=xr(),n=Cr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Dt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xr(){return(new Date).toISOString().substring(0,10)}function Cr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=xt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Tr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Tr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Er,Sr=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return d(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Jv){t(Jv)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=wt(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,yr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=wt(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",kr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=wt(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",kr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(u(r.heartbeats),u(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Tr(e){return Dt(JSON.stringify({version:2,heartbeats:e})).length}Er="",ar(new gn("platform-logger",(function(e){return new $n(e)}),"PRIVATE")),ar(new gn("heartbeat",(function(e){return new wr(e)}),"PRIVATE")),dr(Xn,Jn,Er),dr(Xn,Jn,"esm2017"),dr("fire-js","");function Ir(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function Nr(){return Nr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ir(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Nr.apply(this,arguments)}dr("firebase","9.14.0","app");var Rr,Pr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ar={},Dr=Dr||{},Or=Pr||self;function jr(){}function Lr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Mr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Fr="closure_uid_"+(1e9*Math.random()>>>0),Ur=0;function Vr(e,t,n){return e.call.apply(e.bind,arguments)}function zr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function qr(e,t,n){return(qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vr:zr).apply(null,arguments)}function Br(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Hr(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Wr(){this.s=this.s,this.o=this.o}Wr.prototype.s=!1,Wr.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Fr)&&e[Fr]||(e[Fr]=++Ur))},Wr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Kr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Gr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Lr(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Yr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Yr.prototype.h=function(){this.defaultPrevented=!0};var $r=function(){if(!Or.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Or.addEventListener("test",jr,t),Or.removeEventListener("test",jr,t)}catch(n){}return e}();function Xr(e){return/^[\s\xa0]*$/.test(e)}var Jr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Zr(e,t){return e<t?-1:e>t?1:0}function ei(){var e=Or.navigator;return e&&(e=e.userAgent)?e:""}function ti(e){return-1!=ei().indexOf(e)}function ni(e){return ni[" "](e),e}ni[" "]=jr;var ri,ii=ti("Opera"),ai=ti("Trident")||ti("MSIE"),oi=ti("Edge"),si=oi||ai,ui=ti("Gecko")&&!(-1!=ei().toLowerCase().indexOf("webkit")&&!ti("Edge"))&&!(ti("Trident")||ti("MSIE"))&&!ti("Edge"),li=-1!=ei().toLowerCase().indexOf("webkit")&&!ti("Edge");function ci(){var e=Or.document;return e?e.documentMode:void 0}e:{var hi="",fi=function(){var e=ei();return ui?/rv:([^\);]+)(\)|;)/.exec(e):oi?/Edge\/([\d\.]+)/.exec(e):ai?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):li?/WebKit\/(\S+)/.exec(e):ii?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(fi&&(hi=fi?fi[1]:""),ai){var di=ci();if(null!=di&&di>parseFloat(hi)){ri=String(di);break e}}ri=hi}var pi,vi={};function mi(){return function(e){var t=vi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Jr(String(ri)).split("."),n=Jr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Zr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Zr(0==a[2].length,0==o[2].length)||Zr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Or.document&&ai){var yi=ci();pi=yi||(parseInt(ri,10)||void 0)}else pi=void 0;var gi=pi;function ki(e,t){if(Yr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ui){e:{try{ni(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_i[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ki.X.h.call(this)}}Hr(ki,Yr);var _i={2:"touch",3:"pen",4:"mouse"};ki.prototype.h=function(){ki.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bi="closure_listenable_"+(1e6*Math.random()|0),wi=0;function xi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++wi,this.ba=this.ea=!1}function Ci(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Ei(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Si(e){var t={};for(var n in e)t[n]=e[n];return t}var Ti="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ii(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ti.length;a++)n=Ti[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ni(e){this.src=e,this.g={},this.h=0}function Ri(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Kr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ci(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Pi(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Ni.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Pi(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new xi(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Ai="closure_lm_"+(1e6*Math.random()|0),Di={};function Oi(e,t,n,r,i){if(r&&r.once)return Li(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Oi(e,t[a],n,r,i);return null}return n=Bi(n),e&&e[bi]?e.N(t,n,Mr(r)?!!r.capture:!!r,i):ji(e,t,n,!1,r,i)}function ji(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Mr(i)?!!i.capture:!!i,s=zi(e);if(s||(e[Ai]=s=new Ni(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Vi;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$r||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ui(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Li(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Li(e,t[a],n,r,i);return null}return n=Bi(n),e&&e[bi]?e.O(t,n,Mr(r)?!!r.capture:!!r,i):ji(e,t,n,!0,r,i)}function Mi(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Mi(e,t[a],n,r,i);else r=Mr(r)?!!r.capture:!!r,n=Bi(n),e&&e[bi]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Pi(a=e.g[t],n,r,i))&&(Ci(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=zi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Pi(t,n,r,i)),(n=-1<e?t[e]:null)&&Fi(n))}function Fi(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[bi])Ri(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ui(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=zi(t))?(Ri(n,e),0==n.h&&(n.src=null,t[Ai]=null)):Ci(e)}}}function Ui(e){return e in Di?Di[e]:Di[e]="on"+e}function Vi(e,t){if(e.ba)e=!0;else{t=new ki(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Fi(e),e=n.call(r,t)}return e}function zi(e){return(e=e[Ai])instanceof Ni?e:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bi(e){return"function"===typeof e?e:(e[qi]||(e[qi]=function(t){return e.handleEvent(t)}),e[qi])}function Hi(){Wr.call(this),this.i=new Ni(this),this.P=this,this.I=null}function Wi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Yr(t,e);else if(t instanceof Yr)t.target=t.target||e;else{var i=t;Ii(t=new Yr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ki(o,r,!0,t)&&i}if(i=Ki(o=t.g=e,r,!0,t)&&i,i=Ki(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ki(o=t.g=n[a],r,!1,t)&&i}function Ki(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Ri(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Hr(Hi,Wr),Hi.prototype[bi]=!0,Hi.prototype.removeEventListener=function(e,t,n,r){Mi(this,e,t,n,r)},Hi.prototype.M=function(){if(Hi.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ci(n[r]);delete t.g[e],t.h--}}this.I=null},Hi.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Hi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Gi=Or.JSON.stringify;function Qi(){var e=na,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Yi,$i=function(){function e(){l(this,e),this.h=this.g=null}return d(e,[{key:"add",value:function(e,t){var n=Xi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Xi=new(function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return d(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ji}),(function(e){return e.reset()})),Ji=function(){function e(){l(this,e),this.next=this.g=this.h=null}return d(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Zi(e){Or.setTimeout((function(){throw e}),0)}function ea(e,t){Yi||function(){var e=Or.Promise.resolve(void 0);Yi=function(){e.then(ra)}}(),ta||(Yi(),ta=!0),na.add(e,t)}var ta=!1,na=new $i;function ra(){for(var e;e=Qi();){try{e.h.call(e.g)}catch(n){Zi(n)}var t=Xi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ta=!1}function ia(e,t){Hi.call(this),this.h=e||1,this.g=t||Or,this.j=qr(this.lb,this),this.l=Date.now()}function aa(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function oa(e,t,n){if("function"===typeof e)n&&(e=qr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=qr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Or.setTimeout(e,t||0)}function sa(e){e.g=oa((function(){e.g=null,e.i&&(e.i=!1,sa(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Hr(ia,Hi),(Rr=ia.prototype).ca=!1,Rr.R=null,Rr.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Wi(this,"tick"),this.ca&&(aa(this),this.start()))}},Rr.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rr.M=function(){ia.X.M.call(this),aa(this),delete this.g};var ua=function(e){v(n,e);var t=_(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return d(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:sa(this)}},{key:"M",value:function(){Nr(m(n.prototype),"M",this).call(this),this.g&&(Or.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Wr);function la(e){Wr.call(this),this.h=e,this.g={}}Hr(la,Wr);var ca=[];function ha(e,t,n,r){Array.isArray(n)||(n&&(ca[0]=n.toString()),n=ca);for(var i=0;i<n.length;i++){var a=Oi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function fa(e){Ei(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Fi(e)}),e),e.g={}}function da(){this.g=!0}function pa(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Gi(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}la.prototype.M=function(){la.X.M.call(this),fa(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},da.prototype.Aa=function(){this.g=!1},da.prototype.info=function(){};var va={},ma=null;function ya(){return ma=ma||new Hi}function ga(e){Yr.call(this,va.Pa,e)}function ka(e){var t=ya();Wi(t,new ga(t))}function _a(e,t){Yr.call(this,va.STAT_EVENT,e),this.stat=t}function ba(e){var t=ya();Wi(t,new _a(t,e))}function wa(e,t){Yr.call(this,va.Qa,e),this.size=t}function xa(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Or.setTimeout((function(){e()}),t)}va.Pa="serverreachability",Hr(ga,Yr),va.STAT_EVENT="statevent",Hr(_a,Yr),va.Qa="timingevent",Hr(wa,Yr);var Ca={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ea={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sa(){}function Ta(e){return e.h||(e.h=e.i())}function Ia(){}Sa.prototype.h=null;var Na,Ra={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Pa(){Yr.call(this,"d")}function Aa(){Yr.call(this,"c")}function Da(){}function Oa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new la(this),this.O=La,e=si?125:void 0,this.T=new ia(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ja}function ja(){this.i=null,this.g="",this.h=!1}Hr(Pa,Yr),Hr(Aa,Yr),Hr(Da,Sa),Da.prototype.g=function(){return new XMLHttpRequest},Da.prototype.i=function(){return{}},Na=new Da;var La=45e3,Ma={},Fa={};function Ua(e,t,n){e.K=1,e.v=io(Za(t)),e.s=n,e.P=!0,Va(e,null)}function Va(e,t){e.F=Date.now(),Ha(e),e.A=Za(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),go(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ja,e.g=ks(e.l,n?t:null,!e.s),0<e.N&&(e.L=new ua(qr(e.La,e,e.g),e.N)),ha(e.S,e.g,"readystatechange",e.ib),t=e.H?Si(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),ka(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function za(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function qa(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ba(e,n))==Fa){4==t&&(e.o=4,ba(14),i=!1),pa(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ma){e.o=4,ba(15),pa(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}pa(e.j,e.m,r,null),Ya(e,r)}za(e)&&r!=Fa&&r!=Ma&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ba(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),hs(t),t.K=!0,ba(11))):(pa(e.j,e.m,n,"[Invalid Chunked Response]"),Qa(e),Ga(e))}function Ba(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fa:(n=Number(t.substring(n,r)),isNaN(n)?Ma:(r+=1)+n>t.length?Fa:(t=t.substr(r,n),e.C=r+n,t))}function Ha(e){e.V=Date.now()+e.O,Wa(e,e.O)}function Wa(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=xa(qr(e.gb,e),t)}function Ka(e){e.B&&(Or.clearTimeout(e.B),e.B=null)}function Ga(e){0==e.l.G||e.I||ps(e.l,e)}function Qa(e){Ka(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,aa(e.T),fa(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ya(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||So(n.h,e)))if(!e.J&&So(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ds(n),rs(n)}cs(n),ba(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=xa(qr(n.cb,n),6e3));if(1>=Eo(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else ms(n,11)}else if((e.J||n.g==e)&&ds(n),!Xr(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.h;h.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(To(h,h.h),h.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.za=f,ro(r.F,r.D,f))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=gs(r,r.H?r.ka:null,r.V),d.J){Io(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Ka(p),Ha(p)),r.g=d}else ls(r);0<n.i.length&&as(n)}else"stop"!=a[0]&&"close"!=a[0]||ms(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ms(n,7):ns(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}ka()}catch(a){}}function $a(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Lr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Lr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Lr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Rr=Oa.prototype).setTimeout=function(e){this.O=e},Rr.ib=function(e){e=e.target;var t=this.L;t&&3==$o(e)?t.l():this.La(e)},Rr.La=function(e){try{if(e==this.g)e:{var t=$o(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||si||this.g&&(this.h.h||this.g.fa()||Xo(this.g)))){this.I||4!=t||7==n||ka(),Ka(this);var r=this.g.aa();this.Y=r;t:if(za(this)){var i=Xo(this.g);e="";var a=i.length,o=4==$o(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qa(this),Ga(this);var s="";break t}this.h.i=new Or.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xr(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,ba(12),Qa(this),Ga(this);break e}pa(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ya(this,r)}this.P?(qa(this,t,s),si&&this.i&&3==t&&(ha(this.S,this.T,"tick",this.hb),this.T.start())):(pa(this.j,this.m,s,null),Ya(this,s)),4==t&&Qa(this),this.i&&!this.I&&(4==t?ps(this.l,this):(this.i=!1,Ha(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ba(12)):(this.o=0,ba(13)),Qa(this),Ga(this)}}}catch(t){}},Rr.hb=function(){if(this.g){var e=$o(this.g),t=this.g.fa();this.C<t.length&&(Ka(this),qa(this,e,t),this.i&&4!=e&&Ha(this))}},Rr.cancel=function(){this.I=!0,Qa(this)},Rr.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ka(),ba(17)),Qa(this),this.o=2,Ga(this)):Wa(this,this.V-e)};var Xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ja){this.h=void 0!==t?t:e.h,eo(this,e.j),this.s=e.s,this.g=e.g,to(this,e.m),this.l=e.l,t=e.i;var n=new po;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),no(this,n),this.o=e.o}else e&&(n=String(e).match(Xa))?(this.h=!!t,eo(this,n[1]||"",!0),this.s=ao(n[2]||""),this.g=ao(n[3]||"",!0),to(this,n[4]),this.l=ao(n[5]||"",!0),no(this,n[6]||"",!0),this.o=ao(n[7]||"")):(this.h=!!t,this.i=new po(null,this.h))}function Za(e){return new Ja(e)}function eo(e,t,n){e.j=n?ao(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function to(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function no(e,t,n){t instanceof po?(e.i=t,function(e,t){t&&!e.j&&(vo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mo(this,t),go(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=oo(t,ho)),e.i=new po(t,e.h))}function ro(e,t,n){e.i.set(t,n)}function io(e){return ro(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ao(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function oo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,so),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function so(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ja.prototype.toString=function(){var e=[],t=this.j;t&&e.push(oo(t,uo,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(oo(t,uo,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(oo(n,"/"==n.charAt(0)?co:lo,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",oo(n,fo)),e.join("")};var uo=/[#\/\?@]/g,lo=/[#\?:]/g,co=/[#\?]/g,ho=/[#\?@]/g,fo=/#/g;function po(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vo(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mo(e,t){vo(e),t=ko(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yo(e,t){return vo(e),t=ko(e,t),e.g.has(t)}function go(e,t,n){mo(e,t),0<n.length&&(e.i=null,e.g.set(ko(e,t),Gr(n)),e.h+=n.length)}function ko(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Rr=po.prototype).add=function(e,t){vo(this),this.i=null,e=ko(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Rr.forEach=function(e,t){vo(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Rr.oa=function(){vo(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Rr.W=function(e){vo(this);var t=[];if("string"===typeof e)yo(this,e)&&(t=t.concat(this.g.get(ko(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Rr.set=function(e,t){return vo(this),this.i=null,yo(this,e=ko(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Rr.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Rr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var _o=d((function e(t,n){l(this,e),this.h=t,this.g=n}));function bo(e){this.l=e||xo,Or.PerformanceNavigationTiming?e=0<(e=Or.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Or.g&&Or.g.Ga&&Or.g.Ga()&&Or.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wo,xo=10;function Co(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Eo(e){return e.h?1:e.g?e.g.size:0}function So(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function To(e,t){e.g?e.g.add(t):e.h=t}function Io(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function No(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=xt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Gr(e.i)}function Ro(){}function Po(){this.g=new Ro}function Ao(e,t,n){var r=n||"";try{$a(e,(function(e,n){var i=e;Mr(e)&&(i=Gi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Do(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Oo(e){this.l=e.ac||null,this.j=e.jb||!1}function jo(e,t){Hi.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Lo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bo.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=xt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ro.prototype.stringify=function(e){return Or.JSON.stringify(e,void 0)},Ro.prototype.parse=function(e){return Or.JSON.parse(e,void 0)},Hr(Oo,Sa),Oo.prototype.g=function(){return new jo(this.l,this.j)},Oo.prototype.i=(wo={},function(){return wo}),Hr(jo,Hi);var Lo=0;function Mo(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Fo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Uo(e)}function Uo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Rr=jo.prototype).open=function(e,t){if(this.readyState!=Lo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Uo(this)},Rr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Or).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Rr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fo(this)),this.readyState=Lo},Rr.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Uo(this)),this.g&&(this.readyState=3,Uo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Or.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mo(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Rr.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Fo(this):Uo(this),3==this.readyState&&Mo(this)}},Rr.Va=function(e){this.g&&(this.response=this.responseText=e,Fo(this))},Rr.Ua=function(e){this.g&&(this.response=e,Fo(this))},Rr.ga=function(){this.g&&Fo(this)},Rr.setRequestHeader=function(e,t){this.v.append(e,t)},Rr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Rr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vo=Or.JSON.parse;function zo(e){Hi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qo,this.K=this.L=!1}Hr(zo,Hi);var qo="",Bo=/^https?$/i,Ho=["POST","PUT"];function Wo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ko(e),Qo(e)}function Ko(e){e.D||(e.D=!0,Wi(e,"complete"),Wi(e,"error"))}function Go(e){if(e.h&&"undefined"!=typeof Dr&&(!e.C[1]||4!=$o(e)||2!=e.aa()))if(e.v&&4==$o(e))oa(e.Ha,0,e);else if(Wi(e,"readystatechange"),4==$o(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Xa)[1]||null;if(!a&&Or.self&&Or.self.location){var o=Or.self.location.protocol;a=o.substr(0,o.length-1)}i=!Bo.test(a?a.toLowerCase():"")}t=i}if(t)Wi(e,"complete"),Wi(e,"success");else{e.m=6;try{var s=2<$o(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Ko(e)}}finally{Qo(e)}}}function Qo(e,t){if(e.g){Yo(e);var n=e.g,r=e.C[0]?jr:null;e.g=null,e.C=null,t||Wi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Yo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Or.clearTimeout(e.A),e.A=null)}function $o(e){return e.g?e.g.readyState:0}function Xo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case qo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(js){return null}}function Jo(e){var t="";return Ei(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Zo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Jo(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ro(e,t,n))}function es(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ts(e){this.Ca=0,this.i=[],this.j=new da,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=es("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=es("baseRetryDelayMs",5e3,e),this.bb=es("retryDelaySeedMs",1e4,e),this.$a=es("forwardChannelMaxRetries",2,e),this.ta=es("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new bo(e&&e.concurrentRequestLimit),this.Fa=new Po,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ns(e){if(is(e),3==e.G){var t=e.U++,n=Za(e.F);ro(n,"SID",e.I),ro(n,"RID",t),ro(n,"TYPE","terminate"),ss(e,n),(t=new Oa(e,e.j,t,void 0)).K=2,t.v=io(Za(n)),n=!1,Or.navigator&&Or.navigator.sendBeacon&&(n=Or.navigator.sendBeacon(t.v.toString(),"")),!n&&Or.Image&&((new Image).src=t.v,n=!0),n||(t.g=ks(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ha(t)}ys(e)}function rs(e){e.g&&(hs(e),e.g.cancel(),e.g=null)}function is(e){rs(e),e.u&&(Or.clearTimeout(e.u),e.u=null),ds(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Or.clearTimeout(e.m),e.m=null)}function as(e){Co(e.h)||e.m||(e.m=!0,ea(e.Ja,e),e.C=0)}function os(e,t){var n;n=t?t.m:e.U++;var r=Za(e.F);ro(r,"SID",e.I),ro(r,"RID",n),ro(r,"AID",e.T),ss(e,r),e.o&&e.s&&Zo(r,e.o,e.s),n=new Oa(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=us(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),To(e.h,n),Ua(n,r,t)}function ss(e,t){e.ia&&Ei(e.ia,(function(e,n){ro(t,n,e)})),e.l&&$a({},(function(e,n){ro(t,n,e)}))}function us(e,t,n){n=Math.min(e.i.length,n);var r=e.l?qr(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Ao(c,o,"req"+l+"_")}catch(h){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function ls(e){e.g||e.u||(e.Z=1,ea(e.Ia,e),e.A=0)}function cs(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=xa(qr(e.Ia,e),vs(e,e.A)),e.A++,!0)}function hs(e){null!=e.B&&(Or.clearTimeout(e.B),e.B=null)}function fs(e){e.g=new Oa(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Za(e.sa);ro(t,"RID","rpc"),ro(t,"SID",e.I),ro(t,"CI",e.L?"0":"1"),ro(t,"AID",e.T),ro(t,"TYPE","xmlhttp"),ss(e,t),e.o&&e.s&&Zo(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=io(Za(t)),n.s=null,n.P=!0,Va(n,e)}function ds(e){null!=e.v&&(Or.clearTimeout(e.v),e.v=null)}function ps(e,t){var n=null;if(e.g==t){ds(e),hs(e),e.g=null;var r=2}else{if(!So(e.h,t))return;n=t.D,Io(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Wi(r=ya(),new wa(r,n)),as(e)}else ls(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Eo(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=xa(qr(e.Ja,e,t),vs(e,e.C)),e.C++,!0))}(e,t)||2==r&&cs(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ms(e,5);break;case 4:ms(e,10);break;case 3:ms(e,6);break;default:ms(e,2)}}function vs(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function ms(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=qr(e.kb,e);n||(n=new Ja("//www.google.com/images/cleardot.gif"),Or.location&&"http"==Or.location.protocol||eo(n,"https"),io(n)),function(e,t){var n=new da;if(Or.Image){var r=new Image;r.onload=Br(Do,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Br(Do,n,r,"TestLoadImage: error",!1,t),r.onabort=Br(Do,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Br(Do,n,r,"TestLoadImage: timeout",!1,t),Or.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ba(2);e.G=0,e.l&&e.l.va(t),ys(e),is(e)}function ys(e){if(e.G=0,e.la=[],e.l){var t=No(e.h);0==t.length&&0==e.i.length||(Qr(e.la,t),Qr(e.la,e.i),e.h.i.length=0,Gr(e.i),e.i.length=0),e.l.ua()}}function gs(e,t,n){var r=n instanceof Ja?Za(n):new Ja(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),to(r,r.m);else{var i=Or.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ja(null,void 0);r&&eo(a,r),t&&(a.g=t),i&&to(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&ro(r,n,t),ro(r,"VER",e.ma),ss(e,r),r}function ks(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new zo(new Oo({jb:!0})):new zo(e.ra)).Ka(e.H),t}function _s(){}function bs(){if(ai&&!(10<=Number(gi)))throw Error("Environmental error: no available transport.")}function ws(e,t){Hi.call(this),this.g=new ts(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Xr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Es(this)}function xs(e){Pa.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cs(){Aa.call(this),this.status=1}function Es(e){this.g=e}(Rr=zo.prototype).Ka=function(e){this.L=e},Rr.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Na.g(),this.C=this.u?Ta(this.u):Ta(Na),this.g.onreadystatechange=qr(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Wo(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=xt(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Or.FormData&&e instanceof Or.FormData,!(0<=Kr(Ho,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var l,c=xt(n);try{for(c.s();!(l=c.n()).done;){var h=s(l.value,2),f=h[0],d=h[1];this.g.setRequestHeader(f,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yo(this),0<this.B&&((this.K=function(e){return ai&&mi()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qr(this.qa,this)):this.A=oa(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Wo(this,u)}},Rr.qa=function(){"undefined"!=typeof Dr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wi(this,"timeout"),this.abort(8))},Rr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wi(this,"complete"),Wi(this,"abort"),Qo(this))},Rr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qo(this,!0)),zo.X.M.call(this)},Rr.Ha=function(){this.s||(this.F||this.v||this.l?Go(this):this.fb())},Rr.fb=function(){Go(this)},Rr.aa=function(){try{return 2<$o(this)?this.g.status:-1}catch(wo){return-1}},Rr.fa=function(){try{return this.g?this.g.responseText:""}catch(wo){return""}},Rr.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vo(t)}},Rr.Ea=function(){return this.m},Rr.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Rr=ts.prototype).ma=8,Rr.G=1,Rr.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Oa(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Ii(n=Si(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=us(this,t,r),ro(i=Za(this.F),"RID",e),ro(i,"CVER",22),this.D&&ro(i,"X-HTTP-Session-Id",this.D),ss(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Jo(n)))+"&"+r:this.o&&Zo(i,this.o,n)),To(this.h,t),this.Ya&&ro(i,"TYPE","init"),this.O?(ro(i,"$req",r),ro(i,"SID","null"),t.Z=!0,Ua(t,i,null)):Ua(t,i,r),this.G=2}}else 3==this.G&&(e?os(this,e):0==this.i.length||Co(this.h)||os(this))},Rr.Ia=function(){if(this.u=null,fs(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=xa(qr(this.eb,this),e)}},Rr.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ba(10),rs(this),fs(this))},Rr.cb=function(){null!=this.v&&(this.v=null,rs(this),cs(this),ba(19))},Rr.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ba(2)):(this.j.info("Failed to ping google.com"),ba(1))},(Rr=_s.prototype).xa=function(){},Rr.wa=function(){},Rr.va=function(){},Rr.ua=function(){},Rr.Ra=function(){},bs.prototype.g=function(e,t){return new ws(e,t)},Hr(ws,Hi),ws.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ba(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=gs(e,null,e.V),as(e)},ws.prototype.close=function(){ns(this.g)},ws.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Gi(e),e=n);t.i.push(new _o(t.ab++,e)),3==t.G&&as(t)},ws.prototype.M=function(){this.g.l=null,delete this.j,ns(this.g),delete this.g,ws.X.M.call(this)},Hr(xs,Pa),Hr(Cs,Aa),Hr(Es,_s),Es.prototype.xa=function(){Wi(this.g,"a")},Es.prototype.wa=function(e){Wi(this.g,new xs(e))},Es.prototype.va=function(e){Wi(this.g,new Cs)},Es.prototype.ua=function(){Wi(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,ws.prototype.send=ws.prototype.u,ws.prototype.open=ws.prototype.m,ws.prototype.close=ws.prototype.close,Ca.NO_ERROR=0,Ca.TIMEOUT=8,Ca.HTTP_ERROR=6,Ea.COMPLETE="complete",Ia.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",Hi.prototype.listen=Hi.prototype.N,zo.prototype.listenOnce=zo.prototype.O,zo.prototype.getLastError=zo.prototype.Oa,zo.prototype.getLastErrorCode=zo.prototype.Ea,zo.prototype.getStatus=zo.prototype.aa,zo.prototype.getResponseJson=zo.prototype.Sa,zo.prototype.getResponseText=zo.prototype.fa,zo.prototype.send=zo.prototype.da,zo.prototype.setWithCredentials=zo.prototype.Ka;var Ss=Ar.createWebChannelTransport=function(){return new bs},Ts=Ar.getStatEventTarget=function(){return ya()},Is=Ar.ErrorCode=Ca,Ns=Ar.EventType=Ea,Rs=Ar.Event=va,Ps=Ar.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},As=Ar.FetchXmlHttpFactory=Oo,Ds=Ar.WebChannel=Ia,Os=Ar.XhrIo=zo,js="@firebase/firestore",Ls=function(){function e(t){l(this,e),this.uid=t}return d(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ls.UNAUTHENTICATED=new Ls(null),Ls.GOOGLE_CREDENTIALS=new Ls("google-credentials-uid"),Ls.FIRST_PARTY=new Ls("first-party-uid"),Ls.MOCK_USER=new Ls("mock-user");var Ms="9.14.0",Fs=new Nn("@firebase/firestore");function Us(){return Fs.logLevel}function Vs(e){if(Fs.logLevel<=wn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bs);Fs.debug.apply(Fs,["Firestore (".concat(Ms,"): ").concat(e)].concat(u(i)))}}function zs(e){if(Fs.logLevel<=wn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bs);Fs.error.apply(Fs,["Firestore (".concat(Ms,"): ").concat(e)].concat(u(i)))}}function qs(e){if(Fs.logLevel<=wn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bs);Fs.warn.apply(Fs,["Firestore (".concat(Ms,"): ").concat(e)].concat(u(i)))}}function Bs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Hs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ms,") INTERNAL ASSERTION FAILED: ")+e;throw zs(t),new Error(t)}function Ws(e,t){e||Hs()}function Ks(e,t){return e}var Gs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Qs=function(e){v(n,e);var t=_(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return d(n)}(Yt),Ys=d((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),$s=d((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Xs=function(){function e(){l(this,e)}return d(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ls.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Js=function(){function e(t){l(this,e),this.token=t,this.changeListener=null}return d(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Zs=function(){function e(t){l(this,e),this.t=t,this.currentUser=Ls.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return d(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ys;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ys,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Vs("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Vs("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ys)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Vs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ws("string"==typeof n.accessToken),new $s(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ws(null===e||"string"==typeof e),new Ls(e)}}]),e}(),eu=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Ls.FIRST_PARTY,this.p=new Map}return d(e,[{key:"I",value:function(){return this.g?this.g():(Ws(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),tu=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return d(e,[{key:"getToken",value:function(){return Promise.resolve(new eu(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ls.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),nu=d((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ru=function(){function e(t){l(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return d(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Vs("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Vs("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Vs("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Vs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ws("string"==typeof t.token),e.A=t.token,new nu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function iu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var au=function(){function e(){l(this,e)}return d(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=iu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ou(e,t){return e<t?-1:e>t?1:0}function su(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var uu=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Qs(Gs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qs(Gs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Qs(Gs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Qs(Gs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return d(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ou(this.nanoseconds,e.nanoseconds):ou(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),lu=function(){function e(t){l(this,e),this.timestamp=t}return d(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new uu(0,0))}},{key:"max",value:function(){return new e(new uu(253402300799,999999999))}}]),e}(),cu=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&Hs(),void 0===r?r=t.length-n:r>t.length-n&&Hs(),this.segments=t,this.offset=n,this.len=r}return d(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),hu=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return d(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Qs(Gs.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,u(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cu),fu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,du=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return d(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return fu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Qs(Gs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Qs(Gs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Qs(Gs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Qs(Gs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cu),pu=function(){function e(t){l(this,e),this.path=t}return d(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===hu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(hu.fromString(t))}},{key:"fromName",value:function(t){return new e(hu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(hu.emptyPath())}},{key:"comparator",value:function(e,t){return hu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new hu(t.slice()))}}]),e}(),vu=d((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));vu.UNKNOWN_ID=-1;function mu(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=lu.fromTimestamp(1e9===r?new uu(n+1,0):new uu(n,r));return new gu(i,pu.empty(),t)}function yu(e){return new gu(e.readTime,e.key,-1)}var gu=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return d(e,null,[{key:"min",value:function(){return new e(lu.min(),pu.empty(),-1)}},{key:"max",value:function(){return new e(lu.max(),pu.empty(),-1)}}]),e}();function ku(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=pu.comparator(e.documentKey,t.documentKey))?n:ou(e.largestBatchId,t.largestBatchId)}var _u="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bu=function(){function e(){l(this,e),this.onCommittedListeners=[]}return d(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function wu(e){return xu.apply(this,arguments)}function xu(){return xu=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Gs.FAILED_PRECONDITION&&t.message===_u){e.next=2;break}throw t;case 2:Vs("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),xu.apply(this,arguments)}var Cu=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return d(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Hs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=xt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Eu(e){return"IndexedDbTransactionError"===e.name}var Su=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return d(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Tu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Iu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Su.at=-1;var Ru=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||Au.EMPTY}return d(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Au.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Au.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Pu(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Pu(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Pu(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Pu(this.root,e,this.comparator,!0)}}]),e}(),Pu=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return d(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Au=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return d(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Hs();if(this.right.isRed())throw Hs();var e=this.left.check();if(e!==this.right.check())throw Hs();return e+(this.isRed()?0:1)}}]),e}();Au.EMPTY=null,Au.RED=!0,Au.BLACK=!1,Au.EMPTY=new(function(){function e(){l(this,e),this.size=0}return d(e,[{key:"key",get:function(){throw Hs()}},{key:"value",get:function(){throw Hs()}},{key:"color",get:function(){throw Hs()}},{key:"left",get:function(){throw Hs()}},{key:"right",get:function(){throw Hs()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Au(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Du=function(){function e(t){l(this,e),this.comparator=t,this.data=new Ru(this.comparator)}return d(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ou(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ou(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ou=function(){function e(t){l(this,e),this.iter=t}return d(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var ju=function(){function e(t){l(this,e),this.fields=t,t.sort(du.comparator)}return d(e,[{key:"unionWith",value:function(t){var n,r=new Du(du.comparator),i=xt(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=xt(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=xt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return su(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Lu=function(e){function t(e){l(this,t),this.binaryString=e}return d(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ou(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Lu.EMPTY_BYTE_STRING=new Lu("");var Mu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fu(e){if(Ws(!!e),"string"==typeof e){var t=0,n=Mu.exec(e);if(Ws(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Uu(e.seconds),nanos:Uu(e.nanos)}}function Uu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vu(e){return"string"==typeof e?Lu.fromBase64String(e):Lu.fromUint8Array(e)}function zu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qu(e){var t=e.mapValue.fields.__previous_value__;return zu(t)?qu(t):t}function Bu(e){var t=Fu(e.mapValue.fields.__local_write_time__.timestampValue);return new uu(t.seconds,t.nanos)}var Hu=d((function e(t,n,r,i,a,o,s,u){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Wu=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return d(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ku(e){return null==e}function Gu(e){return 0===e&&1/e==-1/0}function Qu(e){return"number"==typeof e&&Number.isInteger(e)&&!Gu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Yu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $u(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zu(e)?4:ll(e)?9007199254740991:10:Hs()}function Xu(e,t){if(e===t)return!0;var n=$u(e);if(n!==$u(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bu(e).isEqual(Bu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Fu(e.timestampValue),r=Fu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vu(e.bytesValue).isEqual(Vu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uu(e.geoPointValue.latitude)===Uu(t.geoPointValue.latitude)&&Uu(e.geoPointValue.longitude)===Uu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uu(e.integerValue)===Uu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Uu(e.doubleValue),r=Uu(t.doubleValue);return n===r?Gu(n)===Gu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return su(e.arrayValue.values||[],t.arrayValue.values||[],Xu);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Tu(n)!==Tu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xu(n[i],r[i])))return!1;return!0}(e,t);default:return Hs()}}function Ju(e,t){return void 0!==(e.values||[]).find((function(e){return Xu(e,t)}))}function Zu(e,t){if(e===t)return 0;var n=$u(e),r=$u(t);if(n!==r)return ou(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ou(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Uu(e.integerValue||e.doubleValue),r=Uu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return el(e.timestampValue,t.timestampValue);case 4:return el(Bu(e),Bu(t));case 5:return ou(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Vu(e),r=Vu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ou(n[i],r[i]);if(0!==a)return a}return ou(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ou(Uu(e.latitude),Uu(t.latitude));return 0!==n?n:ou(Uu(e.longitude),Uu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Zu(n[i],r[i]);if(a)return a}return ou(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Yu.mapValue&&t===Yu.mapValue)return 0;if(e===Yu.mapValue)return 1;if(t===Yu.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=ou(r[o],a[o]);if(0!==s)return s;var u=Zu(n[r[o]],i[a[o]]);if(0!==u)return u}return ou(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Hs()}}function el(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ou(e,t);var n=Fu(e),r=Fu(t),i=ou(n.seconds,r.seconds);return 0!==i?i:ou(n.nanos,r.nanos)}function tl(e){return nl(e)}function nl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Fu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=xt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=nl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=xt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(nl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Hs();var t,n}function rl(e){return!!e&&"integerValue"in e}function il(e){return!!e&&"arrayValue"in e}function al(e){return!!e&&"nullValue"in e}function ol(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sl(e){return!!e&&"mapValue"in e}function ul(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Iu(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ul(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ul(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ll(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var cl=function(){function e(t){l(this,e),this.value=t}return d(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!sl(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(t)}},{key:"setAll",value:function(e){var t=this,n=du.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ul(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());sl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Xu(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];sl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Iu(t,(function(t,n){return e[t]=n}));var r,i=xt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ul(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function hl(e){var t=[];return Iu(e.fields,(function(e,n){var r=new du([e]);if(sl(n)){var i=hl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=xt(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new ju(t)}var fl=function(){function e(t,n,r,i,a,o){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return d(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=cl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=cl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=lu.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,lu.min(),lu.min(),cl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,lu.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,lu.min(),cl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,lu.min(),cl.empty(),2)}}]),e}(),dl=d((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ht=null}));function pl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new dl(e,t,n,r,i,a,o)}function vl(e){var t=Ks(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+tl(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ku(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return tl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return tl(e)})).join(",")),t.ht=n}return t.ht}function ml(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Nl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Xu(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pl(e.startAt,t.startAt)&&Pl(e.endAt,t.endAt)}function yl(e){return pu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var gl=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return d(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Zu(t,this.value)):null!==t&&$u(this.value)===$u(t)&&this.ft(Zu(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hs()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new kl(e,t,r):"array-contains"===t?new xl(e,r):"in"===t?new Cl(e,r):"not-in"===t?new El(e,r):"array-contains-any"===t?new Sl(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new _l(e,n):new bl(e,n)}}]),n}(function(){return d((function e(){l(this,e)}))}()),kl=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,i)).key=pu.fromName(i.referenceValue),a}return d(n,[{key:"matches",value:function(e){var t=pu.comparator(e.key,this.key);return this.ft(t)}}]),n}(gl),_l=function(e){v(n,e);var t=_(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=wl("in",r),i}return d(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gl),bl=function(e){v(n,e);var t=_(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=wl("not-in",r),i}return d(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gl);function wl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return pu.fromName(e.referenceValue)}))}var xl=function(e){v(n,e);var t=_(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return d(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return il(t)&&Ju(t.arrayValue,this.value)}}]),n}(gl),Cl=function(e){v(n,e);var t=_(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return d(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ju(this.value.arrayValue,t)}}]),n}(gl),El=function(e){v(n,e);var t=_(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return d(n,[{key:"matches",value:function(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ju(this.value.arrayValue,t)}}]),n}(gl),Sl=function(e){v(n,e);var t=_(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return d(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!il(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ju(t.value.arrayValue,e)}))}}]),n}(gl),Tl=d((function e(t,n){l(this,e),this.position=t,this.inclusive=n})),Il=d((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function Nl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Rl(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?pu.comparator(pu.fromName(o.referenceValue),n.key):Zu(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Pl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xu(e.position[n],t.position[n]))return!1;return!0}var Al=d((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this._t=null,this.wt=null,this.startAt,this.endAt}));function Dl(e,t,n,r,i,a,o,s){return new Al(e,t,n,r,i,a,o,s)}function Ol(e){return new Al(e)}function jl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ll(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ml(e){var t,n=xt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Fl(e){return null!==e.collectionGroup}function Ul(e){var t=Ks(e);if(null===t._t){t._t=[];var n=Ml(t),r=Ll(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Il(n)),t._t.push(new Il(du.keyField(),"asc"));else{var i,a=!1,o=xt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t._t.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Il(du.keyField(),u))}}}return t._t}function Vl(e){var t=Ks(e);if(!t.wt)if("F"===t.limitType)t.wt=pl(t.path,t.collectionGroup,Ul(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=xt(Ul(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Il(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new Tl(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Tl(t.startAt.position,t.startAt.inclusive):null;t.wt=pl(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function zl(e,t,n){return new Al(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ql(e,t){return ml(Vl(e),Vl(t))&&e.limitType===t.limitType}function Bl(e){return"".concat(vl(Vl(e)),"|lt:").concat(e.limitType)}function Hl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(tl(t.value));var t})).join(", "),"]")),Ku(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return tl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return tl(e)})).join(",")),"Target(".concat(t,")")}(Vl(e)),"; limitType=").concat(e.limitType,")")}function Wl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=xt(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=xt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Rl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ul(e),t))&&!(e.endAt&&!function(e,t,n){var r=Rl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ul(e),t))}(e,t)}function Kl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Gl(e){return function(t,n){var r,i=!1,a=xt(Ul(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Ql(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Ql(e,t,n){var r=e.field.isKeyField()?pu.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Zu(r,i):Hs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Hs()}}function Yl(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(t)?"-0":t}}function $l(e){return{integerValue:""+e}}function Xl(e,t){return Qu(t)?$l(t):Yl(e,t)}var Jl=d((function e(){l(this,e),this._=void 0}));function Zl(e,t,n){return e instanceof nc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof rc?ic(e,t):e instanceof ac?oc(e,t):function(e,t){var n=tc(e,t),r=uc(n)+uc(e.yt);return rl(n)&&rl(e.yt)?$l(r):Yl(e.It,r)}(e,t)}function ec(e,t,n){return e instanceof rc?ic(e,t):e instanceof ac?oc(e,t):n}function tc(e,t){return e instanceof sc?rl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var nc=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return d(n)}(Jl),rc=function(e){v(n,e);var t=_(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return d(n)}(Jl);function ic(e,t){var n,r=lc(t),i=xt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Xu(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ac=function(e){v(n,e);var t=_(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return d(n)}(Jl);function oc(e,t){var n,r=lc(t),i=xt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Xu(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var sc=function(e){v(n,e);var t=_(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).It=e,i.yt=r,i}return d(n)}(Jl);function uc(e){return Uu(e.integerValue||e.doubleValue)}function lc(e){return il(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var cc=d((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),hc=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return d(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function fc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var dc=d((function e(){l(this,e)}));function pc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Sc(e.key,hc.none()):new kc(e.key,e.data,hc.none());var n,r=e.data,i=cl.empty(),a=new Du(du.comparator),o=xt(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new _c(e.key,i,new ju(a.toArray()),hc.none())}function vc(e,t,n){e instanceof kc?function(e,t,n){var r=e.value.clone(),i=wc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _c?function(e,t,n){if(fc(e.precondition,t)){var r=wc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function mc(e,t,n,r){return e instanceof kc?function(e,t,n,r){if(!fc(e.precondition,t))return n;var i=e.value.clone(),a=xc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _c?function(e,t,n,r){if(!fc(e.precondition,t))return n;var i=xc(e.fieldTransforms,r,t),a=t.data;return a.setAll(bc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return fc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yc(e,t){var n,r=null,i=xt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=tc(a.transform,o||null);null!=s&&(null===r&&(r=cl.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function gc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&su(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rc&&t instanceof rc||e instanceof ac&&t instanceof ac?su(e.elements,t.elements,Xu):e instanceof sc&&t instanceof sc?Xu(e.yt,t.yt):e instanceof nc&&t instanceof nc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var kc=function(e){v(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return d(n,[{key:"getFieldMask",value:function(){return null}}]),n}(dc),_c=function(e){v(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return d(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(dc);function bc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function wc(e,t,n){var r=new Map;Ws(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,ec(o,s,n[i]))}return r}function xc(e,t,n){var r,i=new Map,a=xt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Zl(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Cc,Ec,Sc=function(e){v(n,e);var t=_(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return d(n,[{key:"getFieldMask",value:function(){return null}}]),n}(dc),Tc=function(e){v(n,e);var t=_(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return d(n,[{key:"getFieldMask",value:function(){return null}}]),n}(dc),Ic=d((function e(t){l(this,e),this.count=t}));function Nc(e){switch(e){default:return Hs();case Gs.CANCELLED:case Gs.UNKNOWN:case Gs.DEADLINE_EXCEEDED:case Gs.RESOURCE_EXHAUSTED:case Gs.INTERNAL:case Gs.UNAVAILABLE:case Gs.UNAUTHENTICATED:return!1;case Gs.INVALID_ARGUMENT:case Gs.NOT_FOUND:case Gs.ALREADY_EXISTS:case Gs.PERMISSION_DENIED:case Gs.FAILED_PRECONDITION:case Gs.ABORTED:case Gs.OUT_OF_RANGE:case Gs.UNIMPLEMENTED:case Gs.DATA_LOSS:return!0}}function Rc(e){if(void 0===e)return zs("GRPC error has no .code"),Gs.UNKNOWN;switch(e){case Cc.OK:return Gs.OK;case Cc.CANCELLED:return Gs.CANCELLED;case Cc.UNKNOWN:return Gs.UNKNOWN;case Cc.DEADLINE_EXCEEDED:return Gs.DEADLINE_EXCEEDED;case Cc.RESOURCE_EXHAUSTED:return Gs.RESOURCE_EXHAUSTED;case Cc.INTERNAL:return Gs.INTERNAL;case Cc.UNAVAILABLE:return Gs.UNAVAILABLE;case Cc.UNAUTHENTICATED:return Gs.UNAUTHENTICATED;case Cc.INVALID_ARGUMENT:return Gs.INVALID_ARGUMENT;case Cc.NOT_FOUND:return Gs.NOT_FOUND;case Cc.ALREADY_EXISTS:return Gs.ALREADY_EXISTS;case Cc.PERMISSION_DENIED:return Gs.PERMISSION_DENIED;case Cc.FAILED_PRECONDITION:return Gs.FAILED_PRECONDITION;case Cc.ABORTED:return Gs.ABORTED;case Cc.OUT_OF_RANGE:return Gs.OUT_OF_RANGE;case Cc.UNIMPLEMENTED:return Gs.UNIMPLEMENTED;case Cc.DATA_LOSS:return Gs.DATA_LOSS;default:return Hs()}}(Ec=Cc||(Cc={}))[Ec.OK=0]="OK",Ec[Ec.CANCELLED=1]="CANCELLED",Ec[Ec.UNKNOWN=2]="UNKNOWN",Ec[Ec.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ec[Ec.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ec[Ec.NOT_FOUND=5]="NOT_FOUND",Ec[Ec.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ec[Ec.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ec[Ec.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ec[Ec.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ec[Ec.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ec[Ec.ABORTED=10]="ABORTED",Ec[Ec.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ec[Ec.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ec[Ec.INTERNAL=13]="INTERNAL",Ec[Ec.UNAVAILABLE=14]="UNAVAILABLE",Ec[Ec.DATA_LOSS=15]="DATA_LOSS";var Pc=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return d(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=xt(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Iu(this.inner,(function(t,n){var r,i=xt(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Nu(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ac=new Ru(pu.comparator);function Dc(){return Ac}var Oc=new Ru(pu.comparator);function jc(){for(var e=Oc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Lc(e){var t=Oc;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Mc(){return Uc()}function Fc(){return Uc()}function Uc(){return new Pc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Vc=new Ru(pu.comparator),zc=new Du(pu.comparator);function qc(){for(var e=zc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Bc=new Du(ou);function Hc(){return Bc}var Wc=function(){function e(t,n,r,i,a){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return d(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Kc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(lu.min(),i,Hc(),Dc(),qc())}}]),e}(),Kc=function(){function e(t,n,r,i,a){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return d(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,qc(),qc(),qc())}}]),e}(),Gc=d((function e(t,n,r,i){l(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Qc=d((function e(t,n){l(this,e),this.targetId=t,this.At=n})),Yc=d((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lu.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),$c=function(){function e(){l(this,e),this.Rt=0,this.bt=Zc(),this.Pt=Lu.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return d(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=qc(),t=qc(),n=qc();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Hs()}})),new Kc(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Zc()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Xc=function(){function e(t){l(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Dc(),this.qt=Jc(),this.Kt=new Du(ou)}return d(e,[{key:"Gt",value:function(e){var t,n=xt(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(s){n.e(s)}finally{n.f()}var i,a=xt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Hs()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(yl(i))if(0===n){var a=new pu(i.path);this.jt(t,a,fl.newNoDocument(a,lu.min()))}else Ws(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&yl(a.target)){var o=new pu(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,fl.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=qc();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Wc(e,n,this.Kt,this.Ut,r);return this.Ut=Dc(),this.qt=Jc(),this.Kt=new Du(ou),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new $c,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Du(ou),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Vs("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new $c),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Jc(){return new Ru(pu.comparator)}function Zc(){return new Ru(pu.comparator)}var eh={asc:"ASCENDING",desc:"DESCENDING"},th={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nh=d((function e(t,n){l(this,e),this.databaseId=t,this.gt=n}));function rh(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ih(e,t){return e.gt?t.toBase64():t.toUint8Array()}function ah(e,t){return rh(e,t.toTimestamp())}function oh(e){return Ws(!!e),lu.fromTimestamp(function(e){var t=Fu(e);return new uu(t.seconds,t.nanos)}(e))}function sh(e,t){return function(e){return new hu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function uh(e){var t=hu.fromString(e);return Ws(Ih(t)),t}function lh(e,t){return sh(e.databaseId,t.path)}function ch(e,t){var n=uh(t);if(n.get(1)!==e.databaseId.projectId)throw new Qs(Gs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qs(Gs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pu(ph(n))}function hh(e,t){return sh(e.databaseId,t)}function fh(e){var t=uh(e);return 4===t.length?hu.emptyPath():ph(t)}function dh(e){return new hu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ph(e){return Ws(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vh(e,t,n){return{name:lh(e,t),fields:n.value.mapValue.fields}}function mh(e,t){var n;if(t instanceof kc)n={update:vh(e,t.key,t.value)};else if(t instanceof Sc)n={delete:lh(e,t.key)};else if(t instanceof _c)n={update:vh(e,t.key,t.data),updateMask:Th(t.fieldMask)};else{if(!(t instanceof Tc))return Hs();n={verify:lh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof nc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ac)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sc)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Hs()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ah(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Hs()}(e,t.precondition)),n}function yh(e,t){return{documents:[hh(e,t.path)]}}function gh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=hh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ol(e.value))return{unaryFilter:{field:xh(e.field),op:"IS_NAN"}};if(al(e.value))return{unaryFilter:{field:xh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ol(e.value))return{unaryFilter:{field:xh(e.field),op:"IS_NOT_NAN"}};if(al(e.value))return{unaryFilter:{field:xh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xh(e.field),op:wh(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:xh(e.field),direction:bh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.gt||Ku(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function kh(e){var t=fh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ws(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=_h(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Il(Ch(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Ku(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Tl(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Tl(n,t)}(n.endAt)),Dl(t,i,s,o,u,"F",l,c)}function _h(e){return e?void 0!==e.unaryFilter?[Sh(e)]:void 0!==e.fieldFilter?[Eh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return _h(e)})).reduce((function(e,t){return e.concat(t)})):Hs():[]}function bh(e){return eh[e]}function wh(e){return th[e]}function xh(e){return{fieldPath:e.canonicalString()}}function Ch(e){return du.fromServerFormat(e.fieldPath)}function Eh(e){return gl.create(Ch(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hs()}}(e.fieldFilter.op),e.fieldFilter.value)}function Sh(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ch(e.unaryFilter.field);return gl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ch(e.unaryFilter.field);return gl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ch(e.unaryFilter.field);return gl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ch(e.unaryFilter.field);return gl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Hs()}}function Th(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ih(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Nh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Rh=([].concat(u(Nh),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Ph=Rh;[].concat(Ph,["indexConfiguration","indexState","indexEntries"]);var Ah=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return d(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&vc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=xt(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=mc(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=xt(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=mc(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Fc();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=pc(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(lu.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),qc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,(function(e,t){return gc(e,t)}))&&su(this.baseMutations,e.baseMutations,(function(e,t){return gc(e,t)}))}}]),e}(),Dh=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return d(e,null,[{key:"from",value:function(t,n,r){Ws(t.mutations.length===r.length);for(var i=Vc,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Oh=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return d(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),jh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:lu.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lu.EMPTY_BYTE_STRING;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return d(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Lh=d((function e(t){l(this,e),this.re=t}));function Mh(e){var t=kh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zl(t,t.limit,"L"):t}var Fh=function(){function e(){l(this,e)}return d(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Uu(e.integerValue));else if("doubleValue"in e){var n=Uu(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Gu(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Vu(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?ll(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Hs()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=xt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),pu.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();Fh.Te=new Fh;var Uh=function(){function e(){l(this,e),this.Ye=new Vh}return d(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Cu.resolve()}},{key:"getCollectionParents",value:function(e,t){return Cu.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Cu.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Cu.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Cu.resolve(null)}},{key:"getIndexType",value:function(e,t){return Cu.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Cu.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Cu.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Cu.resolve(gu.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Cu.resolve(gu.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Cu.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Cu.resolve()}}]),e}(),Vh=function(){function e(){l(this,e),this.index={}}return d(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Du(hu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Du(hu.comparator)).toArray()}}]),e}();new Uint8Array(0);var zh=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return d(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();zh.DEFAULT_COLLECTION_PERCENTILE=10,zh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zh.DEFAULT=new zh(41943040,zh.DEFAULT_COLLECTION_PERCENTILE,zh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zh.DISABLED=new zh(-1,0,0);var qh=function(){function e(t){l(this,e),this.bn=t}return d(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var Bh=function(){function e(){l(this,e),this.changes=new Pc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return d(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,fl.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Cu.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Hh=d((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Wh=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return d(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&mc(r.mutation,e,ju.empty(),uu.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,qc()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qc(),i=Mc();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=jc();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Mc();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,qc())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Dc(),a=Uc(),o=Uc();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof _c)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),mc(o.mutation,t,o.mutation.getFieldMask(),uu.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Hh(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Uc(),i=new Ru((function(e,t){return e-t})),a=qc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=xt(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ju.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||qc()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=Fc();l.forEach((function(e){if(!a.has(e)){var n=pc(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return Cu.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return pu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Cu.resolve(Mc()),s=-1,u=a;return o.next((function(t){return Cu.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Cu.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,qc())})).next((function(e){return{batchId:s,changes:Lc(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new pu(t)).next((function(e){var t=jc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=jc();return this.indexManager.getCollectionParents(e,i).next((function(o){return Cu.forEach(o,(function(o){var s=function(e,t){return new Al(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,fl.newInvalidDocument(n)))}));var n=jc();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&mc(a.mutation,i,ju.empty(),uu.now()),Wl(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Cu.resolve(fl.newInvalidDocument(t))}}]),e}(),Kh=function(){function e(t){l(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return d(e,[{key:"getBundleMetadata",value:function(e,t){return Cu.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:oh(n.createTime)}),Cu.resolve()}},{key:"getNamedQuery",value:function(e,t){return Cu.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Mh(e.bundledQuery),readTime:oh(e.readTime)}}(t)),Cu.resolve()}}]),e}(),Gh=function(){function e(){l(this,e),this.overlays=new Ru(pu.comparator),this.es=new Map}return d(e,[{key:"getOverlay",value:function(e,t){return Cu.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Mc();return Cu.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Cu.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Cu.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Mc(),i=t.length+1,a=new pu(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Cu.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ru((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Mc(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Mc(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Cu.resolve(u)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Oh(t,n));var a=this.es.get(t);void 0===a&&(a=qc(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Qh=function(){function e(){l(this,e),this.ns=new Du(Yh.ss),this.rs=new Du(Yh.os)}return d(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Yh(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Yh(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new pu(new hu([])),r=new Yh(n,e),i=new Yh(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new pu(new hu([])),n=new Yh(t,e),r=new Yh(t,e+1),i=qc();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Yh(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Yh=function(){function e(t,n){l(this,e),this.key=t,this._s=n}return d(e,null,[{key:"ss",value:function(e,t){return pu.comparator(e.key,t.key)||ou(e._s,t._s)}},{key:"os",value:function(e,t){return ou(e._s,t._s)||pu.comparator(e.key,t.key)}}]),e}(),$h=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Du(Yh.ss)}return d(e,[{key:"checkEmpty",value:function(e){return Cu.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Ah(i,t,n,r);this.mutationQueue.push(a);var o,s=xt(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new Yh(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Cu.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Cu.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Cu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Cu.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Cu.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Yh(t,0),i=new Yh(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Cu.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Du(ou);return t.forEach((function(e){var t=new Yh(e,0),i=new Yh(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Cu.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;pu.isDocumentKey(i)||(i=i.child(""));var a=new Yh(new pu(i),0),o=new Du(ou);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Cu.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ws(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Cu.forEach(t.mutations,(function(i){var a=new Yh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Yh(t,0),r=this.gs.firstAfterOrEqual(n);return Cu.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Cu.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Xh=function(){function e(t){l(this,e),this.Es=t,this.docs=new Ru(pu.comparator),this.size=0}return d(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Cu.resolve(n?n.document.mutableCopy():fl.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Dc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():fl.newInvalidDocument(e))})),Cu.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Dc(),i=new pu(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||ku(yu(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Cu.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Hs()}},{key:"As",value:function(e,t){return Cu.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Jh(this)}},{key:"getSize",value:function(e){return Cu.resolve(this.size)}}]),e}(),Jh=function(e){v(n,e);var t=_(n);function n(e){var r;return l(this,n),(r=t.call(this)).Yn=e,r}return d(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Cu.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Bh),Zh=function(){function e(t){l(this,e),this.persistence=t,this.Rs=new Pc((function(e){return vl(e)}),ml),this.lastRemoteSnapshotVersion=lu.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Qh,this.targetCount=0,this.vs=qh.Pn()}return d(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Cu.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Cu.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Cu.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Cu.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Cu.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new qh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Cu.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Cu.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Cu.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Cu.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Cu.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Cu.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Cu.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Cu.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Cu.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Cu.resolve(n)}},{key:"containsKey",value:function(e,t){return Cu.resolve(this.Ps.containsKey(t))}}]),e}(),ef=function(){function e(t,n){var r=this;l(this,e),this.Vs={},this.overlays={},this.Ss=new Su(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Zh(this),this.indexManager=new Uh,this.remoteDocumentCache=new Xh((function(e){return r.referenceDelegate.xs(e)})),this.It=new Lh(n),this.Ns=new Kh(this.It)}return d(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Gh,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new $h(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Vs("MemoryPersistence","Starting transaction:",e);var i=new tf(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Cu.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),tf=function(e){v(n,e);var t=_(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return d(n)}(bu),nf=function(){function e(t){l(this,e),this.persistence=t,this.Fs=new Qh,this.$s=null}return d(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Hs()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Cu.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Cu.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Cu.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cu.forEach(this.Ls,(function(r){var i=pu.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,lu.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Cu.or([function(){return Cu.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var rf=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return d(e,null,[{key:"Ci",value:function(t,n){var r,i=qc(),a=qc(),o=xt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),af=function(){function e(){l(this,e),this.xi=!1}return d(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(jl(t))return Cu.resolve(null);var r=Vl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=zl(t,null,"F"),r=Vl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=qc.apply(void 0,u(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,zl(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return jl(t)||r.isEqual(lu.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Us()<=wn.DEBUG&&Vs("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hl(t)),i.Bi(e,o,t,mu(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Du(Gl(e));return t.forEach((function(t,r){Wl(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Us()<=wn.DEBUG&&Vs("QueryEngine","Using full collection scan to execute query:",Hl(t)),this.Ni.getDocumentsMatchingQuery(e,t,gu.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),of=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Ru(ou),this.qi=new Pc((function(e){return vl(e)}),ml),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return d(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function sf(e,t,n,r){return new of(e,t,n,r)}function uf(e,t){return lf.apply(this,arguments)}function lf(){return lf=wt(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=qc(),u=xt(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,h=xt(l.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value;s=s.add(f.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=xt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=xt(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function cf(e,t){var n=Ks(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Cu.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ws(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=qc(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function hf(e){var t=Ks(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function ff(e,t){var n=Ks(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(Lu.EMPTY_BYTE_STRING,lu.min()).withLastLimboFreeSnapshotVersion(lu.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Cs.updateTargetData(e,l))}}));var s=Dc(),u=qc();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(df(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(lu.min())){var l=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return Cu.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ui=i,e}))}function df(e,t,n){var r=qc(),i=qc();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Dc();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(lu.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Vs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function pf(e,t){var n=Ks(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function vf(e,t){var n=Ks(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Cu.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new jh(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function mf(e,t,n){return yf.apply(this,arguments)}function yf(){return yf=wt(_t().mark((function e(t,n,r){var i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ks(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Eu(e.t1)){e.next=12;break}throw e.t1;case 12:Vs("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),yf.apply(this,arguments)}function gf(e,t,n){var r=Ks(e),i=lu.min(),a=qc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ks(e),i=r.qi.get(n);return void 0!==i?Cu.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Vl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:lu.min(),n?a:qc())})).next((function(e){return kf(r,Kl(t),e),{documents:e,Hi:a}}))}))}function kf(e,t,n){var r=e.Ki.get(t)||lu.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var _f=function(){function e(){l(this,e),this.activeTargetIds=Hc()}return d(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),bf=function(){function e(){l(this,e),this.Lr=new _f,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return d(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new _f,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),wf=function(){function e(){l(this,e)}return d(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),xf=function(){function e(){var t=this;l(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return d(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Vs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=xt(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Vs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=xt(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Cf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ef=function(){function e(t){l(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return d(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Sf=function(e){v(n,e);var t=_(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return d(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Os;o.setWithCredentials(!0),o.listenOnce(Ns.COMPLETE,(function(){var t;try{switch(o.getLastErrorCode()){case Is.NO_ERROR:var n=o.getResponseJson();Vs("Connection","XHR received:",JSON.stringify(n)),i(n);break;case Is.TIMEOUT:Vs("Connection",'RPC "'+e+'" timed out'),a(new Qs(Gs.DEADLINE_EXCEEDED,"Request time out"));break;case Is.HTTP_ERROR:var r=o.getStatus();if(Vs("Connection",'RPC "'+e+'" failed with status:',r,"response text:",o.getResponseText()),r>0){var s=o.getResponseJson();Array.isArray(s)&&(s=s[0]);var u=null===(t=s)||void 0===t?void 0:t.error;if(u&&u.status&&u.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Gs).indexOf(t)>=0?t:Gs.UNKNOWN}(u.status);a(new Qs(l,u.message))}else a(new Qs(Gs.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Qs(Gs.UNAVAILABLE,"Connection failed."));break;default:Hs()}}finally{Vs("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ss(),a=Ts(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new As({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Vs("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,h=new Ef({Hr:function(e){c?Vs("Connection","Not sending because WebChannel is closed:",e):(l||(Vs("Connection","Opening WebChannel transport."),u.open(),l=!0),Vs("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,Ds.EventType.OPEN,(function(){c||Vs("Connection","WebChannel transport opened.")})),f(u,Ds.EventType.CLOSE,(function(){c||(c=!0,Vs("Connection","WebChannel transport closed"),h.io())})),f(u,Ds.EventType.ERROR,(function(e){c||(c=!0,qs("Connection","WebChannel transport errored:",e),h.io(new Qs(Gs.UNAVAILABLE,"The operation could not be completed")))})),f(u,Ds.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Ws(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Vs("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Cc[e];if(void 0!==t)return Rc(t)}(a),s=i.message;void 0===o&&(o=Gs.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,h.io(new Qs(o,s)),u.close()}else Vs("Connection","WebChannel received:",n),h.ro(n)}})),f(a,Rs.STAT_EVENT,(function(e){e.stat===Ps.PROXY?Vs("Connection","Detected buffering proxy"):e.stat===Ps.NOPROXY&&Vs("Connection","Detected no buffering proxy")})),setTimeout((function(){h.so()}),0),h}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return d(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Vs("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Vs("RestConnection","Received: ",e),e}),(function(t){throw qs("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ms,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Cf[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Tf(){return"undefined"!=typeof document?document:null}function If(e){return new nh(e,!0)}var Nf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return d(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Vs("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Rf=function(){function e(t,n,r,i,a,o,s,u){l(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Nf(t,n)}return d(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Gs.RESOURCE_EXHAUSTED?(zs(n.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Gs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Qs(Gs.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(wt(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Vs("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Vs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Pf=function(e){v(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).It=o,u}return d(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Hs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Ws(void 0===t||"string"==typeof t),Lu.fromBase64String(t||"")):(Ws(void 0===t||t instanceof Uint8Array),Lu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Gs.UNKNOWN:Rc(e.code);return new Qs(t,e.message||"")}(o);n=new Yc(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=ch(e,u.document.name),c=oh(u.document.updateTime),h=new cl({mapValue:{fields:u.document.fields}}),f=fl.newFoundDocument(l,c,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Gc(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=ch(e,v.document),y=v.readTime?oh(v.readTime):lu.min(),g=fl.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Gc([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var _=t.documentRemove;_.document;var b=ch(e,_.document),w=_.removedTargetIds||[];n=new Gc([],w,b,null)}else{if(!("filter"in t))return Hs();t.filter;var x=t.filter;x.targetId;var C=x.count||0,E=new Ic(C),S=x.targetId;n=new Qc(S,E)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return lu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?lu.min():t.readTime?oh(t.readTime):lu.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=dh(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=yl(r)?{documents:yh(e,r)}:{query:gh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ih(e,t.resumeToken):t.snapshotVersion.compareTo(lu.min())>0&&(n.readTime=rh(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hs()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=dh(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(Rf),Af=function(e){v(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).It=o,u.Jo=!1,u}return d(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Nr(m(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Ws(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Ws(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?oh(e.updateTime):oh(t);return n.isEqual(lu.min())&&(n=oh(t)),new cc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=oh(e.commitTime);return this.listener.Zo(n,t)}return Ws(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=dh(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return mh(t.It,e)}))};this.Bo(n)}}]),n}(Rf),Df=function(e){v(n,e);var t=_(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return d(n,[{key:"su",value:function(){if(this.nu)throw new Qs(Gs.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Gs.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Qs(Gs.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],l=o[1];return i.connection._o(e,t,n,u,l,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Gs.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Qs(Gs.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return d((function e(){l(this,e)}))}());var Of=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return d(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(zs(t),this.ou=!1):Vs("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),jf=d((function e(t,n,r,i,a){var o=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Kf(o),!e.t0){e.next=5;break}return Vs("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ks(t))._u.add(4),e.next=4,Ff(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Lf(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Of(r,i)}));function Lf(e){return Mf.apply(this,arguments)}function Mf(){return Mf=wt(_t().mark((function e(t){var n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Kf(t)){e.next=18;break}n=xt(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Mf.apply(this,arguments)}function Ff(e){return Uf.apply(this,arguments)}function Uf(){return Uf=wt(_t().mark((function e(t){var n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xt(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Uf.apply(this,arguments)}function Vf(e,t){var n=Ks(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Wf(n)?Hf(n):bd(n).ko()&&qf(n,t))}function zf(e,t){var n=Ks(e),r=bd(n);n.du.delete(t),r.ko()&&Bf(n,t),0===n.du.size&&(r.ko()?r.Fo():Kf(n)&&n.gu.set("Unknown"))}function qf(e,t){e.yu.Mt(t.targetId),bd(e).zo(t)}function Bf(e,t){e.yu.Mt(t),bd(e).Ho(t)}function Hf(e){e.yu=new Xc({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),bd(e).start(),e.gu.uu()}function Wf(e){return Kf(e)&&!bd(e).No()&&e.du.size>0}function Kf(e){return 0===Ks(e)._u.size}function Gf(e){e.yu=void 0}function Qf(e){return Yf.apply(this,arguments)}function Yf(){return Yf=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){qf(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Yf.apply(this,arguments)}function $f(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gf(t),Wf(t)?(t.gu.hu(n),Hf(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Jf(e,t,n){return Zf.apply(this,arguments)}function Zf(){return Zf=wt(_t().mark((function e(t,n,r){var i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Yc&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=wt(_t().mark((function e(t,n){var r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=xt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Vs("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ed(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Gc?t.yu.Gt(n):n instanceof Qc?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(lu.min())){e.next=29;break}return e.prev=14,e.next=17,hf(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Lu.EMPTY_BYTE_STRING,n.snapshotVersion)),Bf(e,t);var r=new jh(n.target,t,1,n.sequenceNumber);qf(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Vs("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ed(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Zf.apply(this,arguments)}function ed(e,t,n){return td.apply(this,arguments)}function td(){return td=wt(_t().mark((function e(t,n,r){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Eu(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Ff(t);case 5:t.gu.set("Offline"),r||(r=function(){return hf(t.localStore)}),t.asyncQueue.enqueueRetryable(wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vs("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Lf(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t){return t().catch((function(n){return ed(e,n,t)}))}function rd(e){return id.apply(this,arguments)}function id(){return id=wt(_t().mark((function e(t){var n,r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ks(t),r=wd(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!ad(n)){e.next=19;break}return e.prev=3,e.next=6,pf(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,od(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ed(n,e.t0);case 17:e.next=2;break;case 19:sd(n)&&ud(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),id.apply(this,arguments)}function ad(e){return Kf(e)&&e.fu.length<10}function od(e,t){e.fu.push(t);var n=wd(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function sd(e){return Kf(e)&&!wd(e).No()&&e.fu.length>0}function ud(e){wd(e).start()}function ld(e){return cd.apply(this,arguments)}function cd(){return cd=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wd(t).eu();case 1:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function hd(e){return fd.apply(this,arguments)}function fd(){return fd=wt(_t().mark((function e(t){var n,r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wd(t),r=xt(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),fd.apply(this,arguments)}function dd(e,t,n){return pd.apply(this,arguments)}function pd(){return pd=wt(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Dh.from(i,n,r),e.next=3,nd(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,rd(t);case 5:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t){return md.apply(this,arguments)}function md(){return md=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&wd(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=wt(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nc(i=n.code)||i===Gs.ABORTED){e.next=7;break}return r=t.fu.shift(),wd(t).Mo(),e.next=5,nd(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,rd(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:sd(t)&&ud(t);case 5:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function yd(e,t){return gd.apply(this,arguments)}function gd(){return gd=wt(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ks(t)).asyncQueue.verifyOperationInProgress(),Vs("RemoteStore","RemoteStore received new credentials"),i=Kf(r),r._u.add(3),e.next=6,Ff(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Lf(r);case 12:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function kd(e,t){return _d.apply(this,arguments)}function _d(){return _d=wt(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ks(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Lf(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Ff(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}function bd(e){return e.pu||(e.pu=function(e,t,n){var r=Ks(e);return r.su(),new Pf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Qf.bind(null,e),Zr:$f.bind(null,e),Wo:Jf.bind(null,e)}),e.wu.push(function(){var t=wt(_t().mark((function t(n){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),Wf(e)?Hf(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Gf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function wd(e){return e.Iu||(e.Iu=function(e,t,n){var r=Ks(e);return r.su(),new Af(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:ld.bind(null,e),Zr:vd.bind(null,e),tu:hd.bind(null,e),Zo:dd.bind(null,e)}),e.wu.push(function(){var t=wt(_t().mark((function t(n){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,rd(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Vs("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var xd=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return d(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qs(Gs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Cd(e,t){if(zs("AsyncQueue","".concat(t,": ").concat(e)),Eu(e))return new Qs(Gs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ed=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||pu.comparator(e.key,n.key)}:function(e,t){return pu.comparator(e.key,t.key)},this.keyedMap=jc(),this.sortedSet=new Ru(this.comparator)}return d(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Sd=function(){function e(){l(this,e),this.Tu=new Ru(pu.comparator)}return d(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Hs():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Td=function(){function e(t,n,r,i,a,o,s,u,c){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return d(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ql(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Ed.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Id=d((function e(){l(this,e),this.Au=void 0,this.listeners=[]})),Nd=d((function e(){l(this,e),this.queries=new Pc((function(e){return Bl(e)}),ql),this.onlineState="Unknown",this.Ru=new Set}));function Rd(e,t){return Pd.apply(this,arguments)}function Pd(){return Pd=wt(_t().mark((function e(t,n){var r,i,a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ks(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Id),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Cd(e.t0,"Initialization of query '".concat(Hl(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&Ld(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Pd.apply(this,arguments)}function Ad(e,t){return Dd.apply(this,arguments)}function Dd(){return Dd=wt(_t().mark((function e(t,n){var r,i,a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ks(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Dd.apply(this,arguments)}function Od(e,t){var n,r=Ks(e),i=!1,a=xt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=xt(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Pu(o)&&(i=!0)}}catch(h){c.e(h)}finally{c.f()}u.Au=o}}}catch(h){a.e(h)}finally{a.f()}i&&Ld(r)}function jd(e,t,n){var r=Ks(e),i=r.queries.get(t);if(i){var a,o=xt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Ld(e){e.Ru.forEach((function(e){e.next()}))}var Md=function(){function e(t,n,r){l(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return d(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=xt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Td(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}();var Fd=d((function e(t){l(this,e),this.key=t})),Ud=d((function e(t){l(this,e),this.key=t})),Vd=function(){function e(t,n){l(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=qc(),this.mutatedKeys=qc(),this.Gu=Gl(t),this.Qu=new Ed(this.Gu)}return d(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Sd,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),h=Wl(n.query,t)?t:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Hu(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Gu(h,u)>0||l&&n.Gu(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hs()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new Td(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Sd,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=qc(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Ud(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Fd(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=qc();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return Td.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),zd=d((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),qd=d((function e(t){l(this,e),this.key=t,this.nc=!1})),Bd=function(){function e(t,n,r,i,a,o){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Pc((function(e){return Bl(e)}),ql),this.rc=new Map,this.oc=new Set,this.uc=new Ru(pu.comparator),this.cc=new Map,this.ac=new Qh,this.hc={},this.lc=new Map,this.fc=qh.vn(),this.onlineState="Unknown",this.dc=void 0}return d(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function Hd(e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=wt(_t().mark((function e(t,n){var r,i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kp(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,vf(r.localStore,Vl(n));case 8:return s=e.sent,r.isPrimaryClient&&Vf(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Kd(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}function Kd(e,t,n,r,i){return Gd.apply(this,arguments)}function Gd(){return Gd=wt(_t().mark((function e(t,n,r,i,a){var o,s,u,l,c,h;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=wt(_t().mark((function e(t,n,r,i){var a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,gf(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(hp(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,gf(t.localStore,n,!0);case 3:return o=e.sent,s=new Vd(n,o.Hi),u=s.Wu(o.documents),l=Kc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=s.applyChanges(u,t.isPrimaryClient,l),hp(t,r,c.Xu),h=new zd(n,r,s),e.abrupt("return",(t.ic.set(n,h),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Gd.apply(this,arguments)}function Qd(e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=wt(_t().mark((function e(t,n){var r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ks(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!ql(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,mf(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),zf(r.remoteStore,i.targetId),lp(r,i.targetId)})).catch(wu);case 9:e.next=14;break;case 11:return lp(r,i.targetId),e.next=14,mf(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Yd.apply(this,arguments)}function $d(e,t,n){return Xd.apply(this,arguments)}function Xd(){return Xd=wt(_t().mark((function e(t,n,r){var i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_p(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ks(e),a=uu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),qc());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Dc(),u=qc();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=xt(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=yc(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new _c(l.key,c,hl(c.value.mapValue),hc.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Lc(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Ru(ou)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,pp(i,a.changes);case 9:return e.next=11,rd(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Cd(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Xd.apply(this,arguments)}function Jd(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=wt(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),e.prev=1,e.next=4,ff(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Ws(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Ws(n.nc):e.removedDocuments.size>0&&(Ws(n.nc),n.nc=!1))})),e.next=8,pp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,wu(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Zd.apply(this,arguments)}function ep(e,t,n){var r=Ks(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ks(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=xt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ld(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function tp(e,t,n){return np.apply(this,arguments)}function np(){return np=wt(_t().mark((function e(t,n,r){var i,a,o,s,u,l;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ks(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Ru(pu.comparator)).insert(o,fl.newNoDocument(o,lu.min())),u=qc().add(o),l=new Wc(lu.min(),new Map,new Du(ou),s,u),e.next=9,Jd(i,l);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),dp(i),e.next=16;break;case 14:return e.next=16,mf(i.localStore,n,!1).then((function(){return lp(i,n,r)})).catch(wu);case 16:case"end":return e.stop()}}),e)}))),np.apply(this,arguments)}function rp(e,t){return ip.apply(this,arguments)}function ip(){return ip=wt(_t().mark((function e(t,n){var r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),i=n.batch.batchId,e.prev=1,e.next=4,cf(r.localStore,n);case 4:return a=e.sent,up(r,i,null),sp(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,pp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ip.apply(this,arguments)}function ap(e,t,n){return op.apply(this,arguments)}function op(){return op=wt(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ks(t),e.prev=1,e.next=4,function(e,t){var n=Ks(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Ws(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,up(i,n,r),sp(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,pp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),op.apply(this,arguments)}function sp(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function up(e,t,n){var r=Ks(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function lp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=xt(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||cp(e,t)}))}function cp(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(zf(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),dp(e))}function hp(e,t,n){var r,i=xt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Fd?(e.ac.addReference(a.key,t),fp(e,a)):a instanceof Ud?(Vs("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||cp(e,a.key)):Hs()}}catch(o){i.e(o)}finally{i.f()}}function fp(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Vs("SyncEngine","New document in limbo: "+n),e.oc.add(r),dp(e))}function dp(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new pu(hu.fromString(t)),r=e.fc.next();e.cc.set(r,new qd(n)),e.uc=e.uc.insert(n,r),Vf(e.remoteStore,new jh(Vl(Ol(n.path)),r,2,Su.at))}}function pp(e,t,n){return vp.apply(this,arguments)}function vp(){return vp=wt(_t().mark((function e(t,n,r){var i,a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ks(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=rf.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=wt(_t().mark((function e(t,n){var r,i,a,o,s,u,l,c;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Cu.forEach(n,(function(t){return Cu.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Cu.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Eu(e.t0)){e.next=10;break}throw e.t0;case 10:Vs("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=xt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ui.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.Ui=r.Ui.insert(s,c))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function mp(e,t){return yp.apply(this,arguments)}function yp(){return yp=wt(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ks(t)).currentUser.isEqual(n)){e.next=11;break}return Vs("SyncEngine","User change. New user:",n.toKey()),e.next=5,uf(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Qs(Gs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,pp(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function gp(e,t){var n=Ks(e),r=n.cc.get(t);if(r&&r.nc)return qc().add(r.key);var i=qc(),a=n.rc.get(t);if(!a)return i;var o,s=xt(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.ic.get(u);i=i.unionWith(l.view.ju)}}catch(c){s.e(c)}finally{s.f()}return i}function kp(e){var t=Ks(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tp.bind(null,t),t.sc.Wo=Od.bind(null,t.eventManager),t.sc.wc=jd.bind(null,t.eventManager),t}function _p(e){var t=Ks(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ap.bind(null,t),t}var bp=function(){function e(){l(this,e),this.synchronizeTabs=!1}return d(e,[{key:"initialize",value:function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=If(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return sf(this.persistence,new af,e.initialUser,this.It)}},{key:"yc",value:function(e){return new ef(nf.Bs,this.It)}},{key:"gc",value:function(e){return new bf}},{key:"terminate",value:function(){var e=wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wp=function(){function e(){l(this,e)}return d(e,[{key:"initialize",value:function(){var e=wt(_t().mark((function e(t,n){var r=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ep(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mp.bind(null,this.syncEngine),e.next=12,kd(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Nd}},{key:"createDatastore",value:function(e){var t,n=If(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Sf(t));return function(e,t,n,r){return new Df(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ep(o.syncEngine,e,0)},a=xf.C()?new xf:new wf,new jf(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Bd(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ks(t),Vs("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Ff(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function xp(e,t,n){if(!n)throw new Qs(Gs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Cp(e){if(!pu.isDocumentKey(e))throw new Qs(Gs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ep(e){if(pu.isDocumentKey(e))throw new Qs(Gs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Hs()}function Tp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qs(Gs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sp(e);throw new Qs(Gs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Ip=new Map,Np=function(){function e(t){var n;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Qs(Gs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Qs(Gs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Qs(Gs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return d(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Rp=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Np({}),this._settingsFrozen=!1}return d(e,[{key:"app",get:function(){if(!this._app)throw new Qs(Gs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Qs(Gs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Np(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Xs;switch(e.type){case"gapi":var t=e.client;return new tu(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Qs(Gs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ip.get(e);t&&(Vs("ComponentProvider","Removing Datastore"),Ip.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Pp(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Tp(e,Rp))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&qs("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Ls.MOCK_USER;else{o=Qt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Qs(Gs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Ls(u)}e._authCredentials=new Js(new $s(o,s))}}var Ap=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return d(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Op(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Dp=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return d(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Op=function(e){v(n,e);var t=_(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,Ol(i)))._path=i,a.type="collection",a}return d(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ap(this.firestore,null,new pu(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Dp);function jp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=yn(e),xp("collection","path",t),e instanceof Rp){var a=hu.fromString.apply(hu,[t].concat(r));return Ep(a),new Op(e,null,a)}if(!(e instanceof Ap||e instanceof Op))throw new Qs(Gs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(hu.fromString.apply(hu,[t].concat(r)));return Ep(o),new Op(e.firestore,null,o)}var Lp=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return d(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Mp=function(){function e(t,n,r,i){var a=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ls.UNAUTHENTICATED,this.clientId=au.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vs("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Vs("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return d(e,[{key:"getConfiguration",value:function(){var e=wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Qs(Gs.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(wt(_t().mark((function n(){var r;return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Cd(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Fp(e,t){return Up.apply(this,arguments)}function Up(){return Up=wt(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Vs("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,uf(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Up.apply(this,arguments)}function Vp(e,t){return zp.apply(this,arguments)}function zp(){return zp=wt(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,qp(t);case 3:return r=e.sent,Vs("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return yd(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return yd(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function qp(e){return Bp.apply(this,arguments)}function Bp(){return Bp=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Vs("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Fp(t,new bp);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Bp.apply(this,arguments)}function Hp(e){return Wp.apply(this,arguments)}function Wp(){return Wp=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Vs("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Vp(t,new wp);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Wp.apply(this,arguments)}function Kp(e){return Hp(e).then((function(e){return e.syncEngine}))}function Gp(e){return Qp.apply(this,arguments)}function Qp(){return Qp=wt(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hp(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Hd.bind(null,n.syncEngine),r.onUnlisten=Qd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}function Yp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ys;return e.asyncQueue.enqueueAndForget(wt(_t().mark((function i(){return _t().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Lp({next:function(n){t.enqueueAndForget((function(){return Ad(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Qs(Gs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Md(n,a,{includeMetadataChanges:!0,Nu:!0});return Rd(e,o)},i.next=3,Gp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var $p=function(){function e(){var t=this;l(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Nf(this,"async_queue_retry"),this.Wc=function(){var e=Tf();e&&Vs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Tf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return d(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=Tf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new Ys;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=wt(_t().mark((function e(){var t=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Eu(e.t0)){e.next=12;break}throw e.t0;case 12:Vs("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw zs("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=xd.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&Hs()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=wt(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=xt(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=xt(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();var Xp=function(e){v(n,e);var t=_(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new $p,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return d(n,[{key:"_terminate",value:function(){return this._firestoreClient||Zp(this),this._firestoreClient.terminate()}}]),n}(Rp);function Jp(e){return e._firestoreClient||Zp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Hu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Mp(e._authCredentials,e._appCheckCredentials,e._queue,r)}var ev=function(){function e(t){l(this,e),this._byteString=t}return d(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Lu.fromBase64String(t))}catch(t){throw new Qs(Gs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Lu.fromUint8Array(t))}}]),e}(),tv=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Qs(Gs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new du(n)}return d(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var nv=d((function e(t){l(this,e),this._methodName=t})),rv=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new Qs(Gs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Qs(Gs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return d(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ou(this._lat,e._lat)||ou(this._long,e._long)}}]),e}(),iv=/^__.*__$/,av=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return d(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new _c(e,this.data,this.fieldMask,t,this.fieldTransforms):new kc(e,this.data,t,this.fieldTransforms)}}]),e}();function ov(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hs()}}var sv=function(){function e(t,n,r,i,a,o){l(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return d(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return gv(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ov(this.sa)&&iv.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),uv=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||If(t)}return d(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sv({sa:e,methodName:t,fa:n,path:du.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function lv(e){var t=e._freezeSettings(),n=If(e._databaseId);return new uv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cv(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);pv("Data must be an object, but it was:",o,r);var s,u,l=fv(r,o);if(a.merge)s=new ju(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,h=[],f=xt(a.mergeFields);try{for(f.s();!(c=f.n()).done;){var d=c.value,p=vv(t,d,n);if(!o.contains(p))throw new Qs(Gs.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));kv(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new ju(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new av(new cl(l),s,u)}function hv(e,t){if(dv(e=yn(e)))return pv("Unsupported field value:",t,e),fv(e,t);if(e instanceof nv)return function(e,t){if(!ov(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=xt(e);try{for(a.s();!(n=a.n()).done;){var o=hv(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=yn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xl(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=uu.fromDate(e);return{timestampValue:rh(t.It,n)}}if(e instanceof uu){var r=new uu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rh(t.It,r)}}if(e instanceof rv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ev)return{bytesValue:ih(t.It,e._byteString)};if(e instanceof Ap){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:sh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(Sp(e)))}(e,t)}function fv(e,t){var n={};return Nu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Iu(e,(function(e,r){var i=hv(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function dv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof uu||e instanceof rv||e instanceof ev||e instanceof Ap||e instanceof nv)}function pv(e,t,n){if(!dv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Sp(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function vv(e,t,n){if((t=yn(t))instanceof tv)return t._internalPath;if("string"==typeof t)return yv(e,t);throw gv("Field path arguments must be of type string or ",e,!1,void 0,n)}var mv=new RegExp("[~\\*/\\[\\]]");function yv(e,t,n){if(t.search(mv)>=0)throw gv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return b(tv,u(t.split(".")))._internalPath}catch(r){throw gv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gv(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Qs(Gs.INVALID_ARGUMENT,s+e+u)}function kv(e,t){return e.some((function(e){return e.isEqual(t)}))}var _v=function(){function e(t,n,r,i,a){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return d(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ap(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new bv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(wv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),bv=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return d(n,[{key:"data",value:function(){return Nr(m(n.prototype),"data",this).call(this)}}]),n}(_v);function wv(e,t){return"string"==typeof t?yv(e,t):t instanceof tv?t._internalPath:t._delegate._internalPath}function xv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Qs(Gs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cv=function(){function e(){l(this,e)}return d(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hs()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Iu(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new rv(Uu(e.latitude),Uu(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=qu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Fu(e);return new uu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=hu.fromString(e);Ws(Ih(n));var r=new Wu(n.get(1),n.get(3)),i=new pu(n.popFirst(5));return r.isEqual(t)||zs("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Ev(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Sv=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return d(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Tv=function(e){v(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return d(n,[{key:"exists",value:function(){return Nr(m(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(wv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(_v),Iv=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return d(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nr(m(n.prototype),"data",this).call(this,e)}}]),n}(Tv),Nv=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sv(i.hasPendingWrites,i.fromCache),this.query=r}return d(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Iv(n._firestore,n._userDataWriter,r.key,r,new Sv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qs(Gs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Iv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Iv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Rv(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Rv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hs()}}var Pv=function(e){v(n,e);var t=_(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return d(n,[{key:"convertBytes",value:function(e){return new ev(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ap(this.firestore,null,t)}}]),n}(Cv);function Av(e){e=Tp(e,Dp);var t=Tp(e.firestore,Xp),n=Jp(t),r=new Pv(t);return xv(e._query),Yp(n,e._query).then((function(n){return new Nv(t,r,e,n)}))}function Dv(e,t){var n=Tp(e.firestore,Xp),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=yn(e),1===arguments.length&&(t=au.R()),xp("doc","path",t),e instanceof Rp){var a=hu.fromString.apply(hu,[t].concat(r));return Cp(a),new Ap(e,null,new pu(a))}if(!(e instanceof Ap||e instanceof Op))throw new Qs(Gs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(hu.fromString.apply(hu,[t].concat(r)));return Cp(o),new Ap(e.firestore,e instanceof Op?e.converter:null,new pu(o))}(e),i=Ev(e.converter,t);return Ov(n,[cv(lv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,hc.exists(!1))]).then((function(){return r}))}function Ov(e,t){return function(e,t){var n=new Ys;return e.asyncQueue.enqueueAndForget(wt(_t().mark((function r(){return _t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=$d,r.next=3,Kp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Jp(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ms="9.14.0",ar(new gn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Xp(new Zs(e.getProvider("auth-internal")),new ru(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qs(Gs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),dr(js,"3.7.3",e),dr(js,"3.7.3","esm2017")}();var jv="@firebase/database",Lv="0.13.10",Mv="";var Fv=function(){function e(t){l(this,e),this.domStorage_=t,this.prefix_="firebase:"}return d(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),en(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Zt(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Uv=function(){function e(){l(this,e),this.cache_={},this.isInMemoryStorage=!0}return d(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return nn(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Vv=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Fv(t)}}catch(n){}return new Uv},zv=Vv("localStorage"),qv=Vv("sessionStorage"),Bv=new Nn("@firebase/database"),Hv=function(){var e=1;return function(){return e++}}(),Wv=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,It(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new fn;n.update(t);var r=n.digest();return Pt.encodeByteArray(r)},Kv=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?en(r):r,t+=" "}return t},Gv=null,Qv=!0,Yv=function(e,t){It(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Bv.logLevel=wn.VERBOSE,Gv=Bv.log.bind(Bv),t&&qv.set("logging_enabled",!0)):"function"===typeof e?Gv=e:(Gv=null,qv.remove("logging_enabled"))},$v=function(){if(!0===Qv&&(Qv=!1,null===Gv&&!0===qv.get("logging_enabled")&&Yv(!0)),Gv){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Kv.apply(null,t);Gv(r)}},Xv=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];$v.apply(void 0,[e].concat(n))}},Jv=function(){var e="FIREBASE INTERNAL ERROR: "+Kv.apply(void 0,arguments);Bv.error(e)},Zv=function(){var e="FIREBASE FATAL ERROR: ".concat(Kv.apply(void 0,arguments));throw Bv.error(e),new Error(e)},em=function(){var e="FIREBASE WARNING: "+Kv.apply(void 0,arguments);Bv.warn(e)},tm=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},nm="[MIN_NAME]",rm="[MAX_NAME]",im=function(e,t){if(e===t)return 0;if(e===nm||t===rm)return-1;if(t===nm||e===rm)return 1;var n=pm(e),r=pm(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},am=function(e,t){return e===t?0:e<t?-1:1},om=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+en(t))},sm=function e(t){if("object"!==typeof t||null===t)return en(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=en(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},um=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function lm(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var cm=function(e){It(!tm(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var hm=new RegExp("^-?(0*)\\d{1,10}$"),fm=-2147483648,dm=2147483647,pm=function(e){if(hm.test(e)){var t=Number(e);if(t>=fm&&t<=dm)return t}return null},vm=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw em("Exception was thrown by user callback.",e),t}),Math.floor(0))}},mm=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},ym=function(){function e(t,n){var r=this;l(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return d(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){em('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),gm=function(){function e(t,n,r){var i=this;l(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return d(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?($v("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',em(e)}}]),e}(),km=function(){function e(t){l(this,e),this.accessToken=t}return d(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();km.OWNER="owner";var _m="5",bm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wm="websocket",xm="long_polling",Cm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];l(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zv.get("host:"+t)||this._host}return d(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zv.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Em(e,t,n){var r;if(It("string"===typeof t,"typeof type must == string"),It("object"===typeof n,"typeof params must == object"),t===wm)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==xm)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return lm(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Sm=function(){function e(){l(this,e),this.counters_={}}return d(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;nn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return jt(this.counters_)}}]),e}(),Tm={},Im={};function Nm(e){var t=e.toString();return Tm[t]||(Tm[t]=new Sm),Tm[t]}var Rm=function(){function e(t){l(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return d(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&vm((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Pm="start",Am="close",Dm=function(){function e(t,n,r,i,a,o,s){var u=this;l(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xv(t),this.stats_=Nm(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),Em(n,xm,e)}}return d(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Rm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Vt()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Om((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Pm)n.id=a,n.password=o;else{if(i!==Am)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=_m,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&bm.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=en(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=At(t),r=um(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Vt()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=en(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Vt()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Om=function(){function e(t,n,r,i){if(l(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Vt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Hv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){$v("frame writing exception"),s.stack&&$v(s.stack),$v(s)}}}return d(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Vt()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){$v("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||$v("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),jm=null;"undefined"!==typeof MozWebSocket?jm=MozWebSocket:"undefined"!==typeof WebSocket&&(jm=WebSocket);var Lm=function(){function e(t,n,r,i,a,o,s){l(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xv(this.connId),this.stats_=Nm(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return d(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zv.set("previous_websocket_failure",!0);try{var r;if(Vt()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(_m,"/").concat(Mv,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new jm(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){zv.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Zt(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(It(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=en(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=um(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=_m,!Vt()&&"undefined"!==typeof location&&location.hostname&&bm.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),Em(e,wm,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==jm&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return zv.isInMemoryStorage||!0===zv.get("previous_websocket_failure")}}]),e}();Lm.responsesRequiredToBeHealthy=2,Lm.healthyTimeout=3e4;var Mm=function(){function e(t){l(this,e),this.initTransports_(t)}return d(e,[{key:"initTransports_",value:function(t){var n=Lm&&Lm.isAvailable(),r=n&&!Lm.previouslyFailed();if(t.webSocketOnly&&(n||em("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Lm];else{var i,a=this.transports_=[],o=xt(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Dm,Lm]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Mm.globalTransportInitialized_=!1;var Fm=function(){function e(t,n,r,i,a,o,s,u,c,h){l(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xv("c:"+this.id+":"),this.transportManager_=new Mm(n),this.log_("Connection created"),this.start_()}return d(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=mm((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=om("t",e),n=om("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=om("t",e),n=om("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=om("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Jv("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jv("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),_m!==n&&em("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),mm((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mm((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Um=function(){function e(){l(this,e)}return d(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Vm=function(){function e(t){l(this,e),this.allowedEvents_=t,this.listeners_={},It(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return d(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=u(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){It(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),zm=function(e){v(n,e);var t=_(n);function n(){var e;return l(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ft()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return d(n,[{key:"getInitialEvent",value:function(e){return It("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Vm),qm=function(){function e(t,n){if(l(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return d(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Bm(){return new qm("")}function Hm(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Wm(e){return e.pieces_.length-e.pieceNum_}function Km(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new qm(e.pieces_,t)}function Gm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Qm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ym(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new qm(t,0)}function $m(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof qm)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new qm(n,0)}function Xm(e){return e.pieceNum_>=e.pieces_.length}function Jm(e,t){var n=Hm(e),r=Hm(t);if(null===n)return t;if(n===r)return Jm(Km(e),Km(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Zm(e,t){if(Wm(e)!==Wm(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ey(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Wm(e)>Wm(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ty=d((function e(t,n){l(this,e),this.errorPrefix_=n,this.parts_=Qm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=mn(this.parts_[r]);ny(this)}));function ny(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ry(e))}function ry(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var iy=function(e){v(n,e);var t=_(n);function n(){var e,r,i;return l(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return d(n,[{key:"getInitialEvent",value:function(e){return It("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Vm),ay=1e3,oy=function(e){v(n,e);var t=_(n);function n(e,r,i,a,o,s,u,c){var h;if(l(this,n),(h=t.call(this)).repoInfo_=e,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=o,h.authTokenProvider_=s,h.appCheckTokenProvider_=u,h.authOverride_=c,h.id=n.nextPersistentConnectionId_++,h.log_=Xv("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=ay,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!Vt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return iy.getInstance().on("visible",h.onVisible_,g(h)),-1===e.host.indexOf("fblocal")&&zm.getInstance().on("online",h.onOnline_,g(h)),h}return d(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(en(i)),It(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Gt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),It(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),It(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=tn(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=tn(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),It(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+en(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Jv("Unrecognized action received from server: "+en(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;It(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ay,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ay,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ay),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=wt(_t().mark((function e(){var t,r,i,a,o,u,l,c,h,f,d,p,v,m,y=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,i())},h=function(e){It(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:c,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=s(d,2),v=p[0],m=p[1],u?$v("getToken() completed but was canceled"):($v("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,l=new Fm(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){em(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&em(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){$v("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){$v("Resuming connection for reason: "+e),delete this.interruptReasons_[e],an(this.interruptReasons_)&&(this.reconnectDelay_=ay,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return sm(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new qm(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){$v("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){$v("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=xt(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=xt(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Vt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Mv.replace(/\./g,"-")]=1,Ft()?e["framework.cordova"]=1:Ut()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=zm.getInstance().currentlyOnline();return an(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&nn(e,"w")){var n=rn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();em("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Um);oy.nextPersistentConnectionId_=0,oy.nextConnectionId_=0;var sy,uy=function(){function e(t,n){l(this,e),this.name=t,this.node=n}return d(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),ly=function(){function e(){l(this,e)}return d(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new uy(nm,e),r=new uy(nm,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return uy.MIN}}]),e}(),cy=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return d(n,[{key:"compare",value:function(e,t){return im(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Nt("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return uy.MIN}},{key:"maxPost",value:function(){return new uy(rm,sy)}},{key:"makePost",value:function(e,t){return It("string"===typeof e,"KeyIndex indexValue must always be a string."),new uy(e,sy)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return sy},set:function(e){sy=e}}]),n}(ly),hy=new cy,fy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;l(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return d(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),dy=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:my.EMPTY_NODE,this.right=null!=a?a:my.EMPTY_NODE}return d(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return my.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return my.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();dy.RED=!0,dy.BLACK=!1;var py,vy=function(){function e(){l(this,e)}return d(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new dy(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),my=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;l(this,e),this.comparator_=t,this.root_=n}return d(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,dy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,dy.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new fy(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new fy(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new fy(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new fy(this.root_,null,this.comparator_,!0,e)}}]),e}();function yy(e,t){return im(e.name,t.name)}function gy(e,t){return im(e,t)}my.EMPTY_NODE=new vy;var ky,_y,by,wy=function(e){return"number"===typeof e?"number:"+cm(e):"string:"+e},xy=function(e){if(e.isLeafNode()){var t=e.val();It("string"===typeof t||"number"===typeof t||"object"===typeof t&&nn(t,".sv"),"Priority must be a string or number.")}else It(e===py||e.isEmpty(),"priority of unexpected type.");It(e===py||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Cy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;l(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,It(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),xy(this.priorityNode_)}return d(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Xm(t)?this:".priority"===Hm(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Hm(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(It(".priority"!==r||1===Wm(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Km(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+wy(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?cm(this.value_):this.value_,this.lazyHash_=Wv(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(It(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return It(i>=0,"Unknown leaf type: "+n),It(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return ky},set:function(e){ky=e}}]),e}();Cy.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Ey,Sy,Ty=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return d(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?im(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return uy.MIN}},{key:"maxPost",value:function(){return new uy(rm,new Cy("[PRIORITY-POST]",by))}},{key:"makePost",value:function(e,t){var n=_y(e);return new uy(t,new Cy("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(ly),Iy=new Ty,Ny=Math.log(2),Ry=function(){function e(t){l(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Ny,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return d(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Py=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new dy(o,a.node,dy.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new dy(o,a.node,dy.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],h=n?n(c):c;u(new dy(h,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));c?s(h,dy.BLACK):(s(h,dy.BLACK),s(h,dy.RED))}return a}(new Ry(e.length));return new my(r||t,a)},Ay={},Dy=function(){function e(t,n){l(this,e),this.indexes_=t,this.indexSet_=n}return d(e,[{key:"get",value:function(e){var t=rn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof my?t:null}},{key:"hasIndex",value:function(e){return nn(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){It(t!==hy,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(uy.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Py(i,t.getCompare()):Ay;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(on(this.indexes_,(function(e,i){var a=rn(r.indexSet_,i);if(It(a,"Missing index implementation for "+i),e===Ay){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(uy.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Py(o,a.getCompare())}return Ay}var l=n.get(t.name),c=e;return l&&(c=c.remove(new uy(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(on(this.indexes_,(function(e){if(e===Ay)return e;var r=n.get(t.name);return r?e.remove(new uy(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return It(Ay&&Iy,"ChildrenNode.ts has not been loaded"),Ey=Ey||new e({".priority":Ay},{".priority":Iy})}}]),e}(),Oy=function(){function e(t,n,r){l(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&xy(this.priorityNode_),this.children_.isEmpty()&&It(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return d(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Sy}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Sy:t}},{key:"getChild",value:function(e){var t=Hm(e);return null===t?this:this.getImmediateChild(t).getChild(Km(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(It(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new uy(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Sy:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Hm(e);if(null===n)return t;It(".priority"!==Hm(e)||1===Wm(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Km(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Iy,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+wy(this.getPriority().val())+":"),this.forEachChild(Iy,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Wv(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new uy(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new uy(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new uy(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,uy.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,uy.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jy?-1:0}},{key:"withIndex",value:function(t){if(t===hy||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===hy||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Iy),r=t.getIterator(Iy),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===hy?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Sy||(Sy=new e(new my(gy),null,Dy.Default))}}]),e}();Oy.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var jy=new(function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.call(this,new my(gy),Oy.EMPTY_NODE,Dy.Default)}return d(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Oy.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Oy));Object.defineProperties(uy,{MIN:{value:new uy(nm,Oy.EMPTY_NODE)},MAX:{value:new uy(rm,jy)}}),cy.__EMPTY_NODE=Oy.EMPTY_NODE,Cy.__childrenNodeConstructor=Oy,py=jy,function(e){by=e}(jy);function Ly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Oy.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),It(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new Cy(n,Ly(t))}if(e instanceof Array){var r=Oy.EMPTY_NODE;return lm(e,(function(t,n){if(nn(e,t)&&"."!==t.substring(0,1)){var i=Ly(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Ly(t))}var i=[],a=!1,o=e;if(lm(o,(function(e,t){if("."!==e.substring(0,1)){var n=Ly(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new uy(e,n)))}})),0===i.length)return Oy.EMPTY_NODE;var s=Py(i,yy,(function(e){return e.name}),gy);if(a){var u=Py(i,Iy.getCompare());return new Oy(s,Ly(t),new Dy({".priority":u},{".priority":Iy}))}return new Oy(s,Ly(t),Dy.Default)}!function(e){_y=e}(Ly);var My=function(e){v(n,e);var t=_(n);function n(e){var r;return l(this,n),(r=t.call(this)).indexPath_=e,It(!Xm(e)&&".priority"!==Hm(e),"Can't create PathIndex with empty path or .priority key"),r}return d(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?im(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ly(e),r=Oy.EMPTY_NODE.updateChild(this.indexPath_,n);return new uy(t,r)}},{key:"maxPost",value:function(){var e=Oy.EMPTY_NODE.updateChild(this.indexPath_,jy);return new uy(rm,e)}},{key:"toString",value:function(){return Qm(this.indexPath_,0).join("/")}}]),n}(ly),Fy=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return d(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?im(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return uy.MIN}},{key:"maxPost",value:function(){return uy.MAX}},{key:"makePost",value:function(e,t){var n=Ly(e);return new uy(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(ly),Uy=new Fy,Vy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function zy(e){return{type:"value",snapshotNode:e}}function qy(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function By(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Hy(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Wy=function(){function e(t){l(this,e),this.index_=t}return d(e,[{key:"updateChild",value:function(e,t,n,r,i,a){It(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(By(t,o)):It(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(qy(t,n)):a.trackChildChange(Hy(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Iy,(function(e,r){t.hasChild(e)||n.trackChildChange(By(e,r))})),t.isLeafNode()||t.forEachChild(Iy,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Hy(t,r,i))}else n.trackChildChange(qy(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Oy.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Ky=function(){function e(t){l(this,e),this.indexedFilter_=new Wy(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return d(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new uy(t,n))||(n=Oy.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Oy.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Oy.EMPTY_NODE);var i=this;return t.forEachChild(Iy,(function(e,t){i.matches(new uy(e,t))||(r=r.updateImmediateChild(e,Oy.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Gy=function(){function e(t){l(this,e),this.rangedFilter_=new Ky(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return d(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new uy(t,n))||(n=Oy.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Oy.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Oy.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,l,c;if(r=(r=t.withIndex(this.index_)).updatePriority(Oy.EMPTY_NODE),this.reverse_){c=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(e,t){return h(t,e)}}else c=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var f=0,d=!1;c.hasNext();){var p=c.getNext();!d&&l(s,p)<=0&&(d=!0),d&&f<this.limit_&&l(p,u)<=0?f++:r=r.updateImmediateChild(p.name,Oy.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;It(s.numChildren()===this.limit_,"");var u=new uy(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Hy(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(By(t,h));var p=s.updateImmediateChild(t,Oy.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(qy(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:c&&a(l,u)>=0?(null!=i&&(i.trackChildChange(By(l.name,l.node)),i.trackChildChange(qy(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,Oy.EMPTY_NODE)):e}}]),e}(),Qy=function(){function e(){l(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Iy}return d(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return It(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return It(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nm}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return It(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return It(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rm}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return It(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Iy}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Yy(e){var t,n={};return e.isDefault()||(e.index_===Iy?t="$priority":e.index_===Uy?t="$value":e.index_===hy?t="$key":(It(e.index_ instanceof My,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=en(t),e.startSet_&&(n.startAt=en(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+en(e.indexStartName_))),e.endSet_&&(n.endAt=en(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+en(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function $y(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Iy&&(t.i=e.index_.toString()),t}var Xy=function(e){v(n,e);var t=_(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Xv("p:rest:"),o.listens_={},o}return d(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=Yy(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),rn(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Yy(e._queryParams),r=e._path.toString(),i=new Gt;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=s(i,2),o=a[0],u=a[1];o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);var l=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+ln(n);t.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Zt(c.responseText)}catch(n){em("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&em("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(It(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Um),Jy=function(){function e(){l(this,e),this.rootNode_=Oy.EMPTY_NODE}return d(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Zy(){return{value:null,children:new Map}}function eg(e,t,n){if(Xm(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Hm(t);e.children.has(r)||e.children.set(r,Zy()),eg(e.children.get(r),t=Km(t),n)}}function tg(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){tg(r,new qm(t.toString()+"/"+e),n)}))}var ng,rg=function(){function e(t){l(this,e),this.collection_=t,this.last_=null}return d(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&lm(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),ig=function(){function e(t,n){l(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new rg(t);var r=1e4+2e4*Math.random();mm(this.reportStats_.bind(this),Math.floor(r))}return d(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;lm(t,(function(t,i){i>0&&nn(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),mm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function ag(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ng||(ng={}));var og,sg=function(){function e(t,n,r){l(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=ng.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return d(e,[{key:"operationForChild",value:function(t){if(Xm(this.path)){if(null!=this.affectedTree.value)return It(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new qm(t));return new e(Bm(),n,this.revert)}return It(Hm(this.path)===t,"operationForChild called for unrelated child."),new e(Km(this.path),this.affectedTree,this.revert)}}]),e}(),ug=function(){function e(t,n){l(this,e),this.source=t,this.path=n,this.type=ng.LISTEN_COMPLETE}return d(e,[{key:"operationForChild",value:function(t){return Xm(this.path)?new e(this.source,Bm()):new e(this.source,Km(this.path))}}]),e}(),lg=function(){function e(t,n,r){l(this,e),this.source=t,this.path=n,this.snap=r,this.type=ng.OVERWRITE}return d(e,[{key:"operationForChild",value:function(t){return Xm(this.path)?new e(this.source,Bm(),this.snap.getImmediateChild(t)):new e(this.source,Km(this.path),this.snap)}}]),e}(),cg=function(){function e(t,n,r){l(this,e),this.source=t,this.path=n,this.children=r,this.type=ng.MERGE}return d(e,[{key:"operationForChild",value:function(t){if(Xm(this.path)){var n=this.children.subtree(new qm(t));return n.isEmpty()?null:n.value?new lg(this.source,Bm(),n.value):new e(this.source,Bm(),n)}return It(Hm(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Km(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),hg=function(){function e(t,n,r){l(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return d(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Xm(e))return this.isFullyInitialized()&&!this.filtered_;var t=Hm(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),fg=d((function e(t){l(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function dg(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Nt("Should only compare child_ events.");var r=new uy(t.childName,t.snapshotNode),i=new uy(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function pg(e,t){return{eventCache:e,serverCache:t}}function vg(e,t,n,r){return pg(new hg(t,n,r),e.serverCache)}function mg(e,t,n,r){return pg(e.eventCache,new hg(t,n,r))}function yg(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function gg(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var kg=function(){return og||(og=new my(am)),og},_g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kg();l(this,e),this.value=t,this.children=n}return d(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Bm(),value:this.value};if(Xm(e))return null;var n=Hm(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Km(e),t);return null!=i?{path:$m(new qm(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Xm(t))return this;var n=Hm(t),r=this.children.get(n);return null!==r?r.subtree(Km(t)):new e(null)}},{key:"set",value:function(t,n){if(Xm(t))return new e(n,this.children);var r=Hm(t),i=(this.children.get(r)||new e(null)).set(Km(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Xm(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Hm(t),r=this.children.get(n);if(r){var i,a=r.remove(Km(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Xm(e))return this.value;var t=Hm(e),n=this.children.get(t);return n?n.get(Km(e)):null}},{key:"setTree",value:function(t,n){if(Xm(t))return n;var r,i=Hm(t),a=(this.children.get(i)||new e(null)).setTree(Km(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Bm(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_($m(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Bm(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Xm(e))return null;var i=Hm(e),a=this.children.get(i);return a?a.findOnPath_(Km(e),$m(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Bm(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Xm(t))return this;this.value&&r(n,this.value);var i=Hm(t),a=this.children.get(i);return a?a.foreachOnPath_(Km(t),$m(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Bm(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_($m(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return lm(t,(function(e,t){n=n.set(new qm(e),t)})),n}}]),e}(),bg=function(){function e(t){l(this,e),this.writeTree_=t}return d(e,null,[{key:"empty",value:function(){return new e(new _g(null))}}]),e}();function wg(e,t,n){if(Xm(t))return new bg(new _g(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Jm(i,t);return a=a.updateChild(o,n),new bg(e.writeTree_.set(i,a))}var s=new _g(n),u=e.writeTree_.setTree(t,s);return new bg(u)}function xg(e,t,n){var r=e;return lm(n,(function(e,n){r=wg(r,$m(t,e),n)})),r}function Cg(e,t){if(Xm(t))return bg.empty();var n=e.writeTree_.setTree(t,new _g(null));return new bg(n)}function Eg(e,t){return null!=Sg(e,t)}function Sg(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Jm(n.path,t)):null}function Tg(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Iy,(function(e,n){t.push(new uy(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new uy(e,n.value))})),t}function Ig(e,t){if(Xm(t))return e;var n=Sg(e,t);return new bg(null!=n?new _g(n):e.writeTree_.subtree(t))}function Ng(e){return e.writeTree_.isEmpty()}function Rg(e,t){return Pg(Bm(),e.writeTree_,t)}function Pg(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(It(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Pg($m(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild($m(e,".priority"),r)),n}function Ag(e,t){return Kg(t,e)}function Dg(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Og(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));It(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&jg(s,r.path)?i=!1:ey(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Mg(e.allWrites,Lg,Bm()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Cg(e.visibleWrites,r.path):lm(r.children,(function(t){e.visibleWrites=Cg(e.visibleWrites,$m(r.path,t))}));return!0}return!1}function jg(e,t){if(e.snap)return ey(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ey($m(e.path,n),t))return!0;return!1}function Lg(e){return e.visible}function Mg(e,t,n){for(var r=bg.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)ey(n,o)?r=wg(r,s=Jm(n,o),a.snap):ey(o,n)&&(s=Jm(o,n),r=wg(r,Bm(),a.snap.getChild(s)));else{if(!a.children)throw Nt("WriteRecord should have .snap or .children");if(ey(n,o))r=xg(r,s=Jm(n,o),a.children);else if(ey(o,n))if(Xm(s=Jm(o,n)))r=xg(r,Bm(),a.children);else{var u=rn(a.children,Hm(s));if(u){var l=u.getChild(Km(s));r=wg(r,Bm(),l)}}}}}return r}function Fg(e,t,n,r,i){if(r||i){var a=Ig(e.visibleWrites,t);if(!i&&Ng(a))return n;if(i||null!=n||Eg(a,Bm())){return Rg(Mg(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ey(e.path,t)||ey(t,e.path))}),t),n||Oy.EMPTY_NODE)}return null}var o=Sg(e.visibleWrites,t);if(null!=o)return o;var s=Ig(e.visibleWrites,t);return Ng(s)?n:null!=n||Eg(s,Bm())?Rg(s,n||Oy.EMPTY_NODE):null}function Ug(e,t,n,r){return Fg(e.writeTree,e.treePath,t,n,r)}function Vg(e,t){return function(e,t,n){var r=Oy.EMPTY_NODE,i=Sg(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Iy,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Ig(e.visibleWrites,t);return n.forEachChild(Iy,(function(e,t){var n=Rg(Ig(a,new qm(e)),t);r=r.updateImmediateChild(e,n)})),Tg(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Tg(Ig(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function zg(e,t,n,r){return function(e,t,n,r,i){It(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=$m(t,n);if(Eg(e.visibleWrites,a))return null;var o=Ig(e.visibleWrites,a);return Ng(o)?i.getChild(n):Rg(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function qg(e,t){return function(e,t){return Sg(e.visibleWrites,t)}(e.writeTree,$m(e.treePath,t))}function Bg(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Ig(e.visibleWrites,t),l=Sg(u,Bm());if(null!=l)s=l;else{if(null==n)return[];s=Rg(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&c.length<i;)0!==h(d,r)&&c.push(d),d=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function Hg(e,t,n){return function(e,t,n,r){var i=$m(t,n),a=Sg(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Rg(Ig(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Wg(e,t){return Kg($m(e.treePath,t),e.writeTree)}function Kg(e,t){return{treePath:e,writeTree:t}}var Gg=function(){function e(){l(this,e),this.changeMap=new Map}return d(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;It("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),It(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Hy(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,By(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,qy(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Nt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Hy(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Qg=new(function(){function e(){l(this,e)}return d(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Yg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return d(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new hg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hg(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gg(this.viewCache_),i=Bg(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function $g(e,t,n,r,i){var a,o,s=new Gg;if(n.type===ng.OVERWRITE){var u=n;u.source.fromUser?a=Zg(e,t,u.path,u.snap,r,i,s):(It(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Xm(u.path),a=Jg(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===ng.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=$m(n,r);ek(t,Hm(l))&&(s=Zg(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=$m(n,r);ek(t,Hm(l))||(s=Zg(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(It(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=nk(e,t,l.path,l.children,r,i,o,s))}else if(n.type===ng.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=qg(r,n))return t;var s,u=new Yg(r,t,i),l=t.eventCache.getNode();if(Xm(n)||".priority"===Hm(n)){var c;if(t.serverCache.isFullyInitialized())c=Ug(r,gg(t));else{var h=t.serverCache.getNode();It(h instanceof Oy,"serverChildren would be complete if leaf node"),c=Vg(r,h)}s=e.filter.updateFullNode(l,c,a)}else{var f=Hm(n),d=Hg(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=l.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(l,f,d,Km(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,Oy.EMPTY_NODE,Km(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ug(r,gg(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=qg(r,Bm()),vg(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=qg(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Xm(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Jg(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Xm(n)){var l=new _g(null);return u.getNode().forEachChild(hy,(function(e,t){l=l.set(new qm(e),t)})),nk(e,t,n,l,i,a,s,o)}return t}var c=new _g(null);return r.foreach((function(e,t){var r=$m(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),nk(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==ng.LISTEN_COMPLETE)throw Nt("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=mg(t,a.getNode(),a.isFullyInitialized()||Xm(n),a.isFiltered());return Xg(e,o,n,r,Qg,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=yg(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(zy(yg(t)))}}(t,a,h),{viewCache:a,changes:h}}function Xg(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=qg(r,n))return t;if(Xm(n))if(It(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=gg(t),c=Vg(r,l instanceof Oy?l:Oy.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var h=Ug(r,gg(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=Hm(n);if(".priority"===f){It(1===Wm(n),"Can't have a priority with additional path components");var d=u.getNode(),p=zg(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=Km(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var y=zg(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(f).updateChild(m,y):u.getNode().getImmediateChild(f)}else v=Hg(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return vg(t,o,u.isFullyInitialized()||Xm(n),e.filter.filtersNodes())}function Jg(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Xm(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var f=Hm(n);if(!l.isCompleteForPath(n)&&Wm(n)>1)return t;var d=Km(n),p=l.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),f,p,d,Qg,null)}var v=mg(t,u,l.isFullyInitialized()||Xm(n),c.filtersNodes());return Xg(e,v,n,i,new Yg(i,v,a),s)}function Zg(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new Yg(i,t,a);if(Xm(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=vg(t,u,!0,e.filter.filtersNodes());else{var h=Hm(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=vg(t,u,l.isFullyInitialized(),l.isFiltered());else{var f,d=Km(n),p=l.getNode().getImmediateChild(h);if(Xm(d))f=r;else{var v=c.getCompleteChild(h);f=null!=v?".priority"===Gm(d)&&v.getChild(Ym(d)).isEmpty()?v:v.updateChild(d,r):Oy.EMPTY_NODE}if(p.equals(f))s=t;else s=vg(t,e.filter.updateChild(l.getNode(),h,f,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function ek(e,t){return e.eventCache.isCompleteForChild(t)}function tk(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function nk(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Xm(n)?r:new _g(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=tk(0,t.serverCache.getNode().getImmediateChild(n),r);l=Jg(e,l,new qm(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var h=tk(0,t.serverCache.getNode().getImmediateChild(n),r);l=Jg(e,l,new qm(n),h,i,a,o,s)}})),l}var rk,ik=function(){function e(t,n){l(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Wy(i.getIndex()),o=(r=i).loadsAllData()?new Wy(r.getIndex()):r.hasLimit()?new Gy(r):new Ky(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(Oy.EMPTY_NODE,s.getNode(),null),h=o.updateFullNode(Oy.EMPTY_NODE,u.getNode(),null),f=new hg(c,s.isFullyInitialized(),a.filtersNodes()),d=new hg(h,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=pg(d,f),this.eventGenerator_=new fg(this.query_)}return d(e,[{key:"query",get:function(){return this.query_}}]),e}();function ak(e,t){var n=gg(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Xm(t)&&!n.getImmediateChild(Hm(t)).isEmpty())?n.getChild(t):null}function ok(e){return 0===e.eventRegistrations_.length}function sk(e,t,n){var r=[];if(n){It(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function uk(e,t,n,r){t.type===ng.MERGE&&null!==t.source.queryId&&(It(gg(e.viewCache_),"We should always have a full cache before handling merges"),It(yg(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=$g(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,It(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),It(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),It(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,lk(e,s.changes,s.viewCache.eventCache.getNode(),null)}function lk(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),dg(e,i,"child_removed",t,r,n),dg(e,i,"child_added",t,r,n),dg(e,i,"child_moved",a,r,n),dg(e,i,"child_changed",t,r,n),dg(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var ck,hk=d((function e(){l(this,e),this.views=new Map}));function fk(e){return 0===e.views.size}function dk(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return It(null!=a,"SyncTree gave us an op for an invalid query."),uk(a,t,n,r)}var o,s=[],u=xt(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(uk(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function pk(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Ug(n,i?r:null),u=!1;s?u=!0:r instanceof Oy?(s=Vg(n,r),u=!1):(s=Oy.EMPTY_NODE,u=!1);var l=pg(new hg(s,u,!1),new hg(r,i,!1));return new ik(t,l)}return o}function vk(e,t,n,r,i,a){var o=pk(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Iy,(function(e,t){r.push(qy(e,t))})),n.isFullyInitialized()&&r.push(zy(n.getNode())),lk(e,r,n.getNode(),t)}(o,n)}function mk(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],u=bk(e);if("default"===i){var l,c=xt(e.views.entries());try{for(c.s();!(l=c.n()).done;){var h=s(l.value,2),f=h[0],d=h[1];o=o.concat(sk(d,n,r)),ok(d)&&(e.views.delete(f),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){c.e(v)}finally{c.f()}}else{var p=e.views.get(i);p&&(o=o.concat(sk(p,n,r)),ok(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return u&&!bk(e)&&a.push(new(It(rk,"Reference.ts has not been loaded"),rk)(t._repo,t._path)),{removed:a,events:o}}function yk(e){var t,n=[],r=xt(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function gk(e,t){var n,r=null,i=xt(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||ak(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function kk(e,t){if(t._queryParams.loadsAllData())return wk(e);var n=t._queryIdentifier;return e.views.get(n)}function _k(e,t){return null!=kk(e,t)}function bk(e){return null!=wk(e)}function wk(e){var t,n=xt(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var xk=1,Ck=d((function e(t){l(this,e),this.listenProvider_=t,this.syncPointTree_=new _g(null),this.pendingWriteTree_={visibleWrites:bg.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Ek(e,t,n,r,i){return function(e,t,n,r,i){It(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=wg(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Ak(e,new lg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Sk(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Dg(e.pendingWriteTree_,t),i=Og(e.pendingWriteTree_,t);if(i){var a=new _g(null);return null!=r.snap?a=a.set(Bm(),!0):lm(r.children,(function(e){a=a.set(new qm(e),!0)})),Ak(e,new sg(r.path,a,n))}return[]}function Tk(e,t,n){return Ak(e,new lg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Ik(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||_k(o,t))){var u=mk(o,t,n,r);fk(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=u.removed;if(s=u.events,!i){var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),h=e.syncPointTree_.findOnPath(a,(function(e,t){return bk(t)}));if(c&&!h){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var d=zk(f),p=0;p<d.length;++p){var v=d[p],m=v.query,y=jk(e,v);e.listenProvider_.startListening(qk(m),Lk(e,m),y.hashFn,y.onComplete)}}if(!h&&l.length>0&&!r)if(c){var g=null;e.listenProvider_.stopListening(qk(t),g)}else l.forEach((function(t){var n=e.queryToTagMap.get(Mk(t));e.listenProvider_.stopListening(qk(t),n)}))}Bk(e,l)}return s}function Nk(e,t,n,r){var i=Fk(e,r);if(null!=i){var a=Uk(i),o=a.path,s=a.queryId,u=Jm(o,t);return Vk(e,o,new lg(ag(s),u,n))}return[]}function Rk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=Jm(e,i);a=a||gk(t,n),o=o||bk(t)}));var s,u=e.syncPointTree_.get(i);if(u?(o=o||bk(u),a=a||gk(u,Bm())):(u=new hk,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)s=!0;else{s=!1,a=Oy.EMPTY_NODE;var l=e.syncPointTree_.subtree(i);l.foreachChild((function(e,t){var n=gk(t,Bm());n&&(a=a.updateImmediateChild(e,n))}))}var c=_k(u,t);if(!c&&!t._queryParams.loadsAllData()){var h=Mk(t);It(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");var f=Hk();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}var d=Ag(e.pendingWriteTree_,i),p=vk(u,t,n,d,a,s);if(!c&&!o&&!r){var v=kk(u,t);p=p.concat(Wk(e,t,v))}return p}function Pk(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=gk(n,Jm(e,t));if(r)return r}));return Fg(r,t,i,n,!0)}function Ak(e,t){return Dk(t,e.syncPointTree_,null,Ag(e.pendingWriteTree_,Bm()))}function Dk(e,t,n,r){if(Xm(e.path))return Ok(e,t,n,r);var i=t.get(Bm());null==n&&null!=i&&(n=gk(i,Bm()));var a=[],o=Hm(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=Wg(r,o);a=a.concat(Dk(s,u,l,c))}return i&&(a=a.concat(dk(i,e,r,n))),a}function Ok(e,t,n,r){var i=t.get(Bm());null==n&&null!=i&&(n=gk(i,Bm()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Wg(r,t),u=e.operationForChild(t);u&&(a=a.concat(Ok(u,i,o,s)))})),i&&(a=a.concat(dk(i,e,r,n))),a}function jk(e,t){var n=t.query,r=Lk(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Oy.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Fk(e,n);if(r){var i=Uk(r),a=i.path,o=i.queryId,s=Jm(a,t);return Vk(e,a,new ug(ag(o),s))}return[]}(e,n._path,r):function(e,t){return Ak(e,new ug({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Ik(e,n,null,i)}}}function Lk(e,t){var n=Mk(t);return e.queryToTagMap.get(n)}function Mk(e){return e._path.toString()+"$"+e._queryIdentifier}function Fk(e,t){return e.tagToQueryMap.get(t)}function Uk(e){var t=e.indexOf("$");return It(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new qm(e.substr(0,t))}}function Vk(e,t,n){var r=e.syncPointTree_.get(t);return It(r,"Missing sync point for query tag that we're tracking"),dk(r,n,Ag(e.pendingWriteTree_,t),null)}function zk(e){return e.fold((function(e,t,n){if(t&&bk(t))return[wk(t)];var r=[];return t&&(r=yk(t)),lm(n,(function(e,t){r=r.concat(t)})),r}))}function qk(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(It(ck,"Reference.ts has not been loaded"),ck)(e._repo,e._path):e}function Bk(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Mk(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function Hk(){return xk++}function Wk(e,t,n){var r=t._path,i=Lk(e,t),a=jk(e,n),o=e.listenProvider_.startListening(qk(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)It(!bk(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Xm(e)&&t&&bk(t))return[wk(t).query];var r=[];return t&&(r=r.concat(yk(t).map((function(e){return e.query})))),lm(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(qk(c),Lk(e,c))}return o}var Kk=function(){function e(t){l(this,e),this.node_=t}return d(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Gk=function(){function e(t,n){l(this,e),this.syncTree_=t,this.path_=n}return d(e,[{key:"getImmediateChild",value:function(t){var n=$m(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Pk(this.syncTree_,this.path_)}}]),e}(),Qk=function(e,t,n){return e&&"object"===typeof e?(It(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Yk(e[".sv"],t,n):"object"===typeof e[".sv"]?$k(e[".sv"],t):void It(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Yk=function(e,t,n){if("timestamp"===e)return n.timestamp;It(!1,"Unexpected server value: "+e)},$k=function(e,t,n){e.hasOwnProperty("increment")||It(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&It(!1,"Unexpected increment value: "+r);var i=t.node();if(It(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Xk=function(e,t,n,r){return Zk(t,new Gk(n,e),r)},Jk=function(e,t,n){return Zk(e,new Kk(t),n)};function Zk(e,t,n){var r,i=e.getPriority().val(),a=Qk(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Qk(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Cy(s,Ly(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Cy(a))),u.forEachChild(Iy,(function(e,i){var a=Zk(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var e_=d((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};l(this,e),this.name=t,this.parent=n,this.node=r}));function t_(e,t){for(var n=t instanceof qm?t:new qm(t),r=e,i=Hm(n);null!==i;){var a=rn(r.node.children,i)||{children:{},childCount:0};r=new e_(i,r,a),i=Hm(n=Km(n))}return r}function n_(e){return e.node.value}function r_(e,t){e.node.value=t,u_(e)}function i_(e){return e.node.childCount>0}function a_(e,t){lm(e.node.children,(function(n,r){t(new e_(n,e,r))}))}function o_(e,t,n,r){n&&!r&&t(e),a_(e,(function(e){o_(e,t,!0,r)})),n&&r&&t(e)}function s_(e){return new qm(null===e.parent?e.name:s_(e.parent)+"/"+e.name)}function u_(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===n_(e)&&!i_(e)}(n),i=nn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,u_(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,u_(e))}(e.parent,e.name,e)}var l_=/[\[\].#$\/\u0000-\u001F\u007F]/,c_=/[\[\].#$\u0000-\u001F\u007F]/,h_=10485760,f_=function(e){return"string"===typeof e&&0!==e.length&&!l_.test(e)},d_=function(e){return"string"===typeof e&&0!==e.length&&!c_.test(e)},p_=function(e,t,n,r){r&&void 0===t||v_(vn(e,"value"),t,n)},v_=function e(t,n,r){var i=r instanceof qm?new ty(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+ry(i));if("function"===typeof n)throw new Error(t+"contains a function "+ry(i)+" with contents = "+n.toString());if(tm(n))throw new Error(t+"contains "+n.toString()+" "+ry(i));if("string"===typeof n&&n.length>h_/3&&mn(n)>h_)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+ry(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(lm(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!f_(n)))throw new Error(t+" contains an invalid key ("+n+") "+ry(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=mn(u),ny(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=mn(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+ry(i)+" in addition to actual children.")}},m_=function(e,t,n,r){if((!r||void 0!==n)&&!d_(n))throw new Error(vn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},y_=function(e,t){if(".info"===Hm(t))throw new Error(e+" failed = Can't modify data under /.info/")},g_=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!f_(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),d_(e)}(n))throw new Error(vn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},k_=d((function e(){l(this,e),this.eventLists_=[],this.recursionDepth_=0}));function __(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Zm(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function b_(e,t,n){__(e,n),x_(e,(function(e){return Zm(e,t)}))}function w_(e,t,n){__(e,n),x_(e,(function(e){return ey(e,t)||ey(t,e)}))}function x_(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(C_(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function C_(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Gv&&$v("event: "+n.toString()),vm(r)}}}var E_="repo_interrupt",S_=function(){function e(t,n,r,i){l(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new k_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zy(),this.transactionQueueTree_=new e_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return d(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function T_(e,t,n){if(e.stats_=Nm(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Xy(e.repoInfo_,(function(t,n,r,i){R_(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return P_(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{en(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new oy(e.repoInfo_,t,(function(t,n,r,i){R_(e,t,n,r,i)}),(function(t){P_(e,t)}),(function(t){!function(e,t){lm(t,(function(t,n){A_(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Im[n]||(Im[n]=t()),Im[n]}(e.repoInfo_,(function(){return new ig(e.stats_,e.server_)})),e.infoData_=new Jy,e.infoSyncTree_=new Ck({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Tk(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),A_(e,"connected",!1),e.serverSyncTree_=new Ck({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);w_(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function I_(e){var t=e.infoData_.getNode(new qm(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function N_(e){return(t=(t={timestamp:I_(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function R_(e,t,n,r,i){e.dataUpdateCount++;var a=new qm(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=on(n,(function(e){return Ly(e)}));o=function(e,t,n,r){var i=Fk(e,r);if(i){var a=Uk(i),o=a.path,s=a.queryId,u=Jm(o,t),l=_g.fromObject(n);return Vk(e,o,new cg(ag(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Ly(n);o=Nk(e.serverSyncTree_,a,u,i)}else if(r){var l=on(n,(function(e){return Ly(e)}));o=function(e,t,n){var r=_g.fromObject(n);return Ak(e,new cg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=Ly(n);o=Tk(e.serverSyncTree_,a,c)}var h=a;o.length>0&&(h=q_(e,a)),w_(e.eventQueue_,h,o)}function P_(e,t){A_(e,"connected",t),!1===t&&function(e){M_(e,"onDisconnectEvents");var t=N_(e),n=Zy();tg(e.onDisconnect_,Bm(),(function(r,i){var a=Xk(r,i,e.serverSyncTree_,t);eg(n,r,a)}));var r=[];tg(n,Bm(),(function(t,n){r=r.concat(Tk(e.serverSyncTree_,t,n));var i=G_(e,t);q_(e,i)})),e.onDisconnect_=Zy(),w_(e.eventQueue_,Bm(),r)}(e)}function A_(e,t,n){var r=new qm("/.info/"+t),i=Ly(n);e.infoData_.updateSnapshot(r,i);var a=Tk(e.infoSyncTree_,r,i);w_(e.eventQueue_,r,a)}function D_(e){return e.nextWriteId_++}function O_(e,t,n,r,i){M_(e,"set",{path:t.toString(),value:n,priority:r});var a=N_(e),o=Ly(n,r),s=Pk(e.serverSyncTree_,t),u=Jk(o,s,a),l=D_(e),c=Ek(e.serverSyncTree_,t,u,l,!0);__(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||em("set at "+t+" failed: "+n);var o=Sk(e.serverSyncTree_,l,!a);w_(e.eventQueue_,t,o),F_(e,i,n,r)}));var h=G_(e,t);q_(e,h),w_(e.eventQueue_,h,[])}function j_(e,t,n){var r;r=".info"===Hm(t._path)?Ik(e.infoSyncTree_,t,n):Ik(e.serverSyncTree_,t,n),b_(e.eventQueue_,t._path,r)}function L_(e){e.persistentConnection_&&e.persistentConnection_.interrupt(E_)}function M_(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];$v.apply(void 0,[t].concat(r))}function F_(e,t,n,r){t&&vm((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function U_(e,t,n){return Pk(e.serverSyncTree_,t,n)||Oy.EMPTY_NODE}function V_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||K_(e,t),n_(t)){var n=H_(e,t);It(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&z_(e,s_(t),n)}else i_(t)&&a_(t,(function(t){V_(e,t)}))}function z_(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=U_(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];It(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=Jm(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),h=t;e.server_.put(h.toString(),c,(function(r){M_(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Sk(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);K_(e,t_(e.transactionQueueTree_,t)),V_(e,e.transactionQueueTree_),w_(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)vm(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{em("transaction at "+h.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}q_(e,t)}}),o)}function q_(e,t){var n=B_(e,t),r=s_(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],l=Jm(n,u.path),c=!1,h=void 0;if(It(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,h=u.abortReason,i=i.concat(Sk(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,h="maxretry",i=i.concat(Sk(e.serverSyncTree_,u.currentWriteId,!0));else{var f=U_(e,u.path,o);u.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){v_("transaction failed: Data returned ",d,u.path);var p=Ly(d);"object"===typeof d&&null!=d&&nn(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,m=N_(e),y=Jk(p,f,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=D_(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Ek(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(Sk(e.serverSyncTree_,v,!0))}else c=!0,h="nodata",i=i.concat(Sk(e.serverSyncTree_,u.currentWriteId,!0))}w_(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===h?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(h),!1,null)}))))},u=0;u<t.length;u++)s(u);K_(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)vm(r[l]);V_(e,e.transactionQueueTree_)}(e,H_(e,n),r),r}function B_(e,t){var n,r=e.transactionQueueTree_;for(n=Hm(t);null!==n&&void 0===n_(r);)r=t_(r,n),n=Hm(t=Km(t));return r}function H_(e,t){var n=[];return W_(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function W_(e,t,n){var r=n_(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);a_(t,(function(t){W_(e,t,n)}))}function K_(e,t){var n=n_(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,r_(t,n.length>0?n:void 0)}a_(t,(function(t){K_(e,t)}))}function G_(e,t){var n=s_(B_(e,t)),r=t_(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Q_(e,t)})),Q_(e,r),o_(r,(function(t){Q_(e,t)})),n}function Q_(e,t){var n=n_(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(It(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(It(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Sk(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?r_(t,void 0):n.length=a+1,w_(e.eventQueue_,s_(t),i);for(var s=0;s<r.length;s++)vm(r[s])}}var Y_=function(e,t){var n=$_(e),r=n.namespace;"firebase.com"===n.domain&&Zv(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Zv("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&em("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Cm(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new qm(n.pathString)}},$_=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=xt(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):em("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},X_=function(){function e(t,n,r,i){l(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return d(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+en(this.snapshot.exportVal())}}]),e}(),J_=function(){function e(t,n,r){l(this,e),this.eventRegistration=t,this.error=n,this.path=r}return d(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Z_=function(){function e(t,n){l(this,e),this.snapshotCallback=t,this.cancelCallback=n}return d(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return It(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),eb=function(){function e(t,n,r,i){l(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return d(e,[{key:"key",get:function(){return Xm(this._path)?null:Gm(this._path)}},{key:"ref",get:function(){return new tb(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=$y(this._queryParams),t=sm(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return $y(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=yn(t))instanceof e))return!1;var n=this._repo===t._repo,r=Zm(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var tb=function(e){v(n,e);var t=_(n);function n(e,r){return l(this,n),t.call(this,e,r,new Qy,!1)}return d(n,[{key:"parent",get:function(){var e=Ym(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(eb),nb=function(){function e(t,n,r){l(this,e),this._node=t,this.ref=n,this._index=r}return d(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new qm(t),r=ib(this.ref,t);return new e(this._node.getChild(n),r,Iy)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,ib(n.ref,r),Iy))}))}},{key:"hasChild",value:function(e){var t=new qm(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function rb(e,t){return(e=yn(e))._checkNotDeleted("ref"),void 0!==t?ib(e._root,t):e._root}function ib(e,t){var n,r,i,a;return null===Hm((e=yn(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),m_(n,r,i,a)):m_("child","path",t,!1),new tb(e._repo,$m(e._path,t))}function ab(e,t){e=yn(e),y_("set",e._path),p_("set",t,e._path,!1);var n=new Gt;return O_(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}var ob=function(){function e(t){l(this,e),this.callbackContext=t}return d(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new X_("value",this,new nb(e.snapshotNode,new tb(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new J_(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),sb=function(){function e(t,n){l(this,e),this.eventType=t,this.callbackContext=n}return d(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new J_(this,e,t):null}},{key:"createEvent",value:function(e,t){It(null!=e.childName,"Child events should have a childName.");var n=ib(new tb(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new X_(e.type,this,new nb(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function ub(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){j_(e._repo,e,l),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Z_(n,a||void 0),l="value"===t?new ob(u):new sb(t,u);return function(e,t,n){var r;r=".info"===Hm(t._path)?Rk(e.infoSyncTree_,t,n):Rk(e.serverSyncTree_,t,n),b_(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return j_(e._repo,e,l)}}function lb(e,t,n,r){return ub(e,"value",t,n,r)}!function(e){It(!rk,"__referenceConstructor has already been defined"),rk=e}(tb),function(e){It(!ck,"__referenceConstructor has already been defined"),ck=e}(tb);var cb={},hb=!1;function fb(e,t,n,r){e.repoInfo_=new Cm("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function db(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Zv("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$v("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Y_(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=Y_(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new km(km.OWNER):new gm(e.name,e.options,t);g_("Invalid Firebase Database URL",s),Xm(s.path)||Zv("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=cb[t.name];i||(i={},cb[t.name]=i);var a=i[e.toURLString()];a&&Zv("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new S_(e,hb,n,r),i[e.toURLString()]=a,a}(u,e,c,new ym(e.name,n));return new pb(h,e)}var pb=function(){function e(t,n){l(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return d(e,[{key:"_repo",get:function(){return this._instanceStarted||(T_(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new tb(this._repo,Bm())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=cb[t];n&&n[e.key]===e||Zv("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),L_(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Zv("Cannot call "+e+" on a deleted database.")}}]),e}();function vb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr(),t=arguments.length>1?arguments[1]:void 0,n=or(e,"database").getImmediate({identifier:t}),r=Ht("database");return r&&mb.apply(void 0,[n].concat(u(r))),n}function mb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=yn(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Zv("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Zv('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new km(km.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Qt(r.mockUserToken,e.app.options.projectId);a=new km(o)}fb(i,t,n,a)}oy.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},oy.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Mv=e}(cr),ar(new gn("database",(function(e,t){var n=t.instanceIdentifier;return db(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),dr(jv,Lv,e),dr(jv,Lv,"esm2017")}();function yb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var gb;Object.create;function kb(){return Ct({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var _b=kb,bb=new $t("auth","Firebase",kb()),wb=new Nn("@firebase/auth");function xb(e){if(wb.logLevel<=wn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wb.error.apply(wb,["Auth (".concat(cr,"): ").concat(e)].concat(n))}}function Cb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Tb.apply(void 0,[e].concat(n))}function Eb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Tb.apply(void 0,[e].concat(n))}function Sb(e,t,n){var r=Object.assign(Object.assign({},_b()),Ct({},t,n));return new $t("auth","Firebase",r).create(t,{appName:e.name})}function Tb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=u(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(u(o)))}return bb.create.apply(bb,[e].concat(n))}function Ib(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Tb.apply(void 0,[t].concat(r))}}function Nb(e){var t="INTERNAL ASSERTION FAILED: "+e;throw xb(t),new Error(t)}function Rb(e,t){e||Nb(t)}var Pb=new Map;function Ab(e){Rb(e instanceof Function,"Expected a class definition");var t=Pb.get(e);return t?(Rb(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Pb.set(e,t),t)}function Db(e,t){var n=or(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(sn(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Cb(r,"already-initialized")}return n.initialize({options:t})}function Ob(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function jb(){return"http:"===Lb()||"https:"===Lb()}function Lb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Mb(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(jb()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Fb=function(){function e(t,n){l(this,e),this.shortDelay=t,this.longDelay=n,Rb(n>t,"Short delay should be less than long delay!"),this.isMobile=Ft()||Ut()}return d(e,[{key:"get",value:function(){return Mb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Ub(e,t){Rb(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Vb=function(){function e(){l(this,e)}return d(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Nb("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Nb("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Nb("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),zb=(Ct(gb={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ct(gb,"MISSING_CUSTOM_TOKEN","internal-error"),Ct(gb,"INVALID_IDENTIFIER","invalid-email"),Ct(gb,"MISSING_CONTINUE_URI","internal-error"),Ct(gb,"INVALID_PASSWORD","wrong-password"),Ct(gb,"MISSING_PASSWORD","internal-error"),Ct(gb,"EMAIL_EXISTS","email-already-in-use"),Ct(gb,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ct(gb,"INVALID_IDP_RESPONSE","invalid-credential"),Ct(gb,"INVALID_PENDING_TOKEN","invalid-credential"),Ct(gb,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ct(gb,"MISSING_REQ_TYPE","internal-error"),Ct(gb,"EMAIL_NOT_FOUND","user-not-found"),Ct(gb,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ct(gb,"EXPIRED_OOB_CODE","expired-action-code"),Ct(gb,"INVALID_OOB_CODE","invalid-action-code"),Ct(gb,"MISSING_OOB_CODE","internal-error"),Ct(gb,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ct(gb,"INVALID_ID_TOKEN","invalid-user-token"),Ct(gb,"TOKEN_EXPIRED","user-token-expired"),Ct(gb,"USER_NOT_FOUND","user-token-expired"),Ct(gb,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ct(gb,"INVALID_CODE","invalid-verification-code"),Ct(gb,"INVALID_SESSION_INFO","invalid-verification-id"),Ct(gb,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ct(gb,"MISSING_SESSION_INFO","missing-verification-id"),Ct(gb,"SESSION_EXPIRED","code-expired"),Ct(gb,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ct(gb,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ct(gb,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ct(gb,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ct(gb,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ct(gb,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ct(gb,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ct(gb,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ct(gb,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ct(gb,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ct(gb,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),gb),qb=new Fb(3e4,6e4);function Bb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Hb(e,t,n,r){return Wb.apply(this,arguments)}function Wb(){return Wb=wt(_t().mark((function e(t,n,r,i){var a,o=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Kb(t,a,wt(_t().mark((function e(){var a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ln(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Vb.fetch()($b(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Kb(e,t,n){return Gb.apply(this,arguments)}function Gb(){return Gb=wt(_t().mark((function e(t,n,r){var i,a,o,u,l,c,h,f,d,p;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},zb),n),e.prev=2,a=new Xb(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Jb(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(l=o.ok?u.errorMessage:u.error.message,c=l.split(" : "),h=s(c,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Jb(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Jb(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Jb(t,"user-disabled",u);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Sb(t,p,d);case 34:Cb(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Yt)){e.next=41;break}throw e.t0;case 41:Cb(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Gb.apply(this,arguments)}function Qb(e,t,n,r){return Yb.apply(this,arguments)}function Yb(){return Yb=wt(_t().mark((function e(t,n,r,i){var a,o,s=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Hb(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Cb(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Yb.apply(this,arguments)}function $b(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ub(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Xb=function(){function e(t){var n=this;l(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Eb(n.auth,"network-request-failed"))}),qb.get())}))}return d(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Jb(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Eb(e,t,r);return i.customData._tokenResponse=n,i}function Zb(e,t){return ew.apply(this,arguments)}function ew(){return(ew=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hb(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tw(e,t){return nw.apply(this,arguments)}function nw(){return(nw=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hb(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rw(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function iw(){return iw=wt(_t().mark((function e(t){var n,r,i,a,o,s,u=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=yn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ib((a=ow(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:rw(aw(a.auth_time)),issuedAtTime:rw(aw(a.iat)),expirationTime:rw(aw(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),iw.apply(this,arguments)}function aw(e){return 1e3*Number(e)}function ow(e){var t,n=s(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return xb("JWT malformed, contained fewer than 3 sections"),null;try{var o=Ot(i);return o?JSON.parse(o):(xb("Failed to decode base64 JWT payload"),null)}catch(u){return xb("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function sw(e,t){return uw.apply(this,arguments)}function uw(){return uw=wt(_t().mark((function e(t,n){var r=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Yt&&lw(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),uw.apply(this,arguments)}function lw(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var cw=function(){function e(t){l(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return d(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(wt(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=wt(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),hw=function(){function e(t,n){l(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return d(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=rw(this.lastLoginAt),this.creationTime=rw(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function fw(e){return dw.apply(this,arguments)}function dw(){return dw=wt(_t().mark((function e(t){var n,r,i,a,o,s,u,l,c,h,f;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,sw(t,tw(r,{idToken:i}));case 6:Ib(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?mw(o.providerUserInfo):[],u=vw(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!l&&c,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hw(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}function pw(){return(pw=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yn(t),e.next=3,fw(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vw(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(u(n),u(t))}function mw(e){return e.map((function(e){var t=e.providerId,n=yb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function yw(e,t){return gw.apply(this,arguments)}function gw(){return(gw=wt(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kb(t,{},wt(_t().mark((function e(){var r,i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ln({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=$b(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Vb.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kw=function(){function e(){l(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return d(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ib(e.idToken,"internal-error"),Ib("undefined"!==typeof e.idToken,"internal-error"),Ib("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ow(e);return Ib(t,"internal-error"),Ib("undefined"!==typeof t.exp,"internal-error"),Ib("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=wt(_t().mark((function e(t){var n,r=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ib(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=wt(_t().mark((function e(t,n){var r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yw(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Nb("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ib("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ib("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ib("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function _w(e,t){Ib("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var bw=function(){function e(t){l(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=yb(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?u(a.providerData):[],this.metadata=new hw(a.createdAt||void 0,a.lastLoginAt||void 0)}return d(e,[{key:"getIdToken",value:function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sw(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ib(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return iw.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return pw.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ib(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ib(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=wt(_t().mark((function e(t){var n,r,i=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,fw(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=wt(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,sw(this,Zb(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,_=n.emailVerified,b=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;Ib(k&&x,t,"internal-error");var C=kw.fromJSON(this.name,x);Ib("string"===typeof k,t,"internal-error"),_w(h,t.name),_w(f,t.name),Ib("boolean"===typeof _,t,"internal-error"),Ib("boolean"===typeof b,t,"internal-error"),_w(d,t.name),_w(p,t.name),_w(v,t.name),_w(m,t.name),_w(y,t.name),_w(g,t.name);var E=new e({uid:k,auth:t,email:f,emailVerified:_,displayName:h,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:C,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(E.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=wt(_t().mark((function t(n,r){var i,a,o,s=arguments;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new kw).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,fw(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ww=function(){function e(){l(this,e),this.type="NONE",this.storage={}}return d(e,[{key:"_isAvailable",value:function(){var e=wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ww.type="NONE";var xw=ww;function Cw(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ew=function(){function e(t,n,r){l(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Cw(this.userKey,a.apiKey,o),this.fullPersistenceKey=Cw("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return d(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=wt(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?bw._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=wt(_t().mark((function t(n,r){var i,a,o,s,u,l,c,h,f,d,p,v=arguments;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ab(xw),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ab(xw),s=Cw(i,n.config.apiKey,n.name),u=null,l=xt(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return h=c.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=bw._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Sw(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Rw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Aw(t))return"Blackberry";if(Dw(t))return"Webos";if(Iw(t))return"Safari";if((t.includes("chrome/")||Nw(t))&&!t.includes("edge/"))return"Chrome";if(Pw(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Tw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/firefox\//i.test(e)}function Iw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Nw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/crios\//i.test(e)}function Rw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iemobile/i.test(e)}function Pw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/android/i.test(e)}function Aw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/blackberry/i.test(e)}function Dw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/webos/i.test(e)}function Ow(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function jw(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return Ow(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Lw(){return function(){var e=Mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Mw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return Ow(e)||Pw(e)||Dw(e)||Aw(e)||/windows phone/i.test(e)||Rw(e)}function Fw(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Sw(Mt());break;case"Worker":t="".concat(Sw(Mt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(cr,"/").concat(r)}var Uw=function(){function e(t){l(this,e),this.auth=t,this.queue=[]}return d(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=wt(_t().mark((function e(t){var n,r,i,a,o,s,u,l;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=xt(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=xt(r);try{for(s.s();!(u=s.n()).done;){l=u.value;try{l()}catch(c){}}}catch(h){s.e(h)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Vw=function(){function e(t,n,r){l(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qw(this),this.idTokenSubscription=new qw(this),this.beforeStateQueue=new Uw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bb,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return d(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ab(t)),this._initializationPromise=this.queue(wt(_t().mark((function r(){var i,a;return _t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ew.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=wt(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=wt(_t().mark((function e(t){var n,r,i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ib(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fw(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?yn(t):null)&&Ib(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=wt(_t().mark((function e(t){var n,r=this,i=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ib(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(wt(_t().mark((function n(){return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ab(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new $t("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=wt(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ib(n=t&&Ab(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ew.create(this,[Ab(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=wt(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=wt(_t().mark((function e(t){var n=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ib(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ib(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fw(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=wt(_t().mark((function e(){var t,n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ct({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function zw(e){return yn(e)}var qw=function(){function e(t){var n=this;l(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new dn(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return d(e,[{key:"next",get:function(){return Ib(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Bw(e,t,n){var r=zw(e);Ib(r._canInitEmulator,r,"emulator-config-failed"),Ib(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Hw(t),o=function(e){var t=Hw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ww(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:Ww(o[1])}}(t),u=o.host,l=o.port,c=null===l?"":":".concat(l);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hw(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ww(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Kw=function(){function e(t,n){l(this,e),this.providerId=t,this.signInMethod=n}return d(e,[{key:"toJSON",value:function(){return Nb("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Nb("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Nb("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Nb("not implemented")}}]),e}();function Gw(e,t){return Qw.apply(this,arguments)}function Qw(){return(Qw=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yw(e,t){return $w.apply(this,arguments)}function $w(){return($w=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qb(t,"POST","/v1/accounts:signInWithPassword",Bb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xw(e,t){return Jw.apply(this,arguments)}function Jw(){return(Jw=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hb(t,"POST","/v1/accounts:sendOobCode",Bb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zw(e,t){return ex.apply(this,arguments)}function ex(){return(ex=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tx(e,t){return nx.apply(this,arguments)}function nx(){return(nx=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qb(t,"POST","/v1/accounts:signInWithEmailLink",Bb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rx(e,t){return ix.apply(this,arguments)}function ix(){return(ix=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qb(t,"POST","/v1/accounts:signInWithEmailLink",Bb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ax=function(e){v(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return d(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Yw(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",tx(t,{email:this._email,oobCode:this._password}));case 5:Cb(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Gw(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",rx(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Cb(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Kw);function ox(e,t){return sx.apply(this,arguments)}function sx(){return(sx=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qb(t,"POST","/v1/accounts:signInWithIdp",Bb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ux=function(e){v(n,e);var t=_(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return d(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ox(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ox(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ox(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ln(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cb("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=yb(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Kw);function lx(e,t){return cx.apply(this,arguments)}function cx(){return(cx=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hb(t,"POST","/v1/accounts:sendVerificationCode",Bb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hx(){return(hx=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qb(t,"POST","/v1/accounts:signInWithPhoneNumber",Bb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fx(){return(fx=wt(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qb(t,"POST","/v1/accounts:signInWithPhoneNumber",Bb(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Jb(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dx=Ct({},"USER_NOT_FOUND","user-not-found");function px(){return(px=wt(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Qb(t,"POST","/v1/accounts:signInWithPhoneNumber",Bb(t,r),dx));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vx=function(e){v(n,e);var t=_(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone","phone")).params=e,r}return d(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return hx.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return fx.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return px.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Kw);var mx=function(){function e(t){var n,r,i,a,o,s;l(this,e);var u=cn(hn(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,h=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Ib(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return d(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=cn(hn(e)).link,n=t?cn(hn(t)).deep_link_id:null,r=cn(hn(e)).deep_link_id;return(r?cn(hn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Mp){return null}}}]),e}();var yx=function(){function e(){l(this,e),this.providerId=e.PROVIDER_ID}return d(e,null,[{key:"credential",value:function(e,t){return ax._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=mx.parseLink(t);return Ib(n,"argument-error"),ax._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();yx.PROVIDER_ID="password",yx.EMAIL_PASSWORD_SIGN_IN_METHOD="password",yx.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var gx=function(){function e(t){l(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return d(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),kx=function(e){v(n,e);var t=_(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).scopes=[],e}return d(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return u(this.scopes)}}]),n}(gx),_x=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.call(this,"facebook.com")}return d(n,null,[{key:"credential",value:function(e){return ux._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Mp){return null}}}]),n}(kx);_x.FACEBOOK_SIGN_IN_METHOD="facebook.com",_x.PROVIDER_ID="facebook.com";var bx=function(e){v(n,e);var t=_(n);function n(){var e;return l(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return d(n,null,[{key:"credential",value:function(e,t){return ux._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Mp){return null}}}]),n}(kx);bx.GOOGLE_SIGN_IN_METHOD="google.com",bx.PROVIDER_ID="google.com";var wx=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.call(this,"github.com")}return d(n,null,[{key:"credential",value:function(e){return ux._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Mp){return null}}}]),n}(kx);wx.GITHUB_SIGN_IN_METHOD="github.com",wx.PROVIDER_ID="github.com";var xx=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.call(this,"twitter.com")}return d(n,null,[{key:"credential",value:function(e,t){return ux._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Mp){return null}}}]),n}(kx);function Cx(e,t){return Ex.apply(this,arguments)}function Ex(){return(Ex=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qb(t,"POST","/v1/accounts:signUp",Bb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}xx.TWITTER_SIGN_IN_METHOD="twitter.com",xx.PROVIDER_ID="twitter.com";var Sx=function(){function e(t){l(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return d(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=wt(_t().mark((function t(n,r,i){var a,o,s,u,l=arguments;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,bw._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Tx(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=wt(_t().mark((function t(n,r,i){var a;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Tx(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Tx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Ix=function(e){v(n,e);var t=_(n);function n(e,r,i,a){var o,s;return l(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(g(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return d(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Yt);function Nx(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ix._fromErrorAndOperation(e,n,t,r);throw n}))}function Rx(e,t){return Px.apply(this,arguments)}function Px(){return Px=wt(_t().mark((function e(t,n){var r,i,a=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=sw,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Sx._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Ax(e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=wt(_t().mark((function e(t,n){var r,i,a,o,s,u,l,c=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,sw(t,Nx(a,o,n,t),r);case 6:return Ib((s=e.sent).idToken,a,"internal-error"),Ib(u=ow(s.idToken),a,"internal-error"),l=u.sub,Ib(t.uid===l,a,"user-mismatch"),e.abrupt("return",Sx._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Cb(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Dx.apply(this,arguments)}function Ox(e,t){return jx.apply(this,arguments)}function jx(){return jx=wt(_t().mark((function e(t,n){var r,i,a,o,s=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Nx(t,i,n);case 4:return a=e.sent,e.next=7,Sx._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function Lx(e,t){return Mx.apply(this,arguments)}function Mx(){return(Mx=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ox(zw(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fx(e,t,n){var r;Ib((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ib("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ib(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ib(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ux(e,t,n){return Vx.apply(this,arguments)}function Vx(){return(Vx=wt(_t().mark((function e(t,n,r){var i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zw(t),e.next=3,Cx(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Sx._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zx(e,t){return qx.apply(this,arguments)}function qx(){return(qx=wt(_t().mark((function e(t,n){var r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Fx(r.auth,a,n),e.next=8,Zw(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bx(e,t){return Hx.apply(this,arguments)}function Hx(){return(Hx=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wx(e,t){return Kx.apply(this,arguments)}function Kx(){return(Kx=wt(_t().mark((function e(t,n){var r,i,a,o,s,u,l;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=yn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,sw(a,Bx(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gx(e,t,n,r){return yn(e).onIdTokenChanged(t,n,r)}function Qx(e,t,n){return yn(e).beforeAuthStateChanged(t,n)}function Yx(e,t){return Hb(e,"POST","/v2/accounts/mfaEnrollment:start",Bb(e,t))}new WeakMap;var $x="__sak",Xx=function(){function e(t,n){l(this,e),this.storageRetriever=t,this.type=n}return d(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem($x,"1"),this.storage.removeItem($x),Promise.resolve(!0)):Promise.resolve(!1)}catch(Mp){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Jx=function(e){v(n,e);var t=_(n);function n(){var e;return l(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Mt();return Iw(e)||Ow(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Mw(),e._shouldAllowMigration=!0,e}return d(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Lw()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=wt(_t().mark((function e(t,r){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr(m(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wt(_t().mark((function e(t){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr(m(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr(m(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Xx);Jx.type="LOCAL";var Zx=Jx,eC=function(e){v(n,e);var t=_(n);function n(){return l(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return d(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Xx);eC.type="SESSION";var tC=eC;function nC(e){return Promise.all(e.map(function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var rC=function(){function e(t){l(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return d(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=wt(_t().mark((function e(t){var n,r,i,a,o,s,u,l;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,nC(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function iC(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}rC.receivers=[];var aC=function(){function e(t){l(this,e),this.target=t,this.handlers=new Set}return d(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=wt(_t().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=iC("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function oC(){return window}function sC(){return"undefined"!==typeof oC().WorkerGlobalScope&&"function"===typeof oC().importScripts}function uC(){return lC.apply(this,arguments)}function lC(){return(lC=wt(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function cC(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var hC="firebaseLocalStorageDb",fC="firebaseLocalStorage",dC="fbase_key",pC=function(){function e(t){l(this,e),this.request=t}return d(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function vC(e,t){return e.transaction([fC],t?"readwrite":"readonly").objectStore(fC)}function mC(){var e=indexedDB.deleteDatabase(hC);return new pC(e).toPromise()}function yC(){var e=indexedDB.open(hC,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(fC,{keyPath:dC})}catch(r){n(r)}})),e.addEventListener("success",wt(_t().mark((function n(){var r;return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(fC)){n.next=12;break}return r.close(),n.next=5,mC();case 5:return n.t0=t,n.next=8,yC();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function gC(e,t,n){return kC.apply(this,arguments)}function kC(){return kC=wt(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vC(t,!0).put((Ct(i={},dC,n),Ct(i,"value",r),i)),e.abrupt("return",new pC(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function _C(e,t){return bC.apply(this,arguments)}function bC(){return bC=wt(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vC(t,!1).get(n),e.next=3,new pC(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function wC(e,t){var n=vC(e,!0).delete(t);return new pC(n).toPromise()}var xC=function(){function e(){l(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return d(e,[{key:"_openDb",value:function(){var e=wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,yC();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=wt(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sC()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=wt(_t().mark((function e(){var t=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=rC._getInstance(sC()?self:null),this.receiver._subscribe("keyChanged",function(){var e=wt(_t().mark((function e(n,r){var i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=wt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=wt(_t().mark((function e(){var t,n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uC();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new aC(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&cC()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=wt(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,yC();case 5:return t=e.sent,e.next=8,gC(t,$x,"1");case 8:return e.next=10,wC(t,$x);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=wt(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=wt(_t().mark((function e(t,n){var r=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return gC(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return _C(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wt(_t().mark((function e(t){var n=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return wC(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=wt(_t().mark((function e(){var t,n,r,i,a,o,s,u,l,c,h;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=vC(e,!1).getAll();return new pC(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=xt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)h=c[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(wt(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();xC.type="LOCAL";var CC=xC;function EC(e,t){return Hb(e,"POST","/v2/accounts/mfaSignIn:start",Bb(e,t))}function SC(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Eb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function TC(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}TC("rcb"),new Fb(3e4,6e4);var IC="recaptcha";function NC(e,t,n){return RC.apply(this,arguments)}function RC(){return RC=wt(_t().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,f;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ib("string"===typeof a,t,"argument-error"),Ib(r.type===IC,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Ib("enroll"===s.type,t,"internal-error"),e.next=13,Yx(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Ib("signin"===s.type,t,"internal-error"),Ib(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,EC(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,lx(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),RC.apply(this,arguments)}var PC=function(){function e(t){l(this,e),this.providerId=e.PROVIDER_ID,this.auth=zw(t)}return d(e,[{key:"verifyPhoneNumber",value:function(e,t){return NC(this.auth,e,yn(t))}}],[{key:"credential",value:function(e,t){return vx._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?vx._fromTokenResponse(n,r):null}}]),e}();function AC(e,t){return t?Ab(t):(Ib(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}PC.PROVIDER_ID="phone",PC.PHONE_SIGN_IN_METHOD="phone";var DC=function(e){v(n,e);var t=_(n);function n(e){var r;return l(this,n),(r=t.call(this,"custom","custom")).params=e,r}return d(n,[{key:"_getIdTokenResponse",value:function(e){return ox(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ox(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ox(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Kw);function OC(e){return Ox(e.auth,new DC(e),e.bypassAuthState)}function jC(e){var t=e.auth,n=e.user;return Ib(n,t,"internal-error"),Ax(n,new DC(e),e.bypassAuthState)}function LC(e){return MC.apply(this,arguments)}function MC(){return(MC=wt(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ib(r=t.user,n,"internal-error"),e.abrupt("return",Rx(r,new DC(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FC=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];l(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return d(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=wt(_t().mark((function t(n,r){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=wt(_t().mark((function e(t){var n,r,i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OC;case"linkViaPopup":case"linkViaRedirect":return LC;case"reauthViaPopup":case"reauthViaRedirect":return jC;default:Cb(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Rb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Rb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),UC=new Fb(2e3,1e4);var VC=function(e){v(n,e);var t=_(n);function n(e,r,i,a,o){var s;return l(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=g(s),s}return d(n,[{key:"executeNotNull",value:function(){var e=wt(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ib(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=wt(_t().mark((function e(){var t,n=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rb(1===this.filter.length,"Popup operations only handle one event"),t=iC(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Eb(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Eb(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Eb(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,UC.get())}()}}]),n}(FC);VC.currentPopupAction=null;var zC=new Map,qC=function(e){v(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return d(n,[{key:"execute",value:function(){var e=wt(_t().mark((function e(){var t,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=zC.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,BC(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Nr(m(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:zC.set(this.auth._key(),t);case 21:return this.bypassAuthState||zC.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=wt(_t().mark((function e(t){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Nr(m(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Nr(m(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=wt(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(FC);function BC(e,t){return HC.apply(this,arguments)}function HC(){return(HC=wt(_t().mark((function e(t,n){var r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=GC(n),i=KC(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WC(e,t){zC.set(e._key(),t)}function KC(e){return Ab(e._redirectPersistence)}function GC(e){return Cw("pendingRedirect",e.config.apiKey,e.name)}function QC(e,t){return YC.apply(this,arguments)}function YC(){return YC=wt(_t().mark((function e(t,n){var r,i,a,o,s,u=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=zw(t),a=AC(i,n),o=new qC(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),YC.apply(this,arguments)}var $C=function(){function e(t){l(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return d(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JC(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!JC(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Eb(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(XC(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(XC(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function XC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function JC(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ZC(e){return eE.apply(this,arguments)}function eE(){return eE=wt(_t().mark((function e(t){var n,r=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Hb(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}var tE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nE=/^https?/;function rE(){return(rE=wt(_t().mark((function e(t){var n,r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ZC(t);case 4:n=e.sent,r=n.authorizedDomains,i=xt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!iE(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Cb(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function iE(e){var t=Ob(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!nE.test(r))return!1;if(tE.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var aE=new Fb(3e4,6e4);function oE(){var e=oC().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=u(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var sE=null;function uE(e){return sE=sE||function(e){return new Promise((function(t,n){var r,i,a;function o(){oE(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){oE(),n(Eb(e,"network-request-failed"))},timeout:aE.get()})}if(null===(i=null===(r=oC().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=oC().gapi)||void 0===a?void 0:a.load)){var s=TC("iframefcb");return oC()[s]=function(){gapi.load?o():n(Eb(e,"network-request-failed"))},SC("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw sE=null,e}))}(e),sE}var lE=new Fb(5e3,15e3),cE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fE(e){var t=e.config;Ib(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ub(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:cr},i=hE.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ln(r).slice(1))}function dE(e){return pE.apply(this,arguments)}function pE(){return pE=wt(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uE(t);case 2:return n=e.sent,Ib(r=oC().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:fE(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cE,dontclear:!0},(function(e){return new Promise(function(){var n=wt(_t().mark((function n(r,i){var a,o,s;return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){oC().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Eb(t,"network-request-failed"),o=oC().setTimeout((function(){i(a)}),lE.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}var vE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mE="_blank",yE="http://localhost",gE=function(){function e(t){l(this,e),this.window=t,this.associatedEvent=null}return d(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function kE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",l=Object.assign(Object.assign({},vE),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Mt().toLowerCase();n&&(u=Nw(c)?mE:n),Tw(c)&&(t=t||yE,l.scrollbars="yes");var h=Object.entries(l).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(jw(c)&&"_self"!==u)return _E(t||"",u),new gE(null);var f=window.open(t||"",u,h);Ib(f,e,"popup-blocked");try{f.focus()}catch(d){}return new gE(f)}function _E(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var bE="__/auth/handler",wE="emulator/auth/handler";function xE(e,t,n,r,i,a){Ib(e.config.authDomain,e,"auth-domain-config-required"),Ib(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:cr,eventId:i};if(t instanceof gx){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",an(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,l=Object.entries(a||{});u<l.length;u++){var c=s(l[u],2),h=c[0],f=c[1];o[h]=f}}if(t instanceof kx){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(bE);return Ub(t,wE)}(e),"?").concat(ln(p).slice(1))}var CE="webStorageSupport",EE=function(){function e(){l(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tC,this._completeRedirectFn=QC,this._overrideRedirectResult=WC}return d(e,[{key:"_openPopup",value:function(){var e=wt(_t().mark((function e(t,n,r,i){var a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rb(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=xE(t,n,r,Ob(),i),e.abrupt("return",kE(t,o,iC()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=wt(_t().mark((function e(t,n,r,i){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=xE(t,n,r,Ob(),i),oC().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Rb(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=wt(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dE(t);case 2:return n=e.sent,r=new $C(t),n.register("authEvent",(function(e){return Ib(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(CE,{type:CE},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Cb(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return rE.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Mw()||Iw()||Ow()}}]),e}(),SE=EE,TE=function(e){v(n,e);var t=_(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone")).credential=e,r}return d(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Hb(e,"POST","/v2/accounts/mfaEnrollment:finalize",Bb(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Hb(e,"POST","/v2/accounts/mfaSignIn:finalize",Bb(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){l(this,e),this.factorId=t}return d(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Nb("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){l(this,e)}return d(e,null,[{key:"assertion",value:function(e){return TE._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var IE="@firebase/auth",NE="0.20.11",RE=function(){function e(t){l(this,e),this.auth=t,this.internalListeners=new Map}return d(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=wt(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ib(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var PE,AE=Kt("authIdTokenMaxAge")||300,DE=null,OE=function(e){return function(){var t=wt(_t().mark((function t(n){var r,i,a;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>AE)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,DE!==a){t.next=12;break}return t.abrupt("return");case 12:return DE=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};PE="Browser",ar(new gn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Ib(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Ib(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:PE,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fw(PE)},i=new Vw(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ab);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ar(new gn("auth-internal",(function(e){return function(e){return new RE(e)}(zw(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),dr(IE,NE,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(PE)),dr(IE,NE,"esm2017");var jE=hr({apiKey:"AIzaSyCmJok-jXA8s99BZf0alZAX_aVF5X-jq3k",authDomain:"kirimdataesp.firebaseapp.com",databaseURL:"https://kirimdataesp-default-rtdb.firebaseio.com",projectId:"kirimdataesp",storageBucket:"kirimdataesp.appspot.com",messagingSenderId:"315549869657",appId:"1:315549869657:web:ae690bbb0ba7ea174fb348"}),LE=vb(jE),ME=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr(),t=or(e,"auth");if(t.isInitialized())return t.getImmediate();var n=Db(e,{popupRedirectResolver:SE,persistence:[CC,Zx,tC]}),r=Kt("authTokenSyncURL");if(r){var i=OE(r);Qx(n,i,(function(){return i(n.currentUser)})),Gx(n,(function(e){return i(e)}))}var a=Bt("auth");return a&&Bw(n,"http://".concat(a)),n}(jE),FE=vb(jE),UE=function(e,t){var n="string"==typeof e?e:t||"(default)",r=or("object"==typeof e?e:fr(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Ht("firestore");i&&Pp.apply(void 0,[r].concat(u(i)))}return r}(jE),VE=LE,zE=function(){!function(e,t,n,r){yn(e).onAuthStateChanged(t,n,r)}(ME,(function(e){if(e)return{uid:e.uid,name:e.displayName,email:e.email};return null}))},qE=t.createContext();var BE=function(e){e.login;var n=s(kt(""),2),r=n[0],i=n[1],a=s(kt(""),2),o=a[0],u=a[1],l=t.useContext(qE).locale,c=ye(),h=function(e){var t=e.email,n=e.password;(function(e,t,n){return Lx(yn(e),yx.credential(t,n))})(ME,t,n).then((function(e){var t,n=e.user.accessToken;alert("Login Berhasil"),t=n,localStorage.setItem("accessToken",t),zE(),c("/")})).catch((function(e){var t=e.message;alert("Login Gagal"),console.log(t)}))};return(0,tt.jsx)("div",{className:"input-login",children:(0,tt.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h({email:r,password:o})},className:"login-input",children:[(0,tt.jsx)("input",{className:"input__action",type:"email",id:"email",placeholder:"Email",value:r,onChange:i,required:!0}),(0,tt.jsx)("input",{className:"input__action",type:"password",id:"password",placeholder:"Password",value:o,onChange:u,required:!0}),(0,tt.jsx)("div",{className:"login__action",children:(0,tt.jsx)("button",{className:"action-submit",type:"submit",title:"Simpan",onClick:"alert()",children:(0,tt.jsx)("p",{children:"id"===l?"Login":"Sign In"})})})]})})};var HE=function(){return(0,tt.jsxs)("div",{className:"login-page",children:[(0,tt.jsxs)("div",{className:"login-page__header",children:[(0,tt.jsx)("h2",{children:"Login"}),(0,tt.jsx)("p",{children:"Silahkan login untuk melanjutkan"})]}),(0,tt.jsx)(BE,{}),(0,tt.jsxs)("p",{className:"login__link",children:["Belum memiliki akun?",(0,tt.jsx)(Le,{to:ze,children:" Buat akun"})]})]})};var WE=function(e){e.register;var t=s(kt(""),2),n=t[0],r=t[1],i=s(kt(""),2),a=i[0],o=i[1],u=s(kt(""),2),l=u[0],c=u[1],h=s(kt(""),2),f=h[0],d=h[1],p=ye(),v=function(){var e=wt(_t().mark((function e(t){var n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.name,i=t.password,e.prev=1,e.next=4,Ux(ME,n,i).then((function(e){var t=e.user;ab(rb(FE,"users/"+t.uid),{name:r,email:n,password:i}),alert("User Telah Ditambahkan"),p("/login")})).catch((function(e){var t=e.message;alert(t)}));case 4:return e.next=6,zx(ME.currentUser).catch((function(e){return console.log(e.message)}));case 6:return e.next=8,Wx(ME.currentUser,{displayName:r}).catch((function(e){return console.log(e.message)}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,tt.jsx)("div",{className:"input-register",children:(0,tt.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l===f?v({email:a,name:n,password:l}):alert("Register Gagal, Password dan Confirm Password harus sama")},className:"register-input",children:[(0,tt.jsx)("input",{className:"input__action",type:"text",placeholder:"Nama",value:n,onChange:r,required:!0}),(0,tt.jsx)("input",{className:"input__action",type:"email",placeholder:"Email",value:a,onChange:o,required:!0}),(0,tt.jsx)("input",{className:"input__action",type:"password",placeholder:"Password",value:l,onChange:c,required:!0}),(0,tt.jsx)("input",{className:"input__action",type:"password",placeholder:"Konfirmasi Password",value:f,onChange:d,required:!0}),(0,tt.jsx)("div",{className:"register__action",children:(0,tt.jsx)("button",{className:"action-submit",type:"submit",title:"Simpan",children:(0,tt.jsx)("p",{children:"Simpan"})})})]})})};var KE=function(){return(0,tt.jsxs)("div",{className:"register-page",children:[(0,tt.jsxs)("div",{className:"register-page__header",children:[(0,tt.jsx)("h2",{children:"Registrasi Akun"}),(0,tt.jsx)("p",{children:"Silahkan melakukan registrasi untuk membuat akun"})]}),(0,tt.jsx)(WE,{}),(0,tt.jsxs)("p",{className:"register__link",children:["Kembali ke",(0,tt.jsx)(Le,{to:Ve,children:"Login"})]})]})};var GE=function(){return(0,tt.jsxs)("div",{className:"about-page",children:[(0,tt.jsxs)("div",{className:"about-page__what",children:[(0,tt.jsx)("h2",{children:"Apa itu HCMS?"}),(0,tt.jsx)("p",{children:"HCMS adalah singkatan dari Hydroponic Control Monitoring System yang dapat membantu kita untuk membudidayakan tanaman hidroponik berbasis website yang akan menampilkan data suhu dan ketinggian air dengan sensor sensor yang di aplikasikan pada tanaman"})]}),(0,tt.jsxs)("div",{className:"about-page__why",children:[(0,tt.jsx)("h2",{children:"Kenapa kami membuat HCMS?"}),(0,tt.jsx)("p",{children:"Tanaman hidroponik memerlukan perawatan secara intens seperti kelembaban air harus dimonitoring dengan baik dan kebutuhan lainnya. Namun, ada saatnya pemilik tanaman hidroponik tidak berada di dekat area penanaman tersebut sehingga tidak dapat secara langsung melakukan perawatan terhadap tanamannya. Maka dari itu diperlukan solusi untuk memantau kondisi tanaman secara otomatis. Website ini muncul dari pertanyaan \u201cBagaimana cara merawat tanaman hidroponik secara efektif?\u201d, \u201cBagaimana orang lebih mudah memantau tanaman hidroponik?\u201d. Website ini diharapkan dapat memudahkan masyarakat yang hobi menggeluti berkebun dengan konsep hidroponik untuk bisa monitoring ketinggian air dan kelembaban air secara otomatis terhadap tanaman hidroponik mereka."})]}),(0,tt.jsxs)("div",{className:"about-page__who",children:[(0,tt.jsx)("h2",{children:"Bagaimana menggunakan Website HCMS ?"}),(0,tt.jsx)("p",{children:"Berikut merupakan langkah-langkah yang dapat membantu Anda dalam memahami penggunaan website HCMS :"}),(0,tt.jsxs)("ol",{type:"1",children:[(0,tt.jsx)("li",{}),(0,tt.jsx)("li",{}),(0,tt.jsx)("li",{}),(0,tt.jsx)("li",{})]})]})]})};var QE=function(){var e=s(kt(""),2),t=e[0],n=e[1],r=s(kt(!1),2),i=r[0],a=r[1],o=s(kt(!0),2),u=o[0],l=o[1],c=s(kt(""),2),h=c[0],f=c[1],d=s(kt(""),2),p=d[0],v=d[1],m=s(kt(""),2),y=m[0],g=m[1],k=jp(UE,"Tanaman"),_=function(){var e=wt(_t().mark((function e(n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(t),console.log(i),console.log(h),e.next=6,Dv(k,{NamaTanaman:t,Kelembapan:Number(p),KetinggianAir:Number(y),Suhu:Number(h),Hidroponik:Boolean(i)});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,tt.jsx)("div",{className:"input-cek-tanaman",children:(0,tt.jsxs)("form",{className:"cek-tanaman-input",children:[(0,tt.jsx)("h4",{children:"Nama"}),(0,tt.jsx)("input",{className:"input__action",type:"text",placeholder:"Nama",value:t,onChange:n,required:!0}),(0,tt.jsxs)("h4",{children:["Hidroponik",(0,tt.jsx)("input",{className:"input__action",type:"radio",placeholder:"No",value:i,onChange:a,required:!0}),(0,tt.jsx)("span",{children:"Yes"}),(0,tt.jsx)("input",{className:"input__action",type:"radio",placeholder:"Yes",value:u,onChange:l,required:!0}),(0,tt.jsx)("span",{children:"No"})]}),(0,tt.jsx)("h4",{children:"Suhu"}),(0,tt.jsx)("input",{className:"input__action",type:"text",placeholder:"Suhu",value:h,onChange:f,required:!0}),(0,tt.jsx)("h4",{children:"Kelembapan"}),(0,tt.jsx)("input",{className:"input__action",type:"text",placeholder:"Kelembapan",value:p,onChange:v,required:!0}),(0,tt.jsx)("h4",{children:"Ketinggian Air"}),(0,tt.jsx)("input",{className:"input__action",type:"text",placeholder:"Ketinggian Air",value:y,onChange:g,required:!0}),(0,tt.jsx)("div",{className:"cek-tanaman__action",children:(0,tt.jsx)("button",{className:"action-submit",type:"submit",title:"Simpan",onClick:_,children:" Save "})})]})})};var YE=function(){return(0,tt.jsxs)("div",{className:"hcms__list-hidroponik",children:[(0,tt.jsxs)("div",{className:"hcms__list-hidroponik-list",children:[(0,tt.jsx)("div",{className:"header-wrapper",children:(0,tt.jsx)("div",{className:"header-logo-navbar",children:(0,tt.jsx)(Le,{to:"/",children:(0,tt.jsx)("h1",{children:"HCMS"})})})}),(0,tt.jsx)(Le,{to:"".concat(Be),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Monitor"})})}),(0,tt.jsx)(Le,{to:"".concat(We),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__cekTanaman",children:"Cek Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(He),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Data Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(Ke),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Kontak"})})}),(0,tt.jsx)(Le,{to:"".concat(Ue),children:(0,tt.jsx)("div",{className:"hcms__dashboard-item__logout",children:(0,tt.jsx)("h3",{children:" Log Out "})})})]}),(0,tt.jsxs)("div",{className:"Cek-Tanaman-page",children:[(0,tt.jsxs)("div",{className:"Cek-Tanaman-page__header",children:[(0,tt.jsx)("h2",{children:"Cek Tanaman"}),(0,tt.jsx)("p",{children:"Masukan Data Tanaman"})]}),(0,tt.jsx)("div",{className:"Cek-Tanaman-page__input",children:(0,tt.jsx)(QE,{})})]})]})};var $E=function(){var e=s((0,t.useState)([]),2),n=e[0],r=e[1],i=function(){var e=wt(_t().mark((function e(){var t,n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=jp(UE,"Tanaman"),e.next=3,Av(t);case 3:n=e.sent,r(n.docs.map((function(e){return Pn(Pn({},e.data()),{},{id:e.id})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function a(e){e.remove()}return(0,t.useEffect)((function(){i()}),[]),console.log(n),(0,tt.jsxs)("div",{className:"hcms__list-hidroponik",children:[(0,tt.jsxs)("div",{className:"hcms__list-hidroponik-list",children:[(0,tt.jsx)("div",{className:"header-wrapper",children:(0,tt.jsx)("div",{className:"header-logo-navbar",children:(0,tt.jsx)(Le,{to:"/",children:(0,tt.jsx)("h1",{children:"HCMS"})})})}),(0,tt.jsx)(Le,{to:"".concat(Be),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Monitor"})})}),(0,tt.jsx)(Le,{to:"".concat(We),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Cek Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(He),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__dataTanaman",children:"Data Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(Ke),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Kontak"})})}),(0,tt.jsx)(Le,{to:"".concat(Ue),children:(0,tt.jsx)("div",{className:"hcms__dashboard-item__logout",children:(0,tt.jsx)("h3",{children:" Log Out "})})})]}),(0,tt.jsx)("div",{className:"Data-Tanaman-page",children:(0,tt.jsxs)("div",{className:"Data-Tanaman-page__header",children:[(0,tt.jsx)("h2",{children:"Data Tanaman"}),(0,tt.jsx)("section",{className:"hcms_list-dataTanaman",children:(0,tt.jsxs)("table",{border:"solid",children:[(0,tt.jsxs)("thead",{children:[(0,tt.jsx)("th",{children:"Nama Tanaman"}),(0,tt.jsx)("th",{children:"Hidoponik"}),(0,tt.jsx)("th",{children:"Suhu"}),(0,tt.jsx)("th",{children:"Kelembapan"}),(0,tt.jsx)("th",{children:"Ketinggian Air"}),(0,tt.jsx)("th",{children:"Keterangan"})]}),n.map((function(e){var t;return t=e.Hidroponik?"Yes":"No",console.log(e),(0,tt.jsxs)("tbody",{children:[(0,tt.jsx)("td",{children:e.NamaTanaman}),(0,tt.jsx)("td",{children:t}),(0,tt.jsxs)("td",{children:[e.Suhu," C"]}),(0,tt.jsxs)("td",{children:[e.Kelembapan," %"]}),(0,tt.jsxs)("td",{children:[e.KetinggianAir," cm"]}),(0,tt.jsx)("td",{children:(0,tt.jsxs)("button",{children:["hapus",a]})})]},e.id)}))]})})]})})]})};var XE=function(){return(0,tt.jsxs)("div",{className:"hcms__list-hidroponik",children:[(0,tt.jsxs)("div",{className:"hcms__list-hidroponik-list",children:[(0,tt.jsx)("div",{className:"header-wrapper",children:(0,tt.jsx)("div",{className:"header-logo-navbar",children:(0,tt.jsx)(Le,{to:"/",children:(0,tt.jsx)("h1",{children:"HCMS"})})})}),(0,tt.jsx)(Le,{to:"".concat(Be),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__monitor",children:"Monitor"})})}),(0,tt.jsx)(Le,{to:"".concat(We),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Cek Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(He),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Data Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(Ke),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Kontak"})})}),(0,tt.jsx)(Le,{to:"".concat(Ue),children:(0,tt.jsx)("div",{className:"hcms__dashboard-item__logout",children:(0,tt.jsx)("h3",{children:" Log Out "})})})]}),(0,tt.jsxs)("div",{className:"monitor",children:[(0,tt.jsx)("section",{className:"hcms__monitor",children:(0,tt.jsx)("div",{className:"hcms__monitor-item",children:(0,tt.jsx)("div",{className:"hcms__monitor-item__title",children:(0,tt.jsx)("h2",{children:"Pilih Fitur"})})})}),(0,tt.jsxs)("section",{className:"hcms__list-monitor",children:[(0,tt.jsxs)("div",{className:"row",children:[(0,tt.jsx)("div",{className:"column",children:(0,tt.jsx)("div",{className:"container",children:(0,tt.jsx)(Le,{to:"".concat(Ge),children:(0,tt.jsx)("div",{className:"hcms__list-monitor-item-suhu",children:(0,tt.jsxs)("h3",{children:["Suhu Ruang ",(0,tt.jsx)(pt,{})]})})})})}),(0,tt.jsx)("div",{className:"column",children:(0,tt.jsx)(Le,{to:"".concat(Qe),children:(0,tt.jsx)("div",{className:"hcms__list-monitor-item-kelembapan",children:(0,tt.jsxs)("h3",{children:["Kelembaban ",(0,tt.jsx)(ft,{})]})})})})]}),(0,tt.jsxs)("div",{className:"row",children:[(0,tt.jsx)("div",{className:"column",children:(0,tt.jsx)(Le,{to:"".concat(Ye),children:(0,tt.jsx)("div",{className:"hcms__list-monitor-item-ketinggianAir",children:(0,tt.jsxs)("h3",{children:["Ketinggian Air ",(0,tt.jsx)(mt,{})]})})})}),(0,tt.jsx)("div",{className:"column",children:(0,tt.jsx)(Le,{to:"".concat($e),children:(0,tt.jsx)("div",{className:"hcms__list-monitor-item-tanaman",children:(0,tt.jsxs)("h3",{children:["Tanaman Hidroponik ",(0,tt.jsx)(dt,{})]})})})})]})]})]})]})};function JE(e){return lt({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}function ZE(e){return lt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function eS(e){return lt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function tS(e){return lt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 0c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm-160-16C256 50.1 205.9 0 144 0S32 50.1 32 112v166.5C12.3 303.2 0 334 0 368c0 79.5 64.5 144 144 144s144-64.5 144-144c0-34-12.3-64.9-32-89.5V112zM144 448c-44.1 0-80-35.9-80-80 0-25.5 12.2-48.9 32-63.8V112c0-26.5 21.5-48 48-48s48 21.5 48 48v192.2c19.8 14.8 32 38.3 32 63.8 0 44.1-35.9 80-80 80zm16-125.1V112c0-8.8-7.2-16-16-16s-16 7.2-16 16v210.9c-18.6 6.6-32 24.2-32 45.1 0 26.5 21.5 48 48 48s48-21.5 48-48c0-20.9-13.4-38.5-32-45.1z"}}]})(e)}var nS=function(){return(0,tt.jsxs)("div",{className:"hcms__list-hidroponik",children:[(0,tt.jsxs)("div",{className:"hcms__list-hidroponik-list",children:[(0,tt.jsx)("div",{className:"header-wrapper",children:(0,tt.jsx)("div",{className:"header-logo-navbar",children:(0,tt.jsx)(Le,{to:"/",children:(0,tt.jsx)("h1",{children:"HCMS"})})})}),(0,tt.jsx)(Le,{to:"".concat(Be),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Monitor"})})}),(0,tt.jsx)(Le,{to:"".concat(We),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Cek Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(He),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Data Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(Ke),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__kontak",children:"Kontak"})})}),(0,tt.jsx)(Le,{to:"".concat(Ue),children:(0,tt.jsx)("div",{className:"hcms__dashboard-item__logout",children:(0,tt.jsx)("h3",{children:" Log Out "})})})]}),(0,tt.jsxs)("section",{className:"kontak",children:[(0,tt.jsx)("section",{className:"hcms__kontak",children:(0,tt.jsx)("div",{className:"hcms__kontak-item",children:(0,tt.jsxs)("div",{className:"hcms__kontak-item__title",children:[(0,tt.jsx)("h2",{children:"Kontak Kami"}),(0,tt.jsx)("p",{children:"Kelompok C22-160"})]})})}),(0,tt.jsxs)("section",{className:"hcms__list-kontak",children:[(0,tt.jsxs)("div",{className:"row",children:[(0,tt.jsx)("div",{className:"column",children:(0,tt.jsxs)("div",{className:"hcms__list-kontak-item",children:[(0,tt.jsxs)("h3",{className:"hcms__list-kontak-item__description",children:[(0,tt.jsx)(vt,{})," Akbar Andika Khadafi"]}),(0,tt.jsxs)("section",{className:"hcms__list-kontak-item__text",children:[(0,tt.jsxs)("p",{children:[(0,tt.jsx)(JE,{})," akbrandika123@gmail.com "]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(eS,{}),(0,tt.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/akbar-andika-khadafi-384a21251/",children:" Akbar Andika Khadafi"})]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(ZE,{}),(0,tt.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.instagram.com/akbaraandka/",children:" akbaraandka"})]})]})]})}),(0,tt.jsx)("div",{className:"column",children:(0,tt.jsxs)("div",{className:"hcms__list-kontak-item",children:[(0,tt.jsxs)("h3",{className:"hcms__list-kontak-item__description",children:[(0,tt.jsx)(vt,{})," Annisa Nur Baiti"]}),(0,tt.jsxs)("section",{className:"hcms__list-kontak-item__text",children:[(0,tt.jsxs)("p",{children:[(0,tt.jsx)(JE,{})," anissanurbaiti354@gmail.com"]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(eS,{})," ",(0,tt.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/annisanurbaiti/",children:"Annisa Nur Baiti"})]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(ZE,{})," ",(0,tt.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.instagram.com/annisa_nb29/",children:"annisa_nb29"})," "]})]})]})})]}),(0,tt.jsxs)("div",{className:"row",children:[(0,tt.jsx)("div",{className:"column",children:(0,tt.jsxs)("div",{className:"hcms__list-kontak-item",children:[(0,tt.jsxs)("h3",{className:"hcms__list-kontak-item__description",children:[(0,tt.jsx)(vt,{}),"Marselina Rahmawati"]}),(0,tt.jsxs)("section",{className:"hcms__list-kontak-item__text",children:[(0,tt.jsxs)("p",{children:[(0,tt.jsx)(JE,{})," marselinarahmawati75@gmail.com"]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(eS,{})," ",(0,tt.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/marselinarahmawati/",children:"Marselina Rahmawati"})]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(ZE,{}),(0,tt.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.instagram.com/marselllinaa_/",children:" marselllinaa_"})]})]})]})}),(0,tt.jsx)("div",{className:"column",children:(0,tt.jsxs)("div",{className:"hcms__list-kontak-item",children:[(0,tt.jsxs)("h3",{className:"hcms__list-kontak-item__description",children:[(0,tt.jsx)(vt,{}),"Muhammad Rendy Pratama"]}),(0,tt.jsxs)("section",{className:"hcms__list-kontak-item__text",children:[(0,tt.jsxs)("p",{children:[(0,tt.jsx)(JE,{})," m.rendy5pratama@gmail.com "]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(eS,{}),(0,tt.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/muhammad-rendy-pratama-29868a245/",children:" Muhammad Rendy Pratama"})]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(ZE,{}),(0,tt.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.instagram.com/rendypratama141/",children:" rendypratama141"})]})]})]})})]})]})]})]})};var rS=function(){var e=s((0,t.useState)(),2),n=e[0],r=e[1],i=function(){var e=wt(_t().mark((function e(){var t,n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rb(VE,"DHT");case 2:t=e.sent,console.log(t),lb(t,(function(e){n=e.val(),console.log(n.Hum),r(n.Temp)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){i()}),[n]),(0,tt.jsxs)("div",{className:"hcms__list-hidroponik",children:[(0,tt.jsxs)("div",{className:"hcms__list-hidroponik-list",children:[(0,tt.jsx)("div",{className:"header-wrapper",children:(0,tt.jsx)("div",{className:"header-logo-navbar",children:(0,tt.jsx)(Le,{to:"/",children:(0,tt.jsx)("h1",{children:"HCMS"})})})}),(0,tt.jsx)(Le,{to:"".concat(Be),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__monitor",children:"Monitor"})})}),(0,tt.jsx)(Le,{to:"".concat(We),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Cek Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(He),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Data Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(Ke),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Kontak"})})}),(0,tt.jsx)(Le,{to:"".concat(Ue),children:(0,tt.jsx)("div",{className:"hcms__dashboard-item__logout",children:(0,tt.jsx)("h3",{children:" Log Out "})})})]}),(0,tt.jsxs)("div",{className:"suhu-ruang-page",children:[(0,tt.jsx)("div",{className:"suhu-ruang-page__header",children:(0,tt.jsx)("h2",{children:"Suhu Ruang"})}),(0,tt.jsx)("section",{className:"HCMS__list-suhu-ruang",children:(0,tt.jsxs)("div",{className:"HCMS__list-suhu-ruang-item",children:[(0,tt.jsx)("h3",{className:"HCMS__list-suhu-ruang-item__description",children:"Suhu Ruang"}),(0,tt.jsx)("section",{className:"HCMS__suhu-ruang-item__text",children:(0,tt.jsxs)("p",{children:[(0,tt.jsx)(tS,{}),n]})})]})})]})]})};function iS(e){return lt({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:"M7.56,17.19c0-0.88,0.24-1.89,0.72-3.03s1.1-2.25,1.86-3.31c1.56-2.06,2.92-3.62,4.06-4.67l0.75-0.72\n\tc0.25,0.26,0.53,0.5,0.83,0.72c0.41,0.42,1.04,1.11,1.88,2.09s1.57,1.85,2.17,2.65c0.71,1.01,1.32,2.1,1.81,3.25\n\ts0.74,2.16,0.74,3.03c0,1-0.19,1.95-0.58,2.86c-0.39,0.91-0.91,1.7-1.57,2.36c-0.66,0.66-1.45,1.19-2.37,1.58\n\tc-0.92,0.39-1.89,0.59-2.91,0.59c-1,0-1.95-0.19-2.86-0.57c-0.91-0.38-1.7-0.89-2.36-1.55c-0.66-0.65-1.19-1.44-1.58-2.35\n\tS7.56,18.23,7.56,17.19z M9.82,14.26c0,0.83,0.17,1.49,0.52,1.99c0.35,0.49,0.88,0.74,1.59,0.74c0.72,0,1.25-0.25,1.61-0.74\n\tc0.35-0.49,0.53-1.15,0.54-1.99c-0.01-0.84-0.19-1.5-0.54-2c-0.35-0.49-0.89-0.74-1.61-0.74c-0.71,0-1.24,0.25-1.59,0.74\n\tC9.99,12.76,9.82,13.42,9.82,14.26z M11.39,14.26c0-0.15,0-0.27,0-0.35s0.01-0.19,0.02-0.33c0.01-0.14,0.02-0.25,0.05-0.32\n\ts0.05-0.16,0.09-0.24c0.04-0.08,0.09-0.15,0.15-0.18c0.07-0.04,0.14-0.06,0.23-0.06c0.14,0,0.25,0.04,0.33,0.12s0.14,0.21,0.17,0.38\n\tc0.03,0.18,0.05,0.32,0.06,0.45s0.01,0.3,0.01,0.52c0,0.23,0,0.4-0.01,0.52c-0.01,0.12-0.03,0.27-0.06,0.45\n\tc-0.03,0.17-0.09,0.3-0.17,0.38s-0.19,0.12-0.33,0.12c-0.09,0-0.16-0.02-0.23-0.06c-0.07-0.04-0.12-0.1-0.15-0.18\n\tc-0.04-0.08-0.07-0.17-0.09-0.24c-0.02-0.08-0.04-0.19-0.05-0.32c-0.01-0.14-0.02-0.25-0.02-0.32S11.39,14.41,11.39,14.26z\n\t M11.98,22.01h1.32l4.99-10.74h-1.35L11.98,22.01z M16.28,19.02c0.01,0.84,0.2,1.5,0.55,2c0.35,0.49,0.89,0.74,1.6,0.74\n\tc0.72,0,1.25-0.25,1.6-0.74c0.35-0.49,0.52-1.16,0.53-2c-0.01-0.84-0.18-1.5-0.53-1.99c-0.35-0.49-0.88-0.74-1.6-0.74\n\tc-0.71,0-1.25,0.25-1.6,0.74C16.47,17.52,16.29,18.18,16.28,19.02z M17.85,19.02c0-0.23,0-0.4,0.01-0.52\n\tc0.01-0.12,0.03-0.27,0.06-0.45s0.09-0.3,0.17-0.38s0.19-0.12,0.33-0.12c0.09,0,0.17,0.02,0.24,0.06c0.07,0.04,0.12,0.1,0.16,0.19\n\tc0.04,0.09,0.07,0.17,0.1,0.24s0.04,0.18,0.05,0.32l0.01,0.32l0,0.34c0,0.16,0,0.28,0,0.35l-0.01,0.32l-0.05,0.32l-0.1,0.24\n\tl-0.16,0.19l-0.24,0.06c-0.14,0-0.25-0.04-0.33-0.12s-0.14-0.21-0.17-0.38c-0.03-0.18-0.05-0.33-0.06-0.45S17.85,19.25,17.85,19.02z\n\t"}}]})(e)}var aS=function(){var e=s((0,t.useState)(),2),n=e[0],r=e[1],i=function(){var e=wt(_t().mark((function e(){var t,n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rb(VE,"DHT");case 2:t=e.sent,console.log(t),lb(t,(function(e){n=e.val(),console.log(n.Hum),r(n.Hum)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){i()}),[n]),(0,tt.jsxs)("div",{className:"hcms__list-hidroponik",children:[(0,tt.jsxs)("div",{className:"hcms__list-hidroponik-list",children:[(0,tt.jsx)("div",{className:"header-wrapper",children:(0,tt.jsx)("div",{className:"header-logo-navbar",children:(0,tt.jsx)(Le,{to:"/",children:(0,tt.jsx)("h1",{children:"HCMS"})})})}),(0,tt.jsx)(Le,{to:"".concat(Be),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__monitor",children:"Monitor"})})}),(0,tt.jsx)(Le,{to:"".concat(We),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Cek Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(He),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Data Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(Ke),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Kontak"})})}),(0,tt.jsx)(Le,{to:"".concat(Ue),children:(0,tt.jsx)("div",{className:"hcms__dashboard-item__logout",children:(0,tt.jsx)("h3",{children:" Log Out "})})})]}),(0,tt.jsxs)("div",{className:"Kelembapan-page",children:[(0,tt.jsx)("div",{className:"Kelembapan-page__header",children:(0,tt.jsx)("h2",{children:"Kelembapan"})}),(0,tt.jsx)("section",{className:"hcms__list-kelembapan",children:(0,tt.jsxs)("div",{className:"hcms__list-kelembapan-item",children:[(0,tt.jsx)("h3",{className:"hcms__list-kelembapan-item__description",children:"Kelembapan"}),(0,tt.jsx)("section",{className:"hcms__list-kelembapan-item__text",children:(0,tt.jsxs)("p",{children:[(0,tt.jsx)(iS,{})," ",n]})})]})})]})]})};function oS(e){return lt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M400 320c0 88.37-55.63 144-144 144s-144-55.63-144-144c0-94.83 103.23-222.85 134.89-259.88a12 12 0 0118.23 0C296.77 97.15 400 225.17 400 320z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 328a72 72 0 01-72 72"}}]})(e)}var sS=function(){var e=s((0,t.useState)(),2),n=e[0],r=e[1],i=function(){var e=wt(_t().mark((function e(){var t,n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rb(VE,"WLev");case 2:t=e.sent,console.log(t),lb(t,(function(e){n=e.val(),console.log(n.WLev),r(n.WLev)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){i()}),[n]),(0,tt.jsxs)("div",{className:"hcms__list-hidroponik",children:[(0,tt.jsxs)("div",{className:"hcms__list-hidroponik-list",children:[(0,tt.jsx)("div",{className:"header-wrapper",children:(0,tt.jsx)("div",{className:"header-logo-navbar",children:(0,tt.jsx)(Le,{to:"/",children:(0,tt.jsx)("h1",{children:"HCMS"})})})}),(0,tt.jsx)(Le,{to:"".concat(Be),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__monitor",children:"Monitor"})})}),(0,tt.jsx)(Le,{to:"".concat(We),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Cek Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(He),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Data Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(Ke),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Kontak"})})}),(0,tt.jsx)(Le,{to:"".concat(Ue),children:(0,tt.jsx)("div",{className:"hcms__dashboard-item__logout",children:(0,tt.jsx)("h3",{children:" Log Out "})})})]}),(0,tt.jsxs)("div",{className:"Ketinggian-Air-page",children:[(0,tt.jsx)("div",{className:"Ketinggian-Air-page__header",children:(0,tt.jsx)("h2",{children:"Ketinggian Air"})}),(0,tt.jsx)("section",{className:"hcms__list-ketinggian-air",children:(0,tt.jsxs)("div",{className:"hcms__list-ketinggian-air-item",children:[(0,tt.jsx)("h3",{className:"hcms__list-ketinggian-air-item__description",children:"Ketinggian Air"}),(0,tt.jsx)("section",{className:"hcms__list-ketinggian-air-item__text",children:(0,tt.jsxs)("p",{children:[(0,tt.jsx)(oS,{})," ",n]})})]})})]})]})};var uS=function(e){var n=e.trigger,r=e.menu,i=s(t.useState(!1),2),a=i[0],o=i[1];return(0,tt.jsxs)("div",{className:"dropdown",children:[t.cloneElement(n,{onClick:function(){o(!a)}}),a?(0,tt.jsx)("ul",{className:"menu",children:r.map((function(e,n){return(0,tt.jsx)("li",{className:"menu-item",children:t.cloneElement(e,{onClick:function(){e.props.onClick(),o(!1)}})},n)}))}):null]})},lS=function(){return(0,tt.jsx)(uS,{trigger:(0,tt.jsx)("button",{children:"Metode Pengecekan"}),menu:[(0,tt.jsx)("button",{onClick:function(){console.log("clicked one")},children:"Otomatis"}),(0,tt.jsx)("button",{onClick:function(){console.log("clicked two")},children:"Manual"})]})},cS=n.p+"static/media/selada.1b5173c7c19153d323a7.jpg",hS=n.p+"static/media/sawi.40c27361d336da5c23fe.jpg",fS=n.p+"static/media/pakcoy.e7f7ffc05360c0eec068.jpg",dS=n.p+"static/media/tomat.3e609a8d85b6a31f9d8a.jpg";var pS=function(){return(0,tt.jsxs)("div",{className:"hcms__list-hidroponik",children:[(0,tt.jsxs)("div",{className:"hcms__list-hidroponik-list",children:[(0,tt.jsx)("div",{className:"header-wrapper",children:(0,tt.jsx)("div",{className:"header-logo-navbar",children:(0,tt.jsx)(Le,{to:"/",children:(0,tt.jsx)("h1",{children:"HCMS"})})})}),(0,tt.jsx)(Le,{to:"".concat(Be),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__monitor",children:"Monitor"})})}),(0,tt.jsx)(Le,{to:"".concat(We),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Cek Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(He),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Data Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(Ke),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Kontak"})})}),(0,tt.jsx)(Le,{to:"".concat(Ue),children:(0,tt.jsx)("div",{className:"hcms__dashboard-item__logout",children:(0,tt.jsx)("h3",{children:" Log Out "})})})]}),(0,tt.jsxs)("div",{className:"tanaman-hidroponik-page",children:[(0,tt.jsx)("div",{className:"tanaman-hidroponik-page__header",children:(0,tt.jsx)("h2",{children:"Tanaman Hidroponik"})}),(0,tt.jsxs)("section",{className:"hcms__list-tanaman-hidroponik",children:[(0,tt.jsxs)("div",{className:"hcms__list-tanaman-hidroponik-item",children:[(0,tt.jsx)("h3",{className:"hcms__list-tanaman-hidroponik-item__description",children:" Selada"}),(0,tt.jsx)("div",{className:"selada__image",children:(0,tt.jsx)("img",{src:cS,alt:"Gambar Selada"})}),(0,tt.jsx)("section",{className:"hcms__list-tanaman-hidroponik-item__text",children:(0,tt.jsxs)("p",{children:["Tips dan cara perawatannya.",(0,tt.jsx)(Le,{to:"".concat(Xe),children:" Lihat selengkapnya. "})," "]})})]}),(0,tt.jsxs)("div",{className:"hcms__list-tanaman-hidroponik-item",children:[(0,tt.jsx)("h3",{className:"hcms__list-tanaman-hidroponik-item__description",children:"Sawi"}),(0,tt.jsx)("div",{className:"sawi__image",children:(0,tt.jsx)("img",{src:hS,alt:"Gambar Sawi"})}),(0,tt.jsx)("section",{className:"hcms__list-tanaman-hidroponik-item__text",children:(0,tt.jsxs)("p",{children:["Tips dan cara perawatannya.",(0,tt.jsx)(Le,{to:"".concat(Je),children:" Lihat selengkapnya. "})," "]})})]}),(0,tt.jsxs)("div",{className:"hcms__list-tanaman-hidroponik-item",children:[(0,tt.jsx)("h3",{className:"hcms__list-tanaman-hidroponik-item__description",children:"Pakcoy"}),(0,tt.jsx)("div",{className:"pakcoy__image",children:(0,tt.jsx)("img",{src:fS,alt:"Gambar Pakcoy"})}),(0,tt.jsx)("section",{className:"hcms__list-tanaman-hidroponik-item__text",children:(0,tt.jsxs)("p",{children:["Tips dan cara perawatannya.",(0,tt.jsx)(Le,{to:"".concat(Ze),children:" Lihat selengkapnya. "})," "]})})]}),(0,tt.jsxs)("div",{className:"hcms__list-tanaman-hidroponik-item",children:[(0,tt.jsx)("h3",{className:"hcms__list-tanaman-hidroponik-item__description",children:"Tomat"}),(0,tt.jsx)("div",{className:"tomat__image",children:(0,tt.jsx)("img",{src:dS,alt:"Gambar Tomat"})}),(0,tt.jsx)("section",{className:"hcms__list-tanaman-hidroponik-item__text",children:(0,tt.jsxs)("p",{children:["Tips dan cara perawatannya.",(0,tt.jsx)(Le,{to:"".concat(et),children:" Lihat selengkapnya. "})," "]})})]})]})]})]})};var vS=function(){return(0,tt.jsxs)("div",{className:"selada-page",children:[(0,tt.jsx)("div",{className:"selada-page__header",children:(0,tt.jsx)("h2",{children:"Selada"})}),(0,tt.jsx)("section",{className:"hcms__list-selada",children:(0,tt.jsxs)("div",{className:"hcms__list-selada-item",children:[(0,tt.jsx)("div",{className:"selada__image",children:(0,tt.jsx)("img",{src:cS,alt:"Gambar Selada"})}),(0,tt.jsxs)("section",{className:"hcms__list-selada-item__text",children:[(0,tt.jsx)("p",{children:"Selada (Lactuca sativa) merupakan  sayuran daun yang tergolong ke dalam  genus Lactuca. Selada ini termasuk tanaman semusim  yang memiliki berbagai bentuk, khususnya bentuk daun. Tanaman ini banyak dibudidayakan petani terutama di daerah dataran tinggi atau sekitar pegunungan. Budidaya selada hidroponik merupakan cara baru dalam teknik penanaman yang dilakukan tanpa media tanah. Teknik ini pada dasarnya hanya memanfaatkan air sebagai media tumbuh tanaman. Sistem Hidroponik menggunakan air lebih efisien, sehingga cocok diterapkan pada daerah yang memiliki pasokan air terbatas.  Jika dibandingkan dengan penanaman secara konvensional, hidroponik lebih dapat memberi keuntungan seperti pemanfaatan lahan sempit, pemeliharaan tanaman yang tergolong mudah dan hasil panen higienis sehingga sayuran yang dipanen lebih bersih dan sehat."}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(tS,{})," 25\xb0C - 27\xb0C"]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(iS,{})," 65% - 78%"]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(oS,{})," 5 cm"]})]})]})})]})};var mS=function(){return(0,tt.jsxs)("div",{className:"sawi-page",children:[(0,tt.jsx)("div",{className:"sawi-page__header",children:(0,tt.jsx)("h2",{children:"Sawi"})}),(0,tt.jsx)("section",{className:"hcms__list-sawi",children:(0,tt.jsxs)("div",{className:"hcms__list-sawi-item",children:[(0,tt.jsx)("div",{className:"sawi__image",children:(0,tt.jsx)("img",{src:hS,alt:"Gambar Sawi"})}),(0,tt.jsxs)("section",{className:"hcms__list-sawi-item__text",children:[(0,tt.jsx)("p",{children:"Tanaman sawi merupakan salah satu jenis tanaman sayur yang saat ini banyak dikembangkan dengan sistem hidroponik. Hal ini karena selain perawatannya yang mudah, permintaan pasar akan tanaman sawi juga cukup tinggi.Sebagai tanaman sayur, sawi biasanya banyak dimanfaatkan dalam berbagai olahan makanan seperti tumis, mie ayam, bakso, sup, capcay dll. Tanaman sawi sendiri sebenarnya ada bermacam-macam jenisnya. Ada sawi hijau (brassica juncea) atau sering disebut juga dengan sawi bakso, caisim, atau caisin. Sawi putih (brassica rapa) atau disebut juga dengan petsai. Kailan (brassica oleracea) adalah jenis sawi lain yang agak berbeda, karena memiliki daun yang lebih tebal dan lebih cocok menjadi bahan campuran mi goreng."}),(0,tt.jsx)("p",{children:"Dari jenis-jenis sawi di atas, jenis sawi yang biasa dibudidayakan adalah sawi hijau (Caisim). Semua jenis sawi tersebut dapat dibudidayakan dengan sistem hidroponik. Tapi umumnya, jenis sawi yang banyak dikembangkan adalah jenis sawi hijau (caisim) dan sawi sendok (pokcay). Cara menanam sawi hidroponik dengan sistem sumbu. Karena sistem ini merupakan sistem hidroponik yang paling sederhana dan mudah dilakukan, terutama bagi ibu ibu di rumah atau yang baru akan memulai menanam dengan sistem hidroponik."}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(tS,{})," 16\xb0C - 28\xb0C"]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(iS,{})," 80% - 90%"]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(oS,{})," 5 cm"]})]})]})})]})};var yS=function(){return(0,tt.jsxs)("div",{className:"pakcoy-page",children:[(0,tt.jsx)("div",{className:"pakcoy-page__header",children:(0,tt.jsx)("h2",{children:"Pakcoy"})}),(0,tt.jsx)("section",{className:"hcms__list-pakcoy",children:(0,tt.jsxs)("div",{className:"hcms__list-pakcoy-item",children:[(0,tt.jsx)("div",{className:"pakcoy__image",children:(0,tt.jsx)("img",{src:fS,alt:"Gambar Pakcoy"})}),(0,tt.jsxs)("section",{className:"hcms__list-pakcoy-item__text",children:[(0,tt.jsx)("p",{children:"Pakcoy (Brassica rapa L) merupakan sayuran yang tampilannya sangat mirip dengan sawi. Jika sawi batangnya lebih ramping dan memanjang, pakcoy memiliki batang yang lebih besar dan pendek, serta struktur daunnya lebar. Tanaman yang terkenal dengan sebutan sawi daging ini memiliki rahasia ajaib yang masih jarang diketahui masyarakat antara lain yaitu kandungan vitamin A tinggi mampu menjaga kornea mata agar selalu sehat. Kandungan vitamin E pada pakcoy berfungsi sebagai antioksidan di dalam sel, kandungan vitamin K yang sangat tinggi berguna dalam membantu proses pembekuan darah, mencegah penyakit jantung dan stroke. Selain itu, tanaman yang mengandung folat sangat baik dikonsumsi oleh ibu hamil, karena folat berfungsi untuk mencegah terjadinya cacat tabung saraf, kelainan pembentukan otak atau terjadinya kemungkinan kelainan tulang belakang pada janin."}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(tS,{})," 10\xb0C - 21\xb0C"]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(iS,{})," 80% - 90%"]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(oS,{})," 5 cm"]})]})]})})]})};var gS=function(){return(0,tt.jsxs)("div",{className:"hcms__list-hidroponik",children:[(0,tt.jsxs)("div",{className:"hcms__list-hidroponik-list",children:[(0,tt.jsx)("div",{className:"header-wrapper",children:(0,tt.jsx)("div",{className:"header-logo-navbar",children:(0,tt.jsx)(Le,{to:"/",children:(0,tt.jsx)("h1",{children:"HCMS"})})})}),(0,tt.jsx)(Le,{to:"".concat(Be),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__monitor",children:"Monitor"})})}),(0,tt.jsx)(Le,{to:"".concat(We),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Cek Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(He),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Data Tanaman"})})}),(0,tt.jsx)(Le,{to:"".concat(Ke),children:(0,tt.jsx)("div",{className:"hcms__list-hidroponik-item",children:(0,tt.jsx)("h3",{className:"hcms__list-hidroponik-item__description",children:"Kontak"})})}),(0,tt.jsx)(Le,{to:"".concat(Ue),children:(0,tt.jsx)("div",{className:"hcms__dashboard-item__logout",children:(0,tt.jsx)("h3",{children:" Log Out "})})})]}),(0,tt.jsxs)("div",{className:"tomat-page",children:[(0,tt.jsx)("div",{className:"tomat-page__header",children:(0,tt.jsx)("h2",{children:"Tomat"})}),(0,tt.jsx)("section",{className:"hcms__list-tomat",children:(0,tt.jsxs)("div",{className:"hcms__list-tomat-item",children:[(0,tt.jsx)("div",{className:"tomat__image",children:(0,tt.jsx)("img",{src:dS,alt:"Gambar Tomat"})}),(0,tt.jsxs)("section",{className:"hcms__list-tomat-item__text",children:[(0,tt.jsx)("p",{children:"Tomat hidroponik adalah tomat yang tumbuh dalam larutan nutrisi dan bukan di tanah, meskipun mereka biasanya ditempatkan dalam bahan yang bukan tanah yang dapat mendukung akarnya dan memberi nutrisi."}),(0,tt.jsxs)("div",{className:"keterangan",children:[(0,tt.jsxs)("p",{children:[(0,tt.jsx)(tS,{})," Suhu : 18\xb0C - 25\xb0C"]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(iS,{})," Kelembapan : 25%"]}),(0,tt.jsxs)("p",{children:[(0,tt.jsx)(oS,{})," Ketinggian Air : 5 cm"]})]})]})]})})]})]})};var kS=function(){var e=s((0,t.useState)(localStorage.getItem("locale")||"id"),2),n=e[0],r=e[1],i=t.useMemo((function(){return{locale:n,toggleLocale:function(){var e="id"===n?"en":"id";localStorage.setItem("locale",e),r(e)}}}),[n]);return(0,tt.jsx)(qE.Provider,{value:i,children:(0,tt.jsxs)("div",{className:"app-container",children:[(0,tt.jsx)("header",{children:(0,tt.jsx)(rt,{})}),(0,tt.jsx)("main",{children:(0,tt.jsxs)(Ne,{children:[(0,tt.jsx)(Te,{path:"/",element:(0,tt.jsx)(nt,{})}),(0,tt.jsx)(Te,{path:Ue,element:(0,tt.jsx)(gt,{})}),(0,tt.jsx)(Te,{path:Ve,element:(0,tt.jsx)(HE,{})}),(0,tt.jsx)(Te,{path:ze,element:(0,tt.jsx)(KE,{})}),(0,tt.jsx)(Te,{path:qe,element:(0,tt.jsx)(GE,{})}),(0,tt.jsx)(Te,{path:We,element:(0,tt.jsx)(YE,{})}),(0,tt.jsx)(Te,{path:He,element:(0,tt.jsx)($E,{})}),(0,tt.jsx)(Te,{path:Be,element:(0,tt.jsx)(XE,{})}),(0,tt.jsx)(Te,{path:Ke,element:(0,tt.jsx)(nS,{})}),(0,tt.jsx)(Te,{path:Ge,element:(0,tt.jsx)(rS,{})}),(0,tt.jsx)(Te,{path:Qe,element:(0,tt.jsx)(aS,{})}),(0,tt.jsx)(Te,{path:Ye,element:(0,tt.jsx)(sS,{})}),(0,tt.jsx)(Te,{path:"/setting",element:(0,tt.jsx)(lS,{})}),(0,tt.jsx)(Te,{path:$e,element:(0,tt.jsx)(pS,{})}),(0,tt.jsx)(Te,{path:Xe,element:(0,tt.jsx)(vS,{})}),(0,tt.jsx)(Te,{path:Je,element:(0,tt.jsx)(mS,{})}),(0,tt.jsx)(Te,{path:Ze,element:(0,tt.jsx)(yS,{})}),(0,tt.jsx)(Te,{path:et,element:(0,tt.jsx)(gS,{})})]})})]})})};(0,i.s)(document.getElementById("root")).render((0,tt.jsx)(je,{children:(0,tt.jsx)(kS,{})}))}()}();
//# sourceMappingURL=main.5e67fa26.js.map